(self.webpackChunkzxuqian_cn=self.webpackChunkzxuqian_cn||[]).push([[6154],{2122:function(e,n,t){"use strict";function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}t.d(n,{Z:function(){return a}})},9756:function(e,n,t){"use strict";function a(e,n){if(null==e)return{};var t,a,p={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(p[t]=e[t]);return p}t.d(n,{Z:function(){return a}})},3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return d},kt:function(){return u}});var a=t(7294);function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,p=function(e,n){if(null==e)return{};var t,a,p={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(p[t]=e[t]);return p}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(p[t]=e[t])}return p}var o=a.createContext({}),s=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=s(e.components);return a.createElement(o.Provider,{value:n},e.children)},k={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,p=e.mdxType,r=e.originalType,o=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=s(t),u=p,N=m["".concat(o,".").concat(u)]||m[u]||k[u]||r;return t?a.createElement(N,i(i({ref:n},d),{},{components:t})):a.createElement(N,i({ref:n},d))}));function u(e,n){var t=arguments,p=n&&n.mdxType;if("string"==typeof e||p){var r=t.length,i=new Array(r);i[0]=m;var l={};for(var o in n)hasOwnProperty.call(n,o)&&(l[o]=n[o]);l.originalType=e,l.mdxType="string"==typeof e?e:p,i[1]=l;for(var s=2;s<r;s++)i[s]=t[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},684:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return i},contentTitle:function(){return l},metadata:function(){return o},toc:function(){return s},default:function(){return k}});var a=t(2122),p=t(9756),r=(t(7294),t(3905)),i={slug:"/ts-types",layout:"Post",title:"TypeScript \u4e00\u4e9b\u9ad8\u7ea7\u7c7b\u578b\u5de5\u5177\u5b9e\u73b0",subtitle:"\u5b66\u4e60 TS \u77e5\u8bc6\u4e4b\u540e\u505a\u9898\u5de9\u56fa",date:new Date("2022-02-10T00:00:00.000Z"),author:"Lucas",author_title:"\u4e00\u679a\u5c0f\u524d\u7aef",author_url:"https://github.com/ihoneys",author_image_url:"img/ihoneys.png",catalog:!0,tags:["TypeScript"]},l=void 0,o={permalink:"/ts-types",source:"@site/blog/2022-02-10-TypeScript.md",title:"TypeScript \u4e00\u4e9b\u9ad8\u7ea7\u7c7b\u578b\u5de5\u5177\u5b9e\u73b0",description:"\ud83c\udf54 \u524d\u8a00",date:"2022-02-10T00:00:00.000Z",formattedDate:"2022\u5e742\u670810\u65e5",tags:[{label:"TypeScript",permalink:"/tags/type-script"}],readingTime:31.845,truncated:!0,prevItem:{title:"React \u4f7f\u7528 SVG \u7684\u59ff\u52bf",permalink:"/react-use-svg"},nextItem:{title:"CSS UI\u5b9e\u73b0\u4e2d\u7684\u4e00\u4e9b\u5c0f\u6280\u5de7",permalink:"/css-skill"}},s=[{value:"\ud83c\udf54 \u524d\u8a00",id:"-\u524d\u8a00",children:[]},{value:"\u7b2c\u4e00\u9898",id:"\u7b2c\u4e00\u9898",children:[]},{value:"\u7b2c\u4e8c\u9898",id:"\u7b2c\u4e8c\u9898",children:[]},{value:"\u7b2c\u4e09\u9898",id:"\u7b2c\u4e09\u9898",children:[]},{value:"\u7b2c\u56db\u9898",id:"\u7b2c\u56db\u9898",children:[]},{value:"\u7b2c\u4e94\u9898",id:"\u7b2c\u4e94\u9898",children:[]},{value:"\u7b2c\u516d\u9898",id:"\u7b2c\u516d\u9898",children:[]},{value:"\u7b2c\u4e03\u9898",id:"\u7b2c\u4e03\u9898",children:[]},{value:"\u7b2c\u516b\u9898",id:"\u7b2c\u516b\u9898",children:[]},{value:"\u7b2c\u4e5d\u9898",id:"\u7b2c\u4e5d\u9898",children:[]},{value:"\u7b2c\u5341\u9898",id:"\u7b2c\u5341\u9898",children:[]},{value:"\u7b2c\u5341\u4e00\u9898",id:"\u7b2c\u5341\u4e00\u9898",children:[]},{value:"\u7b2c\u5341\u4e8c\u9898",id:"\u7b2c\u5341\u4e8c\u9898",children:[]},{value:"\u7b2c\u5341\u4e09\u9898",id:"\u7b2c\u5341\u4e09\u9898",children:[]},{value:"\u7b2c\u5341\u56db\u9898",id:"\u7b2c\u5341\u56db\u9898",children:[]},{value:"\u7b2c\u5341\u4e94\u9898",id:"\u7b2c\u5341\u4e94\u9898",children:[]},{value:"\u7b2c\u5341\u516d\u9898",id:"\u7b2c\u5341\u516d\u9898",children:[]},{value:"\u7b2c\u5341\u4e03\u9898",id:"\u7b2c\u5341\u4e03\u9898",children:[]},{value:"\u7b2c\u5341\u516b\u9898",id:"\u7b2c\u5341\u516b\u9898",children:[]},{value:"\u7b2c\u5341\u4e5d\u9898",id:"\u7b2c\u5341\u4e5d\u9898",children:[]},{value:"\u7b2c\u4e8c\u5341\u9898",id:"\u7b2c\u4e8c\u5341\u9898",children:[]},{value:"\u7b2c\u4e8c\u5341\u4e00\u9898",id:"\u7b2c\u4e8c\u5341\u4e00\u9898",children:[]},{value:"\u7b2c\u4e8c\u5341\u4e8c\u9898",id:"\u7b2c\u4e8c\u5341\u4e8c\u9898",children:[]},{value:"\u7b2c\u4e8c\u5341\u4e09\u9898",id:"\u7b2c\u4e8c\u5341\u4e09\u9898",children:[]},{value:"\u7b2c\u4e8c\u5341\u56db\u9898",id:"\u7b2c\u4e8c\u5341\u56db\u9898",children:[]},{value:"\u7b2c\u4e8c\u5341\u4e94\u9898",id:"\u7b2c\u4e8c\u5341\u4e94\u9898",children:[]},{value:"\u7b2c\u4e8c\u5341\u516d\u9898",id:"\u7b2c\u4e8c\u5341\u516d\u9898",children:[]},{value:"\u7b2c\u4e8c\u5341\u4e03\u9898",id:"\u7b2c\u4e8c\u5341\u4e03\u9898",children:[]},{value:"\u7b2c\u4e8c\u5341\u516b\u9898",id:"\u7b2c\u4e8c\u5341\u516b\u9898",children:[]},{value:"\u7b2c\u4e8c\u5341\u4e5d\u9898",id:"\u7b2c\u4e8c\u5341\u4e5d\u9898",children:[]},{value:"\u7b2c\u4e09\u5341\u9898",id:"\u7b2c\u4e09\u5341\u9898",children:[]},{value:"\u7b2c\u4e09\u5341\u4e00\u9898",id:"\u7b2c\u4e09\u5341\u4e00\u9898",children:[]},{value:"\u7b2c\u4e09\u5341\u4e8c\u9898",id:"\u7b2c\u4e09\u5341\u4e8c\u9898",children:[]},{value:"\u7b2c\u4e09\u5341\u4e09\u9898",id:"\u7b2c\u4e09\u5341\u4e09\u9898",children:[]},{value:"\u7b2c\u4e09\u5341\u56db\u9898",id:"\u7b2c\u4e09\u5341\u56db\u9898",children:[]},{value:"\u7b2c\u4e09\u5341\u4e94\u9898",id:"\u7b2c\u4e09\u5341\u4e94\u9898",children:[]},{value:"\u7b2c\u4e09\u5341\u516d\u9898",id:"\u7b2c\u4e09\u5341\u516d\u9898",children:[]},{value:"\u7b2c\u4e09\u5341\u4e03\u9898",id:"\u7b2c\u4e09\u5341\u4e03\u9898",children:[]},{value:"\u7b2c\u4e09\u5341\u516b\u9898",id:"\u7b2c\u4e09\u5341\u516b\u9898",children:[]},{value:"\u7b2c\u4e09\u5341\u4e5d\u9898",id:"\u7b2c\u4e09\u5341\u4e5d\u9898",children:[]},{value:"\u7b2c\u56db\u5341\u9898",id:"\u7b2c\u56db\u5341\u9898",children:[]},{value:"\u7b2c\u56db\u5341\u4e00\u9898",id:"\u7b2c\u56db\u5341\u4e00\u9898",children:[]},{value:"\u7b2c\u56db\u5341\u4e8c\u9898",id:"\u7b2c\u56db\u5341\u4e8c\u9898",children:[]},{value:"\u7b2c\u56db\u5341\u4e09\u9898",id:"\u7b2c\u56db\u5341\u4e09\u9898",children:[]},{value:"\u7b2c\u56db\u5341\u56db\u9898",id:"\u7b2c\u56db\u5341\u56db\u9898",children:[]},{value:"\u7b2c\u56db\u5341\u4e94\u9898",id:"\u7b2c\u56db\u5341\u4e94\u9898",children:[]},{value:"\u7b2c\u56db\u5341\u516d\u9898",id:"\u7b2c\u56db\u5341\u516d\u9898",children:[]},{value:"\u7b2c\u56db\u5341\u4e03\u9898",id:"\u7b2c\u56db\u5341\u4e03\u9898",children:[]},{value:"\u7b2c\u56db\u5341\u516b\u9898",id:"\u7b2c\u56db\u5341\u516b\u9898",children:[]},{value:"\u672b\u5c3e",id:"\u672b\u5c3e",children:[]}],d={toc:s};function k(e){var n=e.components,t=(0,p.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"-\u524d\u8a00"},"\ud83c\udf54 \u524d\u8a00"),(0,r.kt)("p",null,"\u6839\u636e\u4ee5\u4e0b\u9898\u76ee\u89e3\u9898\u4e2d\u4f60\u53ef\u4ee5\u5b66\u4e60\u4e86\u89e3\u5230\u5e76\u5e94\u7528\u7684\u77e5\u8bc6\u70b9\u6709\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6cdb\u578b\u5e94\u7528")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8054\u5408\u7c7b\u578b\u3001\u4ea4\u53c9\u7c7b\u578b\u4f7f\u7528")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u51fd\u6570\u91cd\u8f7d")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5143\u7ec4")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"extends"),"\u5206\u5e03\u5f0f\u6761\u4ef6\u7c7b\u578b\u3001\u7ea6\u675f")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"in"),"\u5173\u952e\u5b57")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"as"),"\u65ad\u8a00")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"keyof"),"\u5173\u952e\u5b57")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"infer"),"\u5173\u952e\u5b57")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-?"),"\u64cd\u4f5c\u7b26")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-readonly")," \u5220\u9664\u53ea\u8bfb\u7b26\u53f7")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5faa\u73af\u904d\u5386\u4e2d\u5c5e\u6027\u503c\u7c7b\u578b\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u4f1a\u88ab\u7701\u7565")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"[number]"),"\u83b7\u53d6\u6240\u6709\u6570\u7ec4\u7c7b\u578b\u7d22\u5f15\u503c")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e0e",(0,r.kt)("inlineCode",{parentName:"p"},"any"),"\u4ea4\u53c9\u7c7b\u578b\u65f6\u7684\u60c5\u51b5")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4ec0\u4e48\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"Flasy"),"\u7c7b\u578b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u534f\u53d8\u9006\u53d8"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"TypeScript \u5185\u7f6e\u5de5\u5177\u7c7b\u578b\u7684\u4f7f\u7528")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Omit"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Pick"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Required"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Extract"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Exclude"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Parameters"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"ReturnType")))),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4e0b\u9762\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\u4ee5\u53ca\u8be5\u9898\u5b9e\u73b0\u7684\u903b\u8f91\u5206\u6790\u89c9\u5f97\u9519\u8bef\uff0c\u6216\u4e66\u5199\u6709\u8bef\uff0c\u5e0c\u671b\u5927\u4f6c\u5e2e\u5fd9\u6307\u6b63 \ud83d\ude00\uff0c\u6709\u66f4\u597d\u7684\u5b9e\u73b0\u65b9\u5f0f\u548c\u4e0d\u660e\u767d\u7684\u5730\u65b9\u6b22\u8fce\u8bc4\u8bba\u533a\u7559\u8a00\u3002")),(0,r.kt)("h2",{id:"\u7b2c\u4e00\u9898"},"\u7b2c\u4e00\u9898"),(0,r.kt)("p",null,"\u4ee5\u4e0b\u4ee3\u7801\u4e3a\u4ec0\u4e48\u4f1a\u63d0\u793a\u9519\u8bef\uff0c\u5e94\u8be5\u5982\u4f55\u89e3\u51b3\u4e0b\u8ff0\u95ee\u9898\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type User = {\n  id: number;\n  kind: string;\n};\n\nfunction makeCustomer<T extends User>(u: T): T {\n  // Error\uff08TS \u7f16\u8bd1\u5668\u7248\u672c\uff1av4.4.2\uff09\n  // Type '{ id: number; kind: string; }' is not assignable to type 'T'.\n  // '{ id: number; kind: string; }' is assignable to the constraint of type 'T',\n  // but 'T' could be instantiated with a different subtype of constraint 'User'.\n  return {\n    id: u.id,\n    kind: \"customer\",\n  };\n}\n")),(0,r.kt)("p",null,"\u4e0a\u9762\u4ee3\u7801\u51fa\u73b0\u9519\u8bef\u539f\u56e0\uff1a\u6cdb\u578b ",(0,r.kt)("inlineCode",{parentName:"p"},"T")," \u53ea\u662f\u7ea6\u675f\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"User"),"\u7c7b\u578b\uff0c\u5e76\u4e0d\u662f\u5c40\u9650\u4e8e ",(0,r.kt)("inlineCode",{parentName:"p"},"User"),"\u7c7b\u578b\uff0c\u6240\u4ee5\u8fd4\u56de\u7ed3\u679c \u5e94\u8be5\u8fd8\u9700\u8981\u63a5\u6536\u5176\u4ed6\u7c7b\u578b\u53d8\u91cf\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u529e\u6cd5"),"\uff1a"),(0,r.kt)("p",null,"\u7b2c\u4e00\u79cd\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"T")," \u7c7b\u578b\u517c\u5bb9 ",(0,r.kt)("inlineCode",{parentName:"p"},"User "),"\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function makeCustomer<T extends User>(u: T): T {\n  // Error\uff08TS \u7f16\u8bd1\u5668\u7248\u672c\uff1av4.4.2\uff09\n  // Type '{ id: number; kind: string; }' is not assignable to type 'T'.\n  // '{ id: number; kind: string; }' is assignable to the constraint of type 'T',\n  // but 'T' could be instantiated with a different subtype of constraint 'User'.\n  return {\n    ...u,\n    id: u.id,\n    kind: \"customer\",\n  };\n}\n")),(0,r.kt)("p",null,"\u7b2c\u4e8c\u79cd\uff0c\u8fd4\u56de\u503c\u7c7b\u578b\u4fee\u6539\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"User"),"\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function makeCustomer<T extends User>(u: T): User {\n  // Error\uff08TS \u7f16\u8bd1\u5668\u7248\u672c\uff1av4.4.2\uff09\n  // Type '{ id: number; kind: string; }' is not assignable to type 'T'.\n  // '{ id: number; kind: string; }' is assignable to the constraint of type 'T',\n  // but 'T' could be instantiated with a different subtype of constraint 'User'.\n  return {\n    id: u.id,\n    kind: \"customer\",\n  };\n}\nfunction makeCustomer<T extends User>(u: T): ReturnMake<T, User> {\n  // Error\uff08TS \u7f16\u8bd1\u5668\u7248\u672c\uff1av4.4.2\uff09\n  // Type '{ id: number; kind: string; }' is not assignable to type 'T'.\n  // '{ id: number; kind: string; }' is assignable to the constraint of type 'T',\n  // but 'T' could be instantiated with a different subtype of constraint 'User'.\n  return {\n    id: u.id,\n    kind: \"customer\",\n  };\n}\n\ntype ReturnMake<T extends User, U> = {\n  [K in keyof U as K extends keyof T ? K : never]: U[K];\n};\n\nmakeCustomer({ id: 18584132, kind: \"888\", price: 99 });\n")),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"ReturnMake"),"\u5de5\u5177\u7c7b\u578b\uff0c\u63a5\u6536 ",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"U")," \u4e24\u4e2a\u6cdb\u578b\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"T")," \u7ea6\u675f\u4e8e ",(0,r.kt)("inlineCode",{parentName:"p"},"User"),"\uff0c"),(0,r.kt)("p",null,"2\u3001\u904d\u5386 ",(0,r.kt)("inlineCode",{parentName:"p"},"User "),"\u4e2d\u7684 key \uff0c\u5e76\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"as")," \u65ad\u8a00\uff0c\u5982\u679c",(0,r.kt)("inlineCode",{parentName:"p"},"K"),"\uff08\u4e5f\u5c31\u662f User \u7c7b\u578b\u7684 key\uff09\uff0c\u7ea6\u675f\u4e8e \u6cdb\u578b\u7c7b\u578b\u7684 key \u5c31\u8fd4\u56de ",(0,r.kt)("inlineCode",{parentName:"p"},"K"),"\uff0c\u5426\u4fa7\u8fd4\u56de ",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"U[K]")," \u53d6\u952e\u503c\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e8c\u9898"},"\u7b2c\u4e8c\u9898"),(0,r.kt)("p",null,"\u672c\u9053\u9898\u6211\u4eec\u5e0c\u671b\u53c2\u6570 a \u548c b \u7684\u7c7b\u578b\u90fd\u662f\u4e00\u81f4\u7684\uff0c\u5373 a \u548c b \u540c\u65f6\u4e3a number \u6216 string \u7c7b\u578b\u3002\u5f53\u5b83\u4eec\u7684\u7c7b\u578b\u4e0d\u4e00\u81f4\u7684\u503c\uff0cTS \u7c7b\u578b\u68c0\u67e5\u5668\u80fd\u81ea\u52a8\u63d0\u793a\u5bf9\u5e94\u7684\u9519\u8bef\u4fe1\u606f\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"\u6761\u4ef6function f(a: string | number, b: string | number) {\n  if (typeof a === 'string') {\n    return a + ':' + b; // no error but b can be number!\n  } else {\n    return a + b; // error as b can be number | string\n  }\n}\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u529e\u6cd5"),"\uff1a",(0,r.kt)("strong",{parentName:"p"},"\u51fd\u6570\u91cd\u8f7d")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'function f(a: string, b: string): string;\nfunction f(a: number, b: number): number;\nfunction f(a: string | number, b: string | number) {\n  if (typeof a === "string" || typeof b === "string") {\n    return a + ":" + b;\n  } else {\n    return a + b;\n  }\n}\n\nf(2, 3); // Ok\nf(1, "a"); // Error\nf("a", 2); // Error\nf("a", "b"); // Ok\n')),(0,r.kt)("p",null,"\u4f7f\u7528\u51fd\u6570\u91cd\u8f7d\u5f53\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u4f1a\u4f9d\u6b21\u5339\u914d\u5b9a\u4e49",(0,r.kt)("inlineCode",{parentName:"p"},"f"),"\u51fd\u6570\u7c7b\u578b\uff0c\u5185\u90e8\uff0c\u4f7f\u7528 typeof \u5224\u65ad a \u548c b \u7684\u7c7b\u578b\u5bf9\u5e94\u903b\u8f91\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u9898"},"\u7b2c\u4e09\u9898"),(0,r.kt)("p",null,"\u5982\u4f55\u5b9a\u4e49\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"SetOptional")," \u5de5\u5177\u7c7b\u578b\uff0c\u652f\u6301\u628a\u7ed9\u5b9a\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"keys"),"\u5bf9\u5e94\u7684\u5c5e\u6027\u53d8\u6210\u53ef\u9009\u7684\uff1f\u5bf9\u5e94\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Foo = {\n  a: number;\n  b?: string;\n  c: boolean;\n};\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype SomeOptional = SetOptional<Foo, "a" | "b">;\n\n// type SomeOptional = {\n//  a?: number; // \u8be5\u5c5e\u6027\u5df2\u53d8\u6210\u53ef\u9009\u7684\n//  b?: string; // \u4fdd\u6301\u4e0d\u53d8\n//  c: boolean;\n// }\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"SetOptional"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// \u7b2c\u4e00\u79cd Omit + Partial + Pick\ntype SetOptional<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>;\n\n// \u7b2c\u4e8c\u79cd\ntype SetOptionalOmit<T, K extends keyof T> = Pick<T, K> & Partial<Omit<T, K>>;\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"SetOptional"),"\u5de5\u5177\u7c7b\u578b\uff1a\u63a5\u6536\u4e24\u4e2a\u6cdb\u578b \uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u4e3a\u76ee\u6807\u7c7b\u578b\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"K")," \u4e3a\u6307\u5b9a\u7684 keys\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"K")," \u9700\u8981 \u7ea6\u675f\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"T")," \u7c7b\u578b\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"keys"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"Omit<T, K> & Partial<Pick<T, K>>"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"/**\n * Omit \u4e3a\u53cd\u9009\u7684\u610f\u601d\uff0c\n * \u4ee5\u4e0a\u9762\u6d4b\u8bd5\u7528\u4f8b\u8bb2\u89e3\n * 1.\u9996\u5148 Omit<T,K> => Omit<Foo, 'a'| 'b'> => { c: boolean }\n * Partial<Pick<T, K>> \u8fd9\u91cc\u662f\u5d4c\u5957\uff0c\u6211\u4eec\u5148\u770b\u770b Pick<T, K>\n * 2.Pick<T, K> => Pick<Foo, 'a' | 'b'> => { a: number, b?: string } =>\n * 3.Partial<{ a: number, b?: string }> \u6240\u6709\u53d8\u6210\u53ef\u9009 => { a?: number, b?: string }\n * 4.\u6700\u540e\u6211\u4eec\u5f97\u5230\uff1a{ c: boolean } & { a?: number, b?: string }\n * 5.\u5408\u5e76\u5f97\u5230\u4e4b\u540e: { a?: number, b?: string , c: boolean}\n */\n")),(0,r.kt)("p",null,"\u7b2c\u4e8c\u79cd",(0,r.kt)("inlineCode",{parentName:"p"},"SetOptionalOmit"),"\u7684\u610f\u601d \u548c\u7b2c\u4e00\u79cd\u5dee\u4e0d\u591a\u7406\u89e3\u4e3a\u4e0a\u9762\u7684\u6b65\u9aa4\u662f\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"2 -> 1 -> 3 -> 4 -> 5"),"\u3002"),(0,r.kt)("p",null,"\u5728\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"SetOptional"),"\u5de5\u5177\u7c7b\u578b\u4e4b\u540e\uff0c\u611f\u5174\u8da3\u8fd8\u53ef\u4ee5\u5b9e\u73b0\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"SetRequired"),"\u5de5\u5177\u7c7b\u578b\uff0c\u628a\u7ed9\u6307\u5b9a\u7684 keys \u5bf9\u5e94\u5c5e\u6027\u53d8\u6210\u5fc5\u586b\u3002"),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"SetRequired"),"\u5de5\u5177\u65b9\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// \u7b2c\u4e00\u79cd\ntype SetRequired<T, K extends keyof T> = Omit<T, K> & Required<Pick<T, K>>;\n\n// \u7b2c\u4e8c\u79cd\ntype SetRequiredOmit<T, K extends keyof T> = Pick<T, K> & Required<Omit<T, K>>;\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Required"),"\u5de5\u5177\u7c7b\u578b\uff0c\u5c31\u662f\u628a\u6240\u6709\u63a5\u53e3\u7c7b\u578b\u5c5e\u6027\u53d8\u6210\u5fc5\u9009\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u56db\u9898"},"\u7b2c\u56db\u9898"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Pick<T, K extends keyof T>"),"\u7684\u4f5c\u7528\u662f\u5c06\u67d0\u4e2a\u7c7b\u578b\u4e2d\u7684\u5b50\u5c5e\u6027\u6311\u51fa\u6765\uff0c\u53d8\u6210\u5305\u542b\u8fd9\u4e2a\u7c7b\u578b\u90e8\u5206\u5c5e\u6027\u7684\u5b50\u7c7b\u578b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'interface Todo {\n  title: string;\n  description: string;\n  completed: boolean;\n}\n\ntype TodoPreview = Pick<Todo, "title" | "completed">;\n\nconst todo: TodoPreview = {\n  title: "Clean room",\n  completed: false,\n};\n')),(0,r.kt)("p",null,"\u90a3\u4e48\u5982\u4f55\u5b9a\u4e49\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"ConditionalPick"),"\u5de5\u5177\u7c7b\u578b\uff0c\u652f\u6301\u6839\u636e\u6307\u5b9a\u7684 Condition \u6761\u4ef6\u6765\u751f\u6210\u65b0\u7684\u7c7b\u578b\uff0c\u5bf9\u5e94\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Example {\n  a: string;\n  b: string | number;\n  c: () => void;\n  d: {};\n}\n\n// \u6d4b\u8bd5\u7528\u4f8b\uff1a\ntype StringKeysOnly = ConditionalPick<Example, string>;\n//=> {a: string}\n")),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"ConditionalPick"),"\u5de5\u5177\u7c7b\u578b\u65b9\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type ConditionalPick<V, T> = {\n  [K in keyof V as V[K] extends T ? K : never]: V[K];\n};\n")),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"in keyof"),"\u904d\u5386 ",(0,r.kt)("inlineCode",{parentName:"p"},"V")," \u6cdb\u578b\uff1b"),(0,r.kt)("p",null,"2\u3001\u901a\u8fc7\u7c7b\u578b\u65ad\u8a00\u5224\u65ad ",(0,r.kt)("inlineCode",{parentName:"p"},"V[K]")," \u5bf9\u5e94\u952e\u503c\u662f\u5426\u7ea6\u675f\u4e8e\u4f20\u5165\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),"\u5982\u679c\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"true "),"\u90a3\u4e48\u65ad\u8a00\u6210\u8fd4\u56de\u904d\u5386\u7684\u5f53\u524d ",(0,r.kt)("inlineCode",{parentName:"p"},"K"),"\uff0c\u5426\u5219\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u3002"),(0,r.kt)("p",null,"\u8fd4\u56de ",(0,r.kt)("inlineCode",{parentName:"p"},"never "),"\u5728 TypeScript \u7f16\u8bd1\u5668\u4e2d\uff0c\u4f1a\u9ed8\u8ba4\u8ba4\u4e3a\u8fd9\u662f\u4e2a\u7528\u4e0d\u5b58\u5728\u7684\u7c7b\u578b\uff0c\u4e5f\u76f8\u5f53\u4e8e\u6ca1\u6709\u8fd9\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"K "),"\u4f1a\u88ab\u8fc7\u6ee4\uff0c\u5bf9\u5e94\u503c\u5219\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"V[K]")," \u83b7\u53d6\u3002"),(0,r.kt)("p",null,"\u50cf TypeScript \u5185\u90e8\u5de5\u5177\u5b9e\u73b0\u5de5\u5177\u65b9\u6cd5 ",(0,r.kt)("inlineCode",{parentName:"p"},"Extract\u3001Exclude")," \u4e5f\u662f\u901a\u8fc7\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u6765\u6392\u9664\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Extract<T, U> = T extends U ? T : never;\n\ntype Exclude<T, U> = T extends U ? never : T;\n")),(0,r.kt)("h2",{id:"\u7b2c\u4e94\u9898"},"\u7b2c\u4e94\u9898"),(0,r.kt)("p",null,"\u5b9a\u4e49\u4e00\u4e2a\u5de5\u5177\u7c7b\u578b ",(0,r.kt)("inlineCode",{parentName:"p"},"AppendArgument"),"\uff0c\u4e3a\u5df2\u6709\u7684\u51fd\u6570\u7c7b\u578b\u589e\u52a0\u6307\u5b9a\u7c7b\u578b\u7684\u53c2\u6570\uff0c\u65b0\u589e\u7684\u53c2\u6570\u540d\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"x"),"\uff0c\u5c06\u4f5c\u4e3a\u65b0\u51fd\u6570\u7c7b\u578b\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Fn = (a: number, b: string) => number\ntype AppendArgument<F, A> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype FinalFn = AppendArgument<Fn, boolean>\n// (x: boolean, a: number, b: string) => number\n")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"Parameters"),"+ ",(0,r.kt)("inlineCode",{parentName:"li"},"ReturnType"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Fn = (a: number, b: string) => number;\n\ntype AppendArgument<F extends (...args: any) => any, T> = (\n  x: T,\n  ...args: Parameters<F>\n) => ReturnType<F>;\n\ntype FinalFn = AppendArgument<Fn, string>;\n// type FinalFn = (x: string, a: number, b: string) => number\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"AppendArgument"),"\u5de5\u5177\u7c7b\u578b\u4e2d"),(0,r.kt)("p",null,"1\u3001\u6cdb\u578b",(0,r.kt)("inlineCode",{parentName:"p"}," F")," \u4e3a\u9700\u8981\u589e\u52a0\u53c2\u6570",(0,r.kt)("inlineCode",{parentName:"p"},"x")," \u7684\u51fd\u6570\u7c7b\u578b\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"F")," \u7ea6\u675f\u4e8e\u51fd\u6570\u7c7b\u578b\uff0c\u6cdb\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"x"),"\u53c2\u6570\u6307\u5b9a\u7684\u7c7b\u578b\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570\u7c7b\u578b\uff0c"),(0,r.kt)("p",null,"2\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"x"),"\u53c2\u6570\u7c7b\u578b\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"...args"),"\u5269\u4f59\u53c2\u6570\u7c7b\u578b\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"Parameters"),"\u5de5\u5177\u7c7b\u578b\u62ff\u5230",(0,r.kt)("inlineCode",{parentName:"p"},"F"),"\u6cdb\u578b\u7684\u6570\u7ec4\u7c7b\u578b\u53c2\u6570\u7c7b\u578b\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"ReturnType"),"\u5de5\u5177\u7c7b\u578b\u62ff\u5230",(0,r.kt)("inlineCode",{parentName:"p"},"F"),"\u51fd\u6570\u7c7b\u578b\u7684\u8fd4\u56de\u7c7b\u578b\u3002"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"li"},"infer"),"\u65b9\u5f0f")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type AppendArgument<F extends (...args: any) => any, T> = F extends (\n  ...args: infer P\n) => infer Return\n  ? (x: T, ...args: P) => Return\n  : never;\n\ntype FinalFn = AppendArgument<Fn, boolean>;\n// type FinalFn = (x: boolean, a: number, b: string) => number\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"infer"),"\u63a8\u5bfc\u62ff\u5230\u53c2\u6570\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\u8fd4\u56de\u503c\u7c7b\u578b\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"Return"),"\uff0c\u518d\u4ece\u65b0\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570",(0,r.kt)("inlineCode",{parentName:"p"},"x"),"\u53c2\u6570\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"...args"),"\u53c2\u6570\u7c7b\u578b\u4e3a\u524d\u9762\u63a8\u5bfc\u4fdd\u7559\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\uff0c\u8fd4\u56de\u503c\u5373",(0,r.kt)("inlineCode",{parentName:"p"},"Return"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u516d\u9898"},"\u7b2c\u516d\u9898"),(0,r.kt)("p",null,"\u5b9a\u4e49\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"NativeFlat"),"\u5de5\u5177\u7c7b\u578b\uff0c\u652f\u6301\u628a\u6570\u7ec4\u7c7b\u578b\u62cd\u5e73\uff08\u6241\u5e73\u5316\uff09\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type NaiveFlat<T extends any[]> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\uff1a\ntype NaiveResult = NaiveFlat<[['a'], [['b', 'c']], ['d']]>\n\n// NaiveResult\u7684\u7ed3\u679c\uff1a \"a\" | \"b\" | \"c\" | \"d\"\n")),(0,r.kt)("p",null,"\u4f7f\u7528\u9012\u5f52\u5199\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type NaiveFlat<T extends any[]> = T extends (infer P)[]\n  ? P extends any[]\n    ? NaiveFlat<P>\n    : P\n  : never;\n\ntype NaiveResult = NaiveFlat<[["a"], [["b", "c"]], ["d"]]>;\n// type NaiveResult = "a" | "b" | "c" | "d"\n')),(0,r.kt)("p",null,"\u4e0a\u9762",(0,r.kt)("inlineCode",{parentName:"p"},"NaiveFlat"),"\u5b9e\u73b0\u65b9\u5f0f"),(0,r.kt)("p",null,"1\u3001\u9996\u5148\u9700\u8981\u5728\u7ea6\u675f\u6761\u4ef6\u4e2d\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"infer"),"\u5173\u952e\u5b57\u63a8\u5bfc\u51fa ",(0,r.kt)("inlineCode",{parentName:"p"},"T")," \u4f20\u5165\u7684\u6570\u7ec4\u7c7b\u578b\uff0c\u5e76\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"P")," \u4fdd\u5b58\u6570\u7ec4\u7c7b\u578b\u3002"),(0,r.kt)("p",null,"2\u3001\u4e09\u5143\u5d4c\u5957\u5224\u65ad",(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\u7c7b\u578b\u662f\u5426\u7ea6\u675f\u4e8e\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"any[]"),"\u5982\u679c\u8fd8\u662f\u662f\u6570\u7ec4\u7ee7\u7eed\u9012\u5f52\u904d\u5386\u8c03\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"NaiveFlat<P>"),"\u5e76\u4f20\u5165",(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\uff0c\u653e ",(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\u7c7b\u578b\u4e0d\u6ee1\u8db3 ",(0,r.kt)("inlineCode",{parentName:"p"},"any[]"),"\uff0c\u8fd4\u56de\u6700\u540e\u7684\u6241\u5e73\u5b8c\u6210",(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\u7c7b\u578b\u6240\u4ee5\u5f97\u5230\u6700\u7ec8\u8054\u5408\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},'"a" | "b" | "c" | "d"')," \u3002"),(0,r.kt)("p",null,"\u4e2a\u4eba\u6b65\u9aa4\u6d41\u7a0b\u7406\u89e3\uff1a"),(0,r.kt)("p",null,"\u4ee5\u4f20\u5165",(0,r.kt)("inlineCode",{parentName:"p"},"[['a'], [['b', 'c']], ['d']]"),"\u503c\u4e3a\u4f8b"),(0,r.kt)("p",null,"1\u3001\u7b2c\u4e00\u6b21\u5f97\u5230\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\u88ab\u63a8\u65ad\u51fa\u7684\u7c7b\u578b\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},'["a"] | [["b", "c"]] | ["d"]'),"\uff0c\u6ee1\u8db3\u7ea6\u675f;"),(0,r.kt)("p",null,"2\u3001\u8d70\u5230",(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\u662f\u5426\u7ea6\u675f",(0,r.kt)("inlineCode",{parentName:"p"},"any[]"),"\uff0c\u6b64\u65f6\u8fd8\u6ee1\u8db3\u8fd8\u5b58\u5728\u6570\u7ec4\u60c5\u51b5\uff0c \u56e0\u6b64\u7ee7\u7eed\u9012\u5f52\u4f20\u5165 ",(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\uff1b"),(0,r.kt)("p",null,"3\u3001\u7b2c\u4e8c\u6b21",(0,r.kt)("inlineCode",{parentName:"p"},"infer P"),"\u63a8\u5bfc\u51fa",(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\u7684\u7c7b\u578b\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},'"a" | ["b", "c"] | "d"'),"\uff0c\u518d\u6b21\u7ea6\u675f\uff0c\u6b64\u65f6\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"extends"),"\u6761\u4ef6\u8bed\u53e5\u4e2d\uff0c\u8054\u5408\u7c7b\u578b\u4e3a\u88f8\u7c7b\u578b\u65f6\uff0c\u4f1a\u88ab\u5206\u53d1\uff0c\u5148\u8d70",(0,r.kt)("inlineCode",{parentName:"p"},"'a'"),"\u903b\u8f91\uff0c\u4e0d\u6ee1\u8db3\u4e0e",(0,r.kt)("inlineCode",{parentName:"p"},"any[]"),"\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"'a'"),"\uff1b"),(0,r.kt)("p",null,"4\u3001\u8d70\u5b8c",(0,r.kt)("inlineCode",{parentName:"p"},"'a'"),"\u5c31\u8d70\u5230",(0,r.kt)("inlineCode",{parentName:"p"},"['b', 'c']"),"\uff0c\u5373\u6ee1\u8db3",(0,r.kt)("inlineCode",{parentName:"p"},"any[]"),"\u7ee7\u7eed\u9012\u5f52\uff0c\u8fd4\u56de\u5f97\u5230 =>'a' | 'b' | 'c'\uff1b"),(0,r.kt)("p",null,"5\u3001\u6700\u540e\u8d70",(0,r.kt)("inlineCode",{parentName:"p"},"'d'"),",\u6700\u7ec8\u5f97\u5230 => 'a' | 'b' | 'c' | 'd'\u3002"),(0,r.kt)("p",null,"\u53e6\u5916\u5982\u679c\u662f\u56fa\u5b9a\u4e8c\u7ef4\u6570\u7ec4\u7684\u8bdd\uff0c\u53ef\u4ee5\u8bd5\u8bd5\u8fd9\u6837\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type NaiveFlat<T extends any[]> = T[number][number];\n\nconst testArr = [['a'], ['b', 'c'], ['d']];\n\nconst testArrType = typeof testArr; // string[][]\ntype NaiveResult = NaiveFlat<[['a'], ['b', 'c'], ['d']]>;\n// type NaiveResult = \"a\" | \"b\" | \"c\" | \"d\"\n[number]\n \u53d6\u6570\u7ec4\u7684\u4e2d\u503c\u4f5c\u4e3a key, number \u662f\u6570\u7ec4\u4e0b\u6807\n [\"a\"] | [\"b\", \"c\"] | [\"d\"]\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"T[number][number]"),"\u53ef\u4ee5\u7406\u89e3\u4e3a => ",(0,r.kt)("inlineCode",{parentName:"p"},"T[][]"),"\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\u7684\u7c7b\u578b\u8868\u8fbe\u5f0f\uff0c\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"[number]"),"\u5728 TypeScript \u4e2d\uff0c\u53ef\u4ee5\u4ee3\u8868\u53d6\u6570\u7ec4\u7684\u4e2d\u503c\u4f5c\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"key"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"number"),"\u662f\u6570\u7ec4\u4e0b\u6807\u3002\u56e0\u6b64",(0,r.kt)("inlineCode",{parentName:"p"},"T[number]"),"\u5bf9\u5e94\u7740",(0,r.kt)("inlineCode",{parentName:"p"},'["a"] | ["b", "c"] | ["d"]'),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"T[number][number]"),"\u5219\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},'"a" | "b" | "c" | "d"'),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e03\u9898"},"\u7b2c\u4e03\u9898"),(0,r.kt)("p",null,"\u4f7f\u7528\u7c7b\u578b\u522b\u540d\u5b9a\u4e49\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"EmptyObject"),"\u7c7b\u578b\uff0c\u4f7f\u5f97\u8be5\u7c7b\u578b\u53ea\u5141\u8bb8\u7a7a\u5bf9\u8c61\u8d4b\u503c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type EmptyObject = {};\n\n// \u6d4b\u8bd5\u7528\u4f8b\nconst shouldPass: EmptyObject = {}; // \u53ef\u4ee5\u6b63\u5e38\u8d4b\u503c\nconst shouldFail: EmptyObject = {\n  // \u5c06\u51fa\u73b0\u7f16\u8bd1\u9519\u8bef\n  prop: "TS",\n};\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"EmptyObject"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type EmptyObject = {\n  [K in keyof any]: never;\n};\n\n// \u6d4b\u8bd5\u7528\u4f8b\nconst shouldPass: EmptyObject = {}; // \u53ef\u4ee5\u6b63\u5e38\u8d4b\u503c\nconst shouldFail: EmptyObject = {\n  // \u5c06\u51fa\u73b0\u7f16\u8bd1\u9519\u8bef\n  prop: "TS",\n};\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"EmptyObject"),"\u7c7b\u578b\u4e2d",(0,r.kt)("inlineCode",{parentName:"p"},"[K in keyof any]")," \u7b49\u540c\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"[K in string | number | symbol]"),"\uff0c\u5c06\u6240\u6709\u5bf9\u8c61\u5c5e\u6027\u5bf9\u5e94\u7c7b\u578b\u8bbe\u7f6e\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u3002"),(0,r.kt)("p",null,"\u6ce8\u610f\u7684\u662f\u5bf9\u8c61\u7684\u7d22\u5f15\u7c7b\u578b\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"string | number | symbol"),"\u3002"),(0,r.kt)("p",null,"\u5728\u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"p"},"EmptyObject"),"\u7c7b\u578b\u7684\u6d4b\u8bd5\u7528\u4f8b\u68c0\u6d4b\u540e\uff0c \u6211\u4eec\u6765\u66f4\u6539\u4ee5\u4e0b ",(0,r.kt)("inlineCode",{parentName:"p"},"takeSomeTypeOnly"),"\u51fd\u6570\u7684\u7c7b\u578b\u5b9a\u4e49 \u8ba9\u5b83\u7684\u53c2\u6570\u53ea\u5141\u8bb8\u4e25\u683c",(0,r.kt)("inlineCode",{parentName:"p"},"SomeType"),"\u7c7b\u578b\u7684\u503c\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type SomeType = {\n  prop: string;\n};\n\n// \u66f4\u6539\u4ee5\u4e0b\u51fd\u6570\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u8ba9\u5b83\u7684\u53c2\u6570\u53ea\u5141\u8bb8\u4e25\u683cSomeType\u7c7b\u578b\u7684\u503c\nfunction takeSomeTypeOnly(x: SomeType) {\n  return x;\n}\n\n// \u6d4b\u8bd5\u7528\u4f8b\uff1a\nconst x = { prop: "a" };\ntakeSomeTypeOnly(x); // \u53ef\u4ee5\u6b63\u5e38\u8c03\u7528\n\nconst y = { prop: "a", addditionalProp: "x" };\ntakeSomeTypeOnly(y); // \u5c06\u51fa\u73b0\u7f16\u8bd1\u9519\u8bef\n')),(0,r.kt)("p",null,"\u5177\u4f53\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Exclusive<T1, T2> = {\n  [K in keyof T1]: K extends keyof T2 ? T1[K] : never;\n};\n\nfunction takeSomeTypeOnly<T extends SomeType>(x: Exclusive<SomeType, T>) {\n  return x;\n}\n\ntakeSomeTypeOnly({ prop: "a" }); // OK\n\ntakeSomeTypeOnly({ prop: "a", addditionalProp: "x" }); // \u5c06\u51fa\u73b0\u7f16\u8bd1\u9519\u8bef\n')),(0,r.kt)("p",null,"\u904d\u5386",(0,r.kt)("inlineCode",{parentName:"p"},"SomeType"),"\u7c7b\u578b\uff0c\u53ea\u7559\u4e0b",(0,r.kt)("inlineCode",{parentName:"p"},"SomeType"),"\u7c7b\u578b\u4e0e\u4f20\u5165\u7684\u53c2\u6570\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u4e2d\u5171\u6709\u7684\u5c5e\u6027\uff0c\u5171\u6709\u7684\u5c5e\u6027\u7c7b\u578b\u62ff\u7684\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"SomeType"),"\u5bf9\u5e94\u7684\u5c5e\u6027\u7c7b\u578b\u3002\u4e0d\u5171\u6709\u7684\u8bbe\u7f6e\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u6392\u9664\uff0c\u4e5f\u5c31\u662f\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"prop"),"\u4e4b\u5916\u7684\u5176\u4ed6\u5c5e\u6027\u6c14\u53bb\u9664\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u516b\u9898"},"\u7b2c\u516b\u9898"),(0,r.kt)("p",null,"\u5b9a\u4e49",(0,r.kt)("inlineCode",{parentName:"p"},"NonEmptyArray"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u786e\u4fdd\u6570\u636e\u975e\u7a7a\u6570\u7ec4\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type NonEmptyArray<T> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\nconst a: NonEmptyArray<string> = [] // \u5c06\u51fa\u73b0\u7f16\u8bd1\u9519\u8bef\nconst b: NonEmptyArray<string> = ['Hello TS'] // \u975e\u7a7a\u6570\u636e\uff0c\u6b63\u5e38\u4f7f\u7528\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"NonEmptyArray"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type NonEmptyArray<T> = [T, ...T[]];\n\nconst a: NonEmptyArray<string> = []; // Error\nconst b: NonEmptyArray<string> = ["Hello TS"]; // OK\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"[T, ...T[]]"),"\u786e\u4fdd\u7b2c\u4e00\u9879\u4e00\u5b9a\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"[...T[]]"),"\uff0c\u4e3a\u5269\u4f59\u6570\u7ec4\u7c7b\u578b\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e5d\u9898"},"\u7b2c\u4e5d\u9898"),(0,r.kt)("p",null,"\u5b9a\u4e49\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"JoinStrArray"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u6839\u636e\u6307\u5b9a\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Separator"),"\u5206\u9694\u7b26\uff0c\u5bf9\u5b57\u7b26\u4e32\u6570\u7ec4\u7c7b\u578b\u8fdb\u884c\u62fc\u63a5\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type JoinStrArray<Arr extends string[], Separator extends string> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype Names = ["Sem", "Lolo", "Kaquko"]\ntype NamesComma = JoinStrArray<Names, ","> // "Sem,Lolo,Kaquko"\ntype NamesSpace = JoinStrArray<Names, " "> // "Sem Lolo Kaquko"\ntype NamesStars = JoinStrArray<Names, "\u2b50\ufe0f"> // "Sem\u2b50\ufe0fLolo\u2b50\ufe0fKaquko"\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"JoinStrArray"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type JoinStrArray<\n  Arr extends string[],\n  Separator extends string\n> = Arr extends [infer A, ...infer B]\n  ? `${A extends string ? A : ""}${B extends [string, ...string[]]\n      ? `${Separator}${JoinStrArray<B, Separator>}`\n      : ""}`\n  : "";\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"JoinStrArray"),"\u5de5\u5177\u65b9\u6cd5\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"Arr"),"\u6cdb\u578b\u5fc5\u987b\u7ea6\u675f\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"string[]"),"\u7c7b\u578b\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"Separator"),"\u4e3a\u5206\u9694\u7b26\uff0c\u4e5f\u5fc5\u987b\u7ea6\u675f\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"string"),"\u7c7b\u578b\uff1b"),(0,r.kt)("p",null,"1\u3001\u9996\u5148",(0,r.kt)("inlineCode",{parentName:"p"},"Arr"),"\u7ea6\u675f\u4e8e\u540e\u9762",(0,r.kt)("inlineCode",{parentName:"p"},"[infer A, ...infer B]"),"\u5e76\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"infer"),"\u5173\u952e\u5b57\u63a8\u5bfc\u62ff\u5230\u7b2c\u4e00\u4e2a\u7d22\u5f15",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\u7684\u7c7b\u578b\uff0c\u4ee5\u53ca\u5269\u4f59\uff08rest\uff09\u6570\u7ec4\u7684\u7c7b\u578b\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"\uff1b"),(0,r.kt)("p",null,"2\u3001\u5982\u679c\u6ee1\u8db3\u7ea6\u675f\uff0c\u5219\u8fde\u63a5\u5b57\u7b26\uff0c\u8fde\u63a5\u5b57\u7b26\u4f7f\u7528\u6a21\u677f\u53d8\u91cf\uff0c\u5148\u5224\u65ad",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\uff08\u4e5f\u5c31\u662f\u7b2c\u4e00\u4e2a\u7d22\u5f15\uff09\u662f\u5426\u7ea6\u675f\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"string"),"\u7c7b\u578b\uff0c\u6ee1\u8db3\u5c31\u53d6\u7b2c\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\u5426\u5219\u76f4\u63a5\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\uff1b"),(0,r.kt)("p",null,"3\u3001\u540e\u9762\u8fde\u63a5\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"\uff08...rest\uff09\u5224\u65ad\u662f\u5426\u6ee1\u8db3\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"[string, ...string[]]"),"\uff0c\u610f\u601d\u5c31\u662f\u662f\u4e0d\u662f\u8fd8\u6709\u591a\u4e2a\u7d22\u5f15\u3002\u5982\u679c\u6709\uff0c\u7528\u5206\u5272\u7b26\u53f7\uff0c\u52a0\u4e0a\u9012\u5f52\u518d\u8c03\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"JoinStrArray"),"\u5de5\u5177\u7c7b\u578b\u65b9\u6cd5\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"Arr"),"\u6cdb\u578b\u5c31\u518d\u4e3a B \uff0c\u5206\u9694\u7b26\u6cdb\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"Separator"),"\u4e0d\u53d8\u3002\u51cf\u6cbb\u601d\u60f3\uff0c\u62ff\u51fa\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\uff0c\u76f4\u81f3\u6570\u7ec4\u4e3a\u7a7a\u3002"),(0,r.kt)("p",null,"\u6700\u5f00\u59cb\u7684\u8bdd\uff0c\u5982\u679c",(0,r.kt)("inlineCode",{parentName:"p"},"Arr"),"\u4e0d\u6ee1\u8db3\u7ea6\u675f\uff0c\u90a3\u4e48\u76f4\u63a5\u8fd4\u56de\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u5341\u9898"},"\u7b2c\u5341\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Trim"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u5bf9\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b\u8fdb\u884c\u53bb\u7a7a\u683c\u5904\u7406\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Trim<V extends string> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n  // \u6d4b\u8bd5\u7528\u4f8b\n  Trim<\" semlinker \">;\n//=> 'semlinker'\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Trim"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type TrimLeft<V extends string> = V extends ` ${infer R}` ? TrimLeft<R> : V;\ntype TrimRight<V extends string> = V extends `${infer R} ` ? TrimRight<R> : V;\n\ntype Trim<V extends string> = TrimLeft<TrimRight<V>>;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype Result = Trim<\" semlinker \">;\n//=> 'semlinker'\n")),(0,r.kt)("p",null,"\u5229\u7528 ts \u6a21\u677f\u5b57\u7b26\u4e32\uff0c\u914d\u5408",(0,r.kt)("inlineCode",{parentName:"p"},"infer"),"\u53bb\u9664\u7a7a\u683c\u3002"),(0,r.kt)("p",null,"\u9700\u8981\u5b9a\u4e49\u4e24\u4e2a\u5de5\u5177\u7c7b\u578b\u65b9\u6cd5\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"Trim"),"\u5206\u89e3\u6210",(0,r.kt)("inlineCode",{parentName:"p"},"TrimLeft "),"\u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"TrimRight"),"\uff0c\u4e00\u4e2a\u662f\u53bb\u9664\u5de6\u8fb9\u7a7a\u683c\u7684\uff0c\u53e6\u4e00\u4e2a\u53bb\u9664\u53f3\u8fb9\u3002"),(0,r.kt)("p",null,"\u53bb\u9664\u7a7a\u683c\u4e3b\u8981\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"extends"),"\u914d\u5408",(0,r.kt)("inlineCode",{parentName:"p"},"infer"),"\u5728\u6a21\u677f\u5b57\u7b26\u4e32\u4e2d\u4f7f\u7528\uff0c\u5e76\u4e14\uff0c\u5982\u679c\u53bb\u9664\u5de6\u8fb9\u7a7a\u683c\uff0c\u9700\u8981\u5728\u5de6\u8fb9\u6dfb\u52a0\u4e00\u4e2a",(0,r.kt)("strong",{parentName:"p"},"\u7a7a\u683c\uff08"),(0,r.kt)("inlineCode",{parentName:"p"}," ${infer R}"),(0,r.kt)("strong",{parentName:"p"},"\uff09\uff0c"),"\u4e4b\u540e\u5c31\u662f\u6620\u5c04\u7c7b\u578b\u53ef\u4ee5\u9012\u5f52\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u5341\u4e00\u9898"},"\u7b2c\u5341\u4e00\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"IsEqual"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u7c7b\u578b\u662f\u5426\u76f8\u7b49\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type IsEqual<A, B> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype E0 = IsEqual<1, 2>; // false\ntype E1 = IsEqual<{ a: 1 }, { a: 1 }> // true\ntype E2 = IsEqual<[1], []>; // false\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"IsEqual"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type IsEqual<A, B> = [A] extends [B] ? ([B] extends [A] ? true : false) : false;\n")),(0,r.kt)("p",null,"\u8fd9\u91cc\u9700\u8981\u8003\u8651",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u7c7b\u578b\u548c\u8054\u5408\u7c7b\u578b\uff0c\u6240\u4ee5\u7528\u5230\u5143\u7ec4\u8fdb\u884c\u5904\u7406\u6bd4\u8f83\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"IsEqual"),"\u5de5\u5177\u7c7b\u578b\uff0c\u5982\u679c",(0,r.kt)("inlineCode",{parentName:"p"},"[A]"),"\u7ea6\u675f\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"[B]"),"\u4e14",(0,r.kt)("inlineCode",{parentName:"p"},"[B]"),"\u4e5f\u6ee1\u8db3\u7ea6\u675f\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"[A]"),"\u8bf4\u660e\u4ed6\u4eec\u76f8\u7b49\uff0c\u5426\u5219\u4e0d\u76f8\u7b49\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u5341\u4e8c\u9898"},"\u7b2c\u5341\u4e8c\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Head"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u83b7\u53d6\u6570\u7ec4\u7c7b\u578b\u7684\u7b2c\u4e00\u4e2a\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Head<T extends Array<any>> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype H0 = Head<[]> // never\ntype H1 = Head<[1]> // 1\ntype H2 = Head<[3, 2]> // 3\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Head"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Head1<T extends Array<any>> = T extends [infer H, ...T[]] ? H : never;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype H0 = Head<[]>; // never\ntype H1 = Head<[1]>; // 1\ntype H2 = Head<[3, 2]>; // 3\ntype H3 = Head<["a", "b", "c"]>; // "a"\ntype H4 = Head<[undefined, "b", "c"]>; // undefined\ntype H5 = Head<[null, "b", "c"]>; // null\n')),(0,r.kt)("p",null,"\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"infer"),"\u5173\u952e\u5b57\u63a8\u5bfc\u53d6\u51fa\u6570\u7ec4\u7b2c\u4e00\u9879\u7684\u7c7b\u578b\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"H"),"\u4fdd\u5b58\u8be5\u7c7b\u578b\uff0c\u5982\u679c\u6cdb\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u6ee1\u8db3\u7ea6\u675f\uff0c\u8fd4\u56de\u63a8\u5bfc\u7684\u7b2c\u4e00\u9879\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"H"),"\uff0c\u5426\u5219",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"...T[]"),"\u53d6\u51fa\u5269\u4f59\u6570\u7ec4\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u5341\u4e09\u9898"},"\u7b2c\u5341\u4e09\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Tail"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u83b7\u53d6\u6570\u7ec4\u7c7b\u578b\u9664\u4e86\u7b2c\u4e00\u4e2a\u7c7b\u578b\u5916\uff0c\u5269\u4f59\u7684\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Tail<T extends Array<any>> =  // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype T0 = Tail<[]> // []\ntype T1 = Tail<[1, 2]> // [2]\ntype T2 = Tail<[1, 2, 3, 4, 5]> // [2, 3, 4, 5]\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Tail"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Tail1<T extends Array<any>> = T extends [infer H, ...infer R] ? R : never;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype T0 = Tail<[]>; // []\ntype T1 = Tail<[1, 2]>; // [2]\ntype T2 = Tail<[1, 2, 3, 4, 5]>; // [2, 3, 4, 5]\n")),(0,r.kt)("p",null,"\u5b9e\u73b0\u65b9\u5f0f\u4e0e",(0,r.kt)("strong",{parentName:"p"},"\u7b2c\u5341\u4e8c\u9898"),"\u7c7b\u4f3c\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u5341\u56db\u9898"},"\u7b2c\u5341\u56db\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Unshift"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u628a\u6307\u5b9a\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"E"),"\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u5143\u7d20\u6dfb\u52a0\u5230 T \u6570\u7ec4\u7c7b\u578b\u4e2d\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Unshift<T extends any[], E> =  // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype Arr0 = Unshift<[], 1>; // [1]\ntype Arr1 = Unshift<[1, 2, 3], 0>; // [0, 1, 2, 3]\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Unshift"),"\u5b9e\u73b0\u65b9\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Unshift<T extends any[], E> = [E, ...T];\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype Arr0 = Unshift<[], never>; // [1]\ntype Arr1 = Unshift<[1, 2, 3], 0>; // [0, 1, 2, 3]\n")),(0,r.kt)("p",null,"\u65b0\u5efa\u4e00\u4e2a\u6570\u7ec4\uff0c\u7b2c\u4e00\u9879\u7c7b\u578b\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"E"),"\uff0c\u5269\u4f59\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"...T"),"\u8fde\u63a5\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u5341\u4e94\u9898"},"\u7b2c\u5341\u4e94\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Shift"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u79fb\u9664",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u6570\u7ec4\u7c7b\u578b\u4e2d\u7684\u7b2c\u4e00\u4e2a\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Shift<T extends any[]> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype S0 = Shift<[1, 2, 3]>\ntype S1 = Shift<[string,number,boolean]>\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Shift"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Shift<T extends any[]> = T extends [infer A, ...infer B] ? B : [];\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype S0 = Shift<[1, 2, 3]>; // [2, 3]\ntype S1 = Shift<[string, number, boolean]>; // [number, boolean]\ntype S2 = Shift<[never]>; // []\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"...infer B"),"\u53bb\u9664\u7b2c\u4e00\u9879\u4e4b\u540e\u7684\u96c6\u5408\uff0c\u4f7f\u7528\u53d8\u91cf",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"\u4fdd\u5b58\u8be5\u7c7b\u578b\u3002\u5982\u679c\u6ee1\u8db3\u7ea6\u675f\uff0c\u8fd4\u56de\u5269\u4f59\u53c2\u6570\u7c7b\u578b\uff0c\u4e5f\u5c31\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u5341\u516d\u9898"},"\u7b2c\u5341\u516d\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Push"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u628a\u6307\u5b9a\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"E"),"\u4f5c\u4e3a\u7b2c\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u6dfb\u52a0\u5230",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u6570\u7ec4\u7c7b\u578b\u4e2d\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Push<T extends any[], V> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype Arr0 = Push<[], 1> // [1]\ntype Arr1 = Push<[1, 2, 3], 4> // [1, 2, 3, 4]\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Push"),"\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Push<T extends any[], V> = [...T, V]; // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype Arr0 = Push<[], 1>; // [1]\ntype Arr1 = Push<[1, 2, 3], 4>; // [1, 2, 3, 4]\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Push"),"\u5de5\u5177\u7c7b\u578b\u7684\u5b9e\u73b0\u4e0e",(0,r.kt)("strong",{parentName:"p"},"\u7b2c\u5341\u56db\u9898"),(0,r.kt)("inlineCode",{parentName:"p"},"Unshift"),"\u5b9e\u73b0\u7c7b\u4f3c\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u5341\u4e03\u9898"},"\u7b2c\u5341\u4e03\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Includes"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u5224\u65ad\u6307\u5b9a\u7684\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"E"),"\u662f\u5426\u5305\u542b\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u6570\u7ec4\u7c7b\u578b\u4e2d\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Includes<T extends Array<any>, E> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype I0 = Includes<[], 1> // false\ntype I1 = Includes<[2, 2, 3, 1], 2> // true\ntype I2 = Includes<[2, 3, 3, 1], 1> // true\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Includes"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Includes<T extends any[], U> = U extends T[number] ? true : false;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype I0 = Includes<[], 1>; // false\ntype I1 = Includes<[2, 2, 3, 1], 2>; // true\ntype I2 = Includes<[2, 3, 3, 1], 1>; // true\n")),(0,r.kt)("p",null,"\u8fd9\u91cc",(0,r.kt)("inlineCode",{parentName:"p"},"T[number]"),"\u53ef\u4ee5\u7406\u89e3\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u6570\u7ec4\u5143\u7d20\u7684\u7c7b\u578b\uff0c\u6bd4\u5982\u4f20\u5165\u7684\u6cdb\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"[2, 2, 3, 1]"),"\uff0c\u90a3\u4e48",(0,r.kt)("inlineCode",{parentName:"p"},"T[number]"),"\u88ab\u89e3\u6790\u4e3a\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"2 | 2 | 3 | 1"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u5341\u516b\u9898"},"\u7b2c\u5341\u516b\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"UnionToIntersection"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u628a\u8054\u5408\u7c7b\u578b\u8f6c\u6362\u4e3a\u4ea4\u53c9\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type UnionToIntersection<U> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype U0 = UnionToIntersection<string | number> // never\ntype U1 = UnionToIntersection<{ name: string } | { age: number }> // { name: string; } & { age: number; }\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"UnionToIntersection"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"export type UnionToIntersection<Union> = (\n  Union extends unknown ? (distributedUnion: Union) => void : never\n) extends (mergedIntersection: infer Intersection) => void\n  ? Intersection\n  : never;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype U0 = UnionToIntersection<string | number>; // never\ntype U1 = UnionToIntersection<{ name: string } | { age: number }>; // { name: string; } & { age: number; }\n")),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"extends unknown"),"\u59cb\u7ec8\u4e3a true\uff0c\u9ed8\u8ba4\u8fdb\u5165\u5230\u5206\u53d1\u60c5\u51b5"),(0,r.kt)("p",null,"2\u3001\u4f1a\u58f0\u660e\u4e00\u4e2a\u4ee5",(0,r.kt)("inlineCode",{parentName:"p"},"Union"),"\u4e3a\u5165\u53c2\u7c7b\u578b\u7684\u51fd\u6570\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\uff0c\u5373",(0,r.kt)("inlineCode",{parentName:"p"},"(distributedUnion: Union) => void"),"\uff0c\u8be5\u51fd\u6570\u7ea6\u675f\u4e8e\u4ee5",(0,r.kt)("inlineCode",{parentName:"p"},"mergedIntersection"),"\u7c7b\u578b\u4e3a\u5165\u53c2\u7684\u51fd\u6570\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"\uff0c\u5373",(0,r.kt)("inlineCode",{parentName:"p"},"(mergedIntersection: infer Intersection) => void"),"\u3002"),(0,r.kt)("p",null,"3\u3001\u5982\u679c\u51fd\u6570",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\u80fd\u7ee7\u627f\u51fd\u6570",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"\u5219 \u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"infer Intersection"),"\u58f0\u660e\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Intersection"),"\uff0c\u5426\u5219\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\uff0c\u518d\u5229\u7528",(0,r.kt)("strong",{parentName:"p"},"\u51fd\u6570\u53c2\u6570\u7c7b\u578b\u9006\u53d8"),"\uff0c\u4ece\u800c\u5b9e\u73b0\u5f97\u5230\u7684\u7ed3\u679c\u4ece\u8054\u5408\u7c7b\u578b\u5230\u4ea4\u53c9\u7c7b\u578b\u7684\u8f6c\u53d8\u3002"),(0,r.kt)("p",null,"\u8fd9\u91cc\u662f\u4e5f\u8bbe\u8ba1\u5230\u4e00\u4e2a\u77e5\u8bc6\u70b9\uff1a",(0,r.kt)("strong",{parentName:"p"},"\u5206\u5e03\u5f0f\u6761\u4ef6\u7c7b\u578b\uff0c"),"\u6761\u4ef6\u7c7b\u578b\u7684\u7279\u6027\uff1a\u5206\u5e03\u5f0f\u6761\u4ef6\u7c7b\u578b\u3002\u5728\u7ed3\u5408\u8054\u5408\u7c7b\u578b\u4f7f\u7528\u65f6\uff08",(0,r.kt)("strong",{parentName:"p"},"\u53ea\u9488\u5bf9","*","*"),"extends","*",(0,r.kt)("strong",{parentName:"p"},"*","\u5de6\u8fb9\u7684\u8054\u5408\u7c7b\u578b"),"\uff09\uff0c\u5206\u5e03\u5f0f\u6761\u4ef6\u7c7b\u578b\u4f1a\u88ab\u81ea\u52a8\u5206\u53d1\u6210\u8054\u5408\u7c7b\u578b\u3002\u4f8b\u5982\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"T extends U ? X : Y"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u7684\u7c7b\u578b\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"A | B | C"),"\uff0c\u4f1a\u88ab\u89e3\u6790\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"(A extends U ? X : Y) | (B extends U ? X : Y) | (C extends U ? X : Y)"),"\u3002"),(0,r.kt)("p",null,"\u90fd\u77e5\u9053",(0,r.kt)("inlineCode",{parentName:"p"},"infer"),"\u58f0\u660e\u90fd\u662f\u53ea\u80fd\u51fa\u73b0\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"extends"),"\u5b50\u8bed\u53e5\u4e2d\u3002\u4f46\u662f\uff0c\u5728\u534f\u53d8\u7684\u4f4d\u7f6e\u4e0a\uff0c\u540c\u4e00\u7c7b\u578b\u53d8\u91cf\u7684\u591a\u4e2a\u5019\u9009\u7c7b\u578b\u4f1a\u88ab\u63a8\u65ad\u4e3a\u8054\u5408\u7c7b\u578b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Foo<T> = T extends { a: infer U; b: infer U } ? U : never;\ntype T10 = Foo<{ a: string; b: string }>; // string\ntype T11 = Foo<{ a: string; b: number }>; // string | number\n")),(0,r.kt)("p",null,"\u5728\u9006\u53d8\u7684\u4f4d\u7f6e\u4e0a\uff0c\u540c\u4e00\u4e2a\u7c7b\u578b\u591a\u4e2a\u5019\u9009\u7c7b\u578b\u4f1a\u88ab\u63a8\u65ad\u4e3a\u4ea4\u53c9\u7c7b\u578b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Bar<T> = T extends { a: (x: infer U) => void; b: (x: infer U) => void }\n  ? U\n  : never;\ntype T20 = Bar<{ a: (x: string) => void; b: (x: string) => void }>; // string\ntype T21 = Bar<{ a: (x: string) => void; b: (x: number) => void }>; // string & number\n")),(0,r.kt)("p",null,"\u76f8\u5173\u94fe\u63a5\uff1a"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.tslang.cn/docs/release-notes/typescript-2.8.html"},"\u6709\u6761\u4ef6\u7c7b\u578b\u4e2d\u7684\u7c7b\u578b\u63a8\u65ad")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://juejin.cn/post/6844904169921314829"},"\u5173\u4e8e\u534f\u53d8\u548c\u9006\u53d8")),(0,r.kt)("h2",{id:"\u7b2c\u5341\u4e5d\u9898"},"\u7b2c\u5341\u4e5d\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"OptionalKeys"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u6765\u83b7\u53d6\u5bf9\u8c61\u7c7b\u578b\u4e2d\u58f0\u660e\u7684\u53ef\u9009\u5c5e\u6027\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Person = {\n  id: string;\n  name: string;\n  age: number;\n  from?: string;\n  speak?: string;\n};\n\ntype OptionalKeys<T> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\ntype PersonOptionalKeys = OptionalKeys<Person> // "from" | "speak"\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"OptionalKeys"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type OptionalKeys<T> = {\n  [P in keyof T]-?: undefined extends T[P] ? P : never;\n}[keyof T];\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype PersonOptionalKeys = OptionalKeys<Person>; // "from" | "speak"\n')),(0,r.kt)("p",null,"\u4f8b\u5982",(0,r.kt)("inlineCode",{parentName:"p"},"Peson"),"\u7c7b\u578b\uff1a"),(0,r.kt)("p",null,"1\u3001\u9996\u5148\u4f1a\u904d\u5386\u6240\u6709",(0,r.kt)("inlineCode",{parentName:"p"},"Person"),"\u5c5e\u6027\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"-?"),"\u5b57\u7b26\u7684\u4f5c\u7528\u662f\uff0c\u518d\u5b8c\u6210\u8fb9",(0,r.kt)("inlineCode",{parentName:"p"},"extends"),"\u5224\u65ad\u540e\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u4e2d\u6240\u6709\u7684\u5c5e\u6027\u90fd\u53d8\u6210\u5fc5\u987b\u5c5e\u6027\uff0c\u4e3a\u9632\u6b62\u5c5e\u6027\u503c\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\uff1b"),(0,r.kt)("p",null,"2\u3001\u53f3\u8fb9\uff0c\u5224\u65ad",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\u662f\u5426\u7ea6\u675f\u4e8e\u5f53\u524d\u952e\u503c\uff0c\u5982\u679c\u6ee1\u8db3\u7ea6\u675f\u5f53\u524d\u5c5e\u6027\u7684\u7c7b\u578b\u4e3a",(0,r.kt)("strong",{parentName:"p"},"\u952e\u540d\u3002")),(0,r.kt)("p",null,"\u5728 TypeScript \u4e2d\uff0c\u5982\u679c\u6dfb\u52a0\u4e86\u53ef\u9009\u5c5e\u6027\uff0c\u4f1a\u88ab\u9690\u5f0f\u6dfb\u52a0\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),"\u7c7b\u578b\uff0c\u6bd4\u5982",(0,r.kt)("inlineCode",{parentName:"p"},"from?"),"\u5176\u5b9e\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"string | undefined")),(0,r.kt)("p",null,"3\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"{ ... }[keyof T]"),"\u53d6\u952e\u503c\uff0c\u56e0\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"id,age,name"),"\u7684\u5c5e\u6027\u7c7b\u578b\u90fd\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\uff0c\u53d6\u503c\u7684\u65f6\u5019\u4f1a\u88ab\u5ffd\u7565\u6389\uff0c\u56e0\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u662f\u4e00\u4e2a\u7528\u4e0d\u5b58\u5728\u7684\u7c7b\u578b\uff0c\u56e0\u6b64\u5c31\u53ea\u5269\u4e0b",(0,r.kt)("inlineCode",{parentName:"p"},"from\u3001speak"),"\u5c5e\u6027\u7684\u503c\u4e86\u5c31\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},'"from" | "speak"'),"\u7ec4\u6210\u8054\u5408\u7c7b\u578b\u8fd4\u56de\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e8c\u5341\u9898"},"\u7b2c\u4e8c\u5341\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Curry"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u6765\u5b9e\u73b0\u51fd\u6570\u7c7b\u578b\u7684\u67ef\u91cc\u5316\u5904\u7406\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Curry<\n  F extends (...args: any[]) => any,\n  P extends any[] = Parameters<F>,\n  R = ReturnType<F>\n> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype F0 = Curry<() => Date>; // () => Date\ntype F1 = Curry<(a: number) => Date>; // (arg: number) => Date\ntype F2 = Curry<(a: number, b: string) => Date>; //  (arg_0: number) => (b: string) => Date\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Curry"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Curry<\n  F extends (...args: any[]) => any,\n  P extends any[] = Parameters<F>,\n  R = ReturnType<F>\n> = P extends [infer A, ...infer B]\n  ? B extends []\n    ? (arg: A) => R\n    : (arg: A) => Curry<(...args: B) => R>\n  : () => R;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype F0 = Curry<() => Date>; // () => Date\ntype F1 = Curry<(a: number) => Date>; // (arg: number) => Date\ntype F2 = Curry<(a: number, b: string) => Date>; //  (arg_0: number) => (b: string) => Date\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"F"),"\u4e3a\u9700\u8981\u67ef\u91cc\u5316\u7684\u51fd\u6570\u7c7b\u578b\uff1b"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"Paramters"),"\u83b7\u53d6",(0,r.kt)("inlineCode",{parentName:"p"},"F"),"\u53c2\u6570\u96c6\u5408\uff1b"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"R"),"\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"ReturnType"),"\u83b7\u53d6",(0,r.kt)("inlineCode",{parentName:"p"},"F"),"\u51fd\u6570\u7c7b\u578b\u8fd4\u56de\u503c\uff1b"),(0,r.kt)("p",null,"\u903b\u8f91\u5206\u6790\uff1a"),(0,r.kt)("p",null,"1\u3001\u9700\u8981\u5148\u62ff\u5230 args \u6570\u7ec4\u7684\u7b2c\u4e00\u9879\u548c\u5269\u4f59\u53c2\u6570\u96c6\u5408\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"[infer A, ...infer B]"),"\uff1b"),(0,r.kt)("p",null,"2\u3001\u4f7f\u7528 extends \u5224\u65ad",(0,r.kt)("inlineCode",{parentName:"p"},"P"),"\u662f\u5426\u6ee1\u8db3\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"[infer A, ...infer B]"),"\uff0c\u4e0d\u6ee1\u8db3\u76f4\u63a5\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"() => R"),",\u8bf4\u660e\u6ca1\u6709\u53c2\u6570\uff1b"),(0,r.kt)("p",null,"3\u3001\u5982\u679c\u6709\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u53c2\u6570\uff0c\u8fd9\u91cc\u5219\u7ee7\u7eed\u9012\u5f52\uff1b"),(0,r.kt)("p",null,"4\u3001\u9996\u5148",(0,r.kt)("inlineCode",{parentName:"p"},"...infer B"),"\u9700\u8981\u5224\u65ad\u662f\u5426\u7ea6\u675f\u4e0e",(0,r.kt)("inlineCode",{parentName:"p"},"[]"),"\u6765\u505a\u7ec8\u6b62\u6761\u4ef6\uff1b"),(0,r.kt)("p",null,"5\u3001\u6ee1\u8db3\u7ea6\u675f\u76f4\u63a5\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"(args: A) => R"),"\uff1b"),(0,r.kt)("p",null,"6\u3001\u5426\u5219\u9012\u5f52\uff0c\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\uff0c\u5e76\u4e14\u53c2\u6570\u7c7b\u578b\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\uff0c\u8fd4\u56de\u503c\u5219\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"Curry<(...args: B) => R>"),"\uff0c\u65b0\u51fd\u6570\u5165\u53c2",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"\uff0c\u4e3a\u5269\u4f59\u53c2\u6570\u7c7b\u578b\u96c6\u5408\uff0c\u5b83\u7684\u8fd4\u56de\u503c\u786e\u4fdd\u6700\u540e\u4e00\u4e2a\u8fd4\u56de\u56e0\u6b64\u4fdd\u7559\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"R"),"\u5373",(0,r.kt)("inlineCode",{parentName:"p"},"(arg: A) => Curry<(...args: B) => R>"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e8c\u5341\u4e00\u9898"},"\u7b2c\u4e8c\u5341\u4e00\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Merge"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u628a\u4e24\u4e2a\u7c7b\u578b\u5408\u5e76\u6210\u4e00\u4e2a\u65b0\u7684\u7c7b\u578b\u3002\u7b2c\u4e8c\u79cd\u7c7b\u578b\uff08SecondType\uff09\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Keys"),"\u5c06\u4f1a\u8986\u76d6\u7b2c\u4e00\u79cd\u7c7b\u578b\uff08FirstType\uff09\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Keys"),"\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Foo = {\n   a: number;\n   b: string;\n};\n\ntype Bar = {\n   b: number;\n};\n\ntype Merge<FirstType, SecondType> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\nconst ab: Merge<Foo, Bar> = { a: 1, b: 2 };\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Merge"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Foo {\n  b: number;\n}\n\ninterface Bar {\n  a: number;\n  b: string;\n}\n\ntype Merge<FirstType, SecondType> = {\n  [K in keyof (FirstType & SecondType)]: K extends keyof SecondType\n    ? SecondType[K]\n    : K extends keyof FirstType\n    ? FirstType[K]\n    : never;\n};\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype Obj = Merge<Foo, Bar>; // { a: number ; b: string }\n")),(0,r.kt)("p",null,"\u6ce8\u610f\u7684\u662f\uff1a\u5408\u5e76\u5c5e\u6027\uff0c\u540e\u4e00\u4e2a\u7c7b\u578b\u4f1a\u8986\u76d6\u524d\u4e00\u4e2a\u7c7b\u578b\u3002"),(0,r.kt)("p",null,"\u903b\u8f91\u5206\u6790\uff1a"),(0,r.kt)("p",null,"1\u3001\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"FirstType"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"SecondType"),"\u505a\u4ea4\u53c9\u7c7b\u578b\uff0c\u5e76\u904d\u5386\u4ed6\u4eec\u7684\u6bcf\u4e00\u4e2a\u5c5e\u6027\uff1b"),(0,r.kt)("p",null,"2\u3001\u5982\u679c\u5f53\u524d\u7684\u5c5e\u6027\u540d\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"SecondType"),"\u7c7b\u578b\u4e2d\uff0c\u5219\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"SecondType"),"\u7c7b\u578b\u4e2d\u7684\u5f53\u524d\u5c5e\u6027\u503c\uff1b"),(0,r.kt)("p",null,"3\u3001\u5982\u679c\u5f53\u524d\u5c5e\u6027\u540d\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"FirstType"),"\u7c7b\u578b\u4e2d\uff0c\u5219\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"First"),"\u7c7b\u578b\u4e2d\u7684\u5f53\u524d\u5c5e\u6027\u503c\uff1b"),(0,r.kt)("p",null,"4\u3001\u5426\u5219\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u3002"),(0,r.kt)("p",null,"\u5176\u4ed6\u89e3\u6cd5\uff1a"),(0,r.kt)("p",null,"\u7ed3\u5408",(0,r.kt)("inlineCode",{parentName:"p"},"Omit"),"\u5185\u7f6e\u5de5\u5177\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Merge<FirstType, SecondType> = Omit<FirstType, keyof SecondType> &\n  SecondType;\ntype Obj = Merge<Foo, Bar>; // { a: number ; b: string }\nconst ab: Obj = { a: 1, b: "1" };\n')),(0,r.kt)("p",null,"1\u3001\u5148\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"FirstType"),"\u7c7b\u578b\u4e2d\u5df2\u6709\u7684\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"SecondType"),"\u7c7b\u578b\u4e2d\u76f8\u540c\u5c5e\u6027\u5220\u9664"),(0,r.kt)("p",null,"2\u3001\u5c06\u524d\u9762\u7ed3\u679c\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"SecondType"),"\u505a\u4ea4\u53c9\u7c7b\u578b\uff0c\u5f97\u5230\u5408\u5e76\u540e\u7684\u7ed3\u679c\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e8c\u5341\u4e8c\u9898"},"\u7b2c\u4e8c\u5341\u4e8c\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"RequireAtLeastOne"),"\u5de5\u5177\u7c7b\u578b\uff0c\u5b83\u5c06\u521b\u5efa\u81f3\u5c11\u542b\u6709\u4e00\u4e2a\u7ed9\u5b9a",(0,r.kt)("inlineCode",{parentName:"p"},"Keys"),"\u7684\u7c7b\u578b\uff0c\u5176\u4f59\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Keys"),"\u4fdd\u6301\u539f\u6837\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Responder = {\n   text?: () => string;\n   json?: () => string;\n   secure?: boolean;\n};\n\ntype RequireAtLeastOne<\n    ObjectType,\n    KeysType extends keyof ObjectType = keyof ObjectType,\n> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u8868\u793a\u5f53\u524d\u7c7b\u578b\u81f3\u5c11\u5305\u542b 'text' \u6216 'json' \u952e\nconst responder: RequireAtLeastOne<Responder, 'text' | 'json'> = {\n    json: () => '{\"message\": \"ok\"}',\n    secure: true\n};\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"RequireAtLeastOne"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type RequireAtLeastOne<\n  ObjectType,\n  KeysType extends keyof ObjectType = keyof ObjectType\n> = KeysType extends keyof ObjectType\n  ? ObjectType & { [K in KeysType]-?: ObjectType[K] }\n  : never;\n\n// \u8868\u793a\u5f53\u524d\u7c7b\u578b\u81f3\u5c11\u5305\u542b \'text\' \u6216 \'json\' \u952e\nconst responder: RequireAtLeastOne<Responder, "text" | "json"> = {\n  json: () => \'{"message": "ok"}\',\n  secure: true,\n};\n\n// @ts-expect-error \u56e0\u4e3a\u6ca1\u6709\'text\'\u548c\'json\'\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\uff0c\u62a5\u9519\nconst responder2: RequireAtLeastOne<Responder, "text" | "json"> = {\n  secure: true,\n};\n')),(0,r.kt)("p",null,"1\u3001\u7ed9\u5b9a\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Keys"),"\u7c7b\u578b\u9700\u8981\u7ea6\u675f\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"ObjectType"),"\uff1b"),(0,r.kt)("p",null,"2\u3001\u5982\u679c\u7ed9\u5b9a\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"KeysType"),"\u4e2d\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Keys"),"\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"ObjectType"),"\u7c7b\u578b\u91cc\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7c7b\u578b\uff0c\u904d\u5386",(0,r.kt)("inlineCode",{parentName:"p"},"KeysType"),"\u4f5c\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"Key"),"\uff0c\u5e76\u4e14",(0,r.kt)("inlineCode",{parentName:"p"},"-?"),"\u5b57\u7b26\uff0c\u5c06\u53ef\u9009\u53d8\u4e3a\u5fc5\u9009\uff0c\u503c\u7c7b\u578b\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"ObjectType[K]"),"\uff0c\u7136\u540e\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"ObjectType"),"\u548c\u8fd9\u4e2a\u521b\u5efa\u7684\u65b0\u7684\u7c7b\u578b\u505a\u4ea4\u53c9\u7c7b\u578b\u3002\u8054\u5408\u7c7b\u578b\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"extends"),"\u6761\u4ef6\u4e2d\u4f1a\u505a\u5206\u53d1\uff0c\u56e0\u6b64\u6700\u540e\u7ec4\u6210\u8054\u5408\u7c7b\u578b\u8fd4\u56de\uff1b"),(0,r.kt)("p",null,"3\u3001\u5426\u5219\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e8c\u5341\u4e09\u9898"},"\u7b2c\u4e8c\u5341\u4e09\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"RemoveIndexSignature"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u79fb\u9664\u5df2\u6709\u7c7b\u578b\u4e2d\u7684\u7d22\u5f15\u7b7e\u540d\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Foo {\n  [key: string]: any;\n  [key: number]: any;\n  bar(): void;\n}\n\ntype RemoveIndexSignature<T> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype FooWithOnlyBar = RemoveIndexSignature<Foo>; //{ bar: () => void; }\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"RemoveIndexSignature"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type RemoveIndexSignature<T> = {\n  [K in keyof T as string extends K\n    ? never\n    : number extends K\n    ? never\n    : K]: T[K];\n};\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype FooWithOnlyBar = RemoveIndexSignature<Foo>; //{ bar: () => void; }\n")),(0,r.kt)("p",null,"1\u3001\u904d\u5386",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\uff0c\u5229\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"as"),"\u65ad\u8a00\u5b9e\u73b0\u5bf9",(0,r.kt)("inlineCode",{parentName:"p"},"K"),"\u7684\u5224\u65ad\u8fc7\u6ee4\uff1b"),(0,r.kt)("p",null,"2\u3001\u5f53\u524d\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"key"),"\u5982\u679c\u6ee1\u8db3",(0,r.kt)("inlineCode",{parentName:"p"},"string | number"),"\u76f4\u63a5\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u8fc7\u6ee4\u5f53\u524d\u5c5e\u6027\uff1b"),(0,r.kt)("p",null,"3\u3001\u5426\u5219\u62ff\u5f53\u524d",(0,r.kt)("inlineCode",{parentName:"p"},"K"),"\uff0c\u5f53\u524d",(0,r.kt)("inlineCode",{parentName:"p"},"K"),"\u503c\u7c7b\u578b\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"T[K]"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e8c\u5341\u56db\u9898"},"\u7b2c\u4e8c\u5341\u56db\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Mutable"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u79fb\u9664\u5bf9\u8c61\u7c7b\u578b\u4e0a\u6240\u6709\u5c5e\u6027\u6216\u90e8\u5206\u5c5e\u6027\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"readonly"),"\u4fee\u9970\u7b26\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Foo = {\n  readonly a: number;\n  readonly b: string;\n  readonly c: boolean;\n};\n\ntype Mutable<T, Keys extends keyof T = keyof T> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\nconst mutableFoo: Mutable<Foo, 'a'> = { a: 1, b: '2', c: true };\n\nmutableFoo.a = 3; // OK\nmutableFoo.b = '6'; // Cannot assign to 'b' because it is a read-only property.\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Mutale"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Mutable<T, Keys extends keyof T = keyof T> = {\n  -readonly [K in Keys]: T[K];\n} & Omit<T, Keys>;\n\nconst mutableFoo: Mutable<Foo, "a"> = { a: 1, b: "2", c: true };\n\n// \u6d4b\u8bd5\u7528\u4f8b\nmutableFoo.a = 3; // OK\nmutableFoo.b = "6"; // Cannot assign to \'b\' because it is a read-only property.\n')),(0,r.kt)("p",null,"1\u3001\u904d\u5386",(0,r.kt)("inlineCode",{parentName:"p"},"Keys"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"-readonly"),"\u5220\u9664\u53ea\u8bfb\u7b26\u53f7\uff1b"),(0,r.kt)("p",null,"2\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"Omit<T, Keys>"),"\u8fd4\u56de\u5220\u9664\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u4e2d\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Keys"),"\u5c5e\u6027\u7684\u65b0\u7c7b\u578b\uff0c\u6700\u540e\u4e0e\u524d\u9762\u7684\u7ed3\u679c\u7ec4\u6210\u4ea4\u53c9\u7c7b\u578b\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e8c\u5341\u4e94\u9898"},"\u7b2c\u4e8c\u5341\u4e94\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"IsUnion"),"\u5de5\u5177\u7c7b\u578b\uff0c\u5224\u65ad\u6307\u5b9a\u7684\u7c7b\u578b\u662f\u5426\u4e3a\u8054\u5408\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type IsUnion<T, U = T> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype I0 = IsUnion<string | number>; // true\ntype I1 = IsUnion<string | never>; // false\ntype I2 = IsUnion<string | unknown>; // false\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"IsUnion"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\u65b9\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type IsUnion<T, U = T> = T extends any\n  ? [U] extends [T]\n    ? false\n    : true\n  : never; // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype I0 = IsUnion<string | number>; // true\ntype I1 = IsUnion<string | never>; // false\ntype I2 = IsUnion<string | unknown>; // false\n")),(0,r.kt)("p",null,"1\u3001\u7b2c\u4e00\u6b65",(0,r.kt)("inlineCode",{parentName:"p"},"T extends any"),"\u786e\u4fdd\u59cb\u7ec8\u4e3a\u771f\uff0c\u8054\u5408\u7c7b\u578b\u505a\u5206\u53d1\uff1b"),(0,r.kt)("p",null,"2\u3001\u8054\u5408\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u5199\u6210",(0,r.kt)("inlineCode",{parentName:"p"},"[T]"),"\u5c31\u53d8\u6210\u4e86\u666e\u901a\u7c7b\u578b\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"extends"),"\u7684\u65f6\u5019\u4e0d\u4f1a\u5206\u53d1\u6267\u884c\uff0c\u5229\u7528\u5176\u5206\u53d1\u7684\u7279\u6027\uff0c\u540e\u9762\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"[T]"),"\u5c31\u662f\u4e00\u4e2a\u8054\u5408\u7c7b\u578b\u62c6\u5f00\u540e\u7684\u67d0\u4e00\u4e2a\uff0c"),(0,r.kt)("p",null,"3\u3001\u56e0\u6b64\u5982\u679c\u662f\u8054\u5408\u7c7b\u578b\u7684\u8bdd",(0,r.kt)("inlineCode",{parentName:"p"},"[U] extends [T]"),"\u4e00\u5b9a\u4e3a\u5426\u3002"),(0,r.kt)("p",null,"\u6bd4\u5982\u4f20\u5165",(0,r.kt)("inlineCode",{parentName:"p"},"string | nuber"),"\u7c7b\u578b\u4f1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// \u9996\u5148\u4f1a\u88ab\u5206\u53d1\u5f97\u5230\ntype IsUnion<string | number, U = string | number> =\nstring extends ? any ? ([string | number]) extends [string] ? false : true) : never\n| number extends ? ([string | number]) extends [string] ? false :true) : never\n// => true | true => true\n\n\nstring | never \u4f1a\u88ab\u7b80\u5316\u4e3a never\nstring | unknown => unknown\n")),(0,r.kt)("h2",{id:"\u7b2c\u4e8c\u5341\u516d\u9898"},"\u7b2c\u4e8c\u5341\u516d\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"IsNever"),"\u5de5\u5177\u7c7b\u578b\uff0c\u5224\u65ad\u6307\u5b9a\u7684\u7c7b\u578b\u662f\u5426\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type IsNever<T> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\ntype I0 = IsNever<never> // true\ntype I1 = IsNever<never | string> // false\ntype I2 = IsNever<null> // false\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"IsNever"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type IsNever<T> = [T] extends [never] ? true : false;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype II0 = IsNever<never>; // true\ntype II1 = IsNever<never | string>; // false\ntype II2 = IsNever<null>; // false\ntype II3 = IsNever<{}>; // false\ntype II4 = IsNever<[]>; // false\ntype II5 = IsNever<[] | never>; // false\n")),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"[T]"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"[never]"),"\u4e3a\u5143\u7ec4\uff0c\u4f5c\u4e3a\u5305\u88c5\u7c7b\u578b\uff0c\u8054\u5408\u7c7b\u578b\u4e0d\u4f1a\u88ab\u5206\u53d1\uff1b"),(0,r.kt)("p",null,"2\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u7c7b\u578b\u4e0d\u80fd\u6269\u5c55",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u7c7b\u578b\uff0c\u4f46\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"never[]"),"\u53ef\u4ee5\u6269\u5c55",(0,r.kt)("inlineCode",{parentName:"p"},"never[]"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e8c\u5341\u4e03\u9898"},"\u7b2c\u4e8c\u5341\u4e03\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Reverse"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u5bf9\u5143\u7ec4\u7c7b\u578b\u4e2d\u5143\u7d20\u7684\u4f4d\u7f6e\u98a0\u5012\uff0c\u5e76\u8fd4\u56de\u8be5\u6570\u7ec4\u3002\u5143\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4f1a\u53d8\u6210\u6700\u540e\u4e00\u4e2a\uff0c\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u53d8\u6210\u7b2c\u4e00\u4e2a\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Reverse<\n  T extends Array<any>,\n  R extends Array<any> = []\n> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype R0 = Reverse<[]> // []\ntype R1 = Reverse<[1, 2, 3]> // [3, 2, 1]\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Reverse"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Reverse<T extends Array<any>> = T extends [infer First, ...infer Rest]\n  ? [...Reverse<Rest>, First]\n  : [];\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype R0 = Reverse<[]>; // []\ntype R1 = Reverse<[1, 2, 3]>; // [3, 2, 1]\ntype R2 = Reverse<[1, 2, 3, 4, 5]>; //  [5, 4, 3, 2, 1]\n")),(0,r.kt)("p",null,"\u91c7\u7528\u9012\u5f52\u65b9\u5f0f\uff0c\u6bcf\u6b21\u9012\u5f52\u90fd\u628a\u7b2c\u4e00\u9879",(0,r.kt)("inlineCode",{parentName:"p"},"First"),"\u653e\u5728\u6700\u540e\uff0c\u5e76\u628a\u9012\u5f52\u7ed3\u679c\u5c55\u5f00\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e8c\u5341\u516b\u9898"},"\u7b2c\u4e8c\u5341\u516b\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Split"),"\u5de5\u5177\u7c7b\u578b\uff0c\u6839\u636e\u7ed9\u5b9a\u7684\u5206\u9694\u7b26\uff08Delimiter\uff09\u5bf9\u5305\u542b\u5206\u9694\u7b26\u7684\u5b57\u7b26\u4e32\u8fdb\u884c\u5207\u5272\u3002\u53ef\u7528\u4e8e\u5b9a\u4e49 ",(0,r.kt)("inlineCode",{parentName:"p"},"String.prototype.split"),"\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Item = \'semlinker,lolo,kakuqo\';\n\ntype Split<\n    S extends string,\n    Delimiter extends string,\n> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype ElementType = Split<Item, \',\'>; // ["semlinker", "lolo", "kakuqo"]\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Split"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Item = "semlinker,lolo,kakuqo";\n\nexport type Split<\n  S extends string,\n  Delimiter extends string\n> = S extends `${infer Head}${Delimiter}${infer Tail}`\n  ? [Head, ...Split<Tail, Delimiter>]\n  : S extends Delimiter\n  ? []\n  : [S];\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype ElementType = Split<Item, ",">; // ["semlinker", "lolo", "kakuqo"]\ntype ElementType2 = Split<"a|b|c||d", "|">; // ["a", "b", "c", "", "d"]\ntype ElementType3 = Split<"abcdef", "">; // ["a", "b", "c", "d", "e", "f"]\n')),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"${infer Head}${Delimiter}${infer Tail}"),"\u6620\u5c04\u7c7b\u578b\u5728\u6a21\u677f\u53d8\u91cf\u4e2d\u4f7f\u7528\uff0c\u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u505a\u62c6\u89e3;"),(0,r.kt)("p",null,"2\u3001\u7b2c\u4e00\u6b65\u4f1a\u53d8\u6210",(0,r.kt)("inlineCode",{parentName:"p"},'${infer "semlinker"}${,}${infer "lolo,kakuqo"}'),"\uff0c\u51cf\u6cbb\u601d\u60f3\uff0c\u518d\u9012\u5f52\u4f9d\u6b21\u53d6\u7b2c\u4e8c\u4f4d\uff0c\u76f4\u81f3\u9012\u5f52\u5230",(0,r.kt)("inlineCode",{parentName:"p"},"Delimiter"),"\u7b26\u53f7\u7684\u6700\u540e\u4e00\u9879\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"S extends Delimiter"),"\u5904\u7406",(0,r.kt)("inlineCode",{parentName:"p"},"Delimiter"),"\u4e3a\u7a7a\u683c\u7684\u60c5\u51b5\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e8c\u5341\u4e5d\u9898"},"\u7b2c\u4e8c\u5341\u4e5d\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"ToPath"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u628a\u5c5e\u6027\u8bbf\u95ee\uff08",(0,r.kt)("inlineCode",{parentName:"p"},"."),"\u6216 ",(0,r.kt)("inlineCode",{parentName:"p"},"[]"),"\uff09\u8def\u5f84\u8f6c\u6362\u4e3a\u5143\u7ec4\u7684\u5f62\u5f0f\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type ToPath<S extends string> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n  ToPath<\"foo.bar.baz\">; //=> ['foo', 'bar', 'baz']\nToPath<\"foo[0].bar.baz\">; //=> ['foo', '0', 'bar', 'baz']\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ToPath"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'//\u4ee5 . \u62c6\u5206\uff0c\u5904\u7406\u6bcf\u4e00\u9879\ntype IndexSignature<T> = T extends `${infer H}[${infer M}][${infer R}]`\n  ? [H, M, ...IndexSignature<`[${R}]`>]\n  : T extends `${infer F}[${infer L}]`\n  ? [F, L]\n  : [T];\n\n// \u9a8c\u8bc1\u6570\u7ec4\u662f\u5426\u6709 \'\'\ntype NonSpace<T extends string[]> = T extends [infer H, ...infer R]\n  ? R extends string[]\n    ? H extends ""\n      ? [...NonSpace<R>]\n      : [H, ...NonSpace<R>]\n    : never\n  : T;\n\n// NonSpace \u548c IndexSignature \u7ec4\u5408\u8d77\u6765\ntype ToPath<S extends string> = S extends `${infer H}.${infer R}`\n  ? [...NonSpace<IndexSignature<H>>, ...ToPath<R>]\n  : NonSpace<IndexSignature<S>>;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype TT0 = ToPath<"foo.bar.baz">; //=> [\'foo\', \'bar\', \'baz\']\ntype TT1 = ToPath<"foo[0].bar[0][1][2][3].car">; // => ["foo", "0", "bar", "0", "1", "2", "3", "car"]\n')),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"IndexSignature"),"\u5de5\u5177\u7c7b\u578b\u5904\u7406\u4ee5",(0,r.kt)("inlineCode",{parentName:"p"},"."),"\u4e3a\u62c6\u5206\uff0c\u5e76\u9012\u5f52\u5c06\u6bcf\u4e00\u9879\u7684\u5b50\u9879\u653e\u5165\u5230\u5143\u7ec4\u4e2d\uff1b"),(0,r.kt)("p",null,"2\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"IndexSignature"),"\u5904\u7406\u6bd4\u5982\u5b8c",(0,r.kt)("inlineCode",{parentName:"p"},"foo[0][1]"),"\u4f1a\u5f97\u5230",(0,r.kt)("inlineCode",{parentName:"p"},'=>``["foo", "0", "", "1"]'),"\uff1b"),(0,r.kt)("p",null,"3\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"NonSpace"),"\u5904\u7406",(0,r.kt)("inlineCode",{parentName:"p"},"IndexSignature"),"\u5de5\u5177\u7c7b\u578b\u8fd4\u56de\u503c\u6570\u7ec4\u4e2d\u7684\u7a7a\u5b57\u7b26\u4e32\uff1b"),(0,r.kt)("p",null,"4\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"ToPath"),"\u4ee5\u5206\u9694\u7b26",(0,r.kt)("inlineCode",{parentName:"p"},"."),"\u62c6\u5206\u5b57\u7b26\u4e32\uff0c\u591a\u9879\u5219\u62fc\u63a5\u5e76\u9012\u5f52\uff0c\u5426\u5219\u76f4\u63a5\u5904\u7406\u5e76\u8fd4\u56de\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u5341\u9898"},"\u7b2c\u4e09\u5341\u9898"),(0,r.kt)("p",null,"\u5b8c\u5584",(0,r.kt)("inlineCode",{parentName:"p"},"Chainable"),"\u7c7b\u578b\u7684\u5b9a\u4e49\uff0c\u4f7f\u5f97 TS \u80fd\u6210\u529f\u63a8\u65ad\u51fa",(0,r.kt)("inlineCode",{parentName:"p"},"result"),"\u53d8\u91cf\u7684\u7c7b\u578b\u3002\u8c03\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"option"),"\u65b9\u6cd5\u4e4b\u540e\u4f1a\u4e0d\u65ad\u6269\u5c55\u5f53\u524d\u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u4f7f\u5f97\u8c03\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"get"),"\u65b9\u6cd5\u540e\u80fd\u83b7\u53d6\u6b63\u786e\u7684\u7c7b\u578b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'declare const config: Chainable;\n\ntype Chainable = {\n  option(key: string, value: any): any;\n  get(): any;\n};\n\nconst result = config\n  .option("age", 7)\n  .option("name", "lolo")\n  .option("address", { value: "XiaMen" })\n  .get();\n\ntype ResultType = typeof result;\n// \u671f\u671b ResultType \u7684\u7c7b\u578b\u662f\uff1a\n// {\n//   age: number\n//   name: string\n//   address: {\n//     value: string\n//   }\n// }\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Chainable"),"\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'declare const config: Chainable;\n\ntype Simplify<T> = {\n  [P in keyof T]: T[P];\n};\n\ntype Chainable<T = {}> = {\n  option<V, S extends string>(\n    key: S,\n    value: V\n  ): Chainable<\n    T & {\n      [P in keyof { S: S } as `${S}`]: V;\n    }\n  >;\n  get(): Simplify<T>;\n};\n\nconst result = config\n  .option("age", 7)\n  .option("address", { name: "Leslie" })\n  .get();\n\ntype ResultType = typeof result;\n// => {\n//   age: number;\n//   address: {\n//       name: string;\n//   };\n// }\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"config"),"\u53ef\u4ee5\u8fdb\u884c\u94fe\u5f0f\u8c03\u7528\uff0c\u53ef\u4ee5\u8054\u60f3\u5230 js \u4e2d",(0,r.kt)("inlineCode",{parentName:"p"},"return this"),"\u8fd9\u79cd\u601d\u8def\uff0c\u6240\u4ee5\u8fd9\u91cc",(0,r.kt)("inlineCode",{parentName:"p"},"opiton"),"\u7684\u8fd4\u56de\u503c\u5c31\u5e94\u8be5\u662f\u4e00\u4e2a\u65b0\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Chainable"),"\uff0c\u628a\u6dfb\u52a0\u7684\u5c5e\u6027\u7c7b\u578b\u5f53\u505a\u4e0b\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Chainable"),"\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u3002"),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"Chainable"),"\u7c7b\u578b\u5b9a\u4e49\u4e2d\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"option"),"\u8fd4\u56de\u503c\u7c7b\u578b\u4e3a\u65b0\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Chainable"),"\uff0c\u5c06\u6dfb\u52a0\u7684\u5c5e\u6027\u5f53\u505a\u4e0b\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Chainable"),"\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\uff1b"),(0,r.kt)("p",null,"2\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"get"),"\u7c7b\u578b\u76f4\u63a5\u5c31\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"Chainable"),"\u4e2d\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u5341\u4e00\u9898"},"\u7b2c\u4e09\u5341\u4e00\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Repeat"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u6839\u636e\u7c7b\u578b\u53d8\u91cf",(0,r.kt)("inlineCode",{parentName:"p"},"C"),"\u7684\u503c\uff0c\u91cd\u590d",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u7c7b\u578b\u5e76\u4ee5\u5143\u7ec4\u7684\u5f62\u5f0f\u8fd4\u56de\u65b0\u7684\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Repeat<T, C extends number> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype R0 = Repeat<0, 0>; // []\ntype R1 = Repeat<1, 1>; // [1]\ntype R2 = Repeat<number, 2>; // [number, number]\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Repeat"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Repeat<T, C extends number, A extends any[] = []> = A["length"] extends C\n  ? A\n  : Repeat<T, C, [...A, T]>;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype R0 = Repeat<0, 0>; // []\ntype R1 = Repeat<1, 1>; // [1]\ntype R2 = Repeat<number, 2>; // [number, number]\n')),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\u4e3a\u63a5\u6536\u6839\u636e",(0,r.kt)("inlineCode",{parentName:"p"},"C"),"\u6570\u91cf\uff0c\u91cd\u590d",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u7c7b\u578b\u4ee5\u5143\u7ec4\u5f62\u5f0f\u8fd4\u56de\u7684\u65b0\u7c7b\u578b\uff1b"),(0,r.kt)("p",null,"2\u3001\u5224\u65ad",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\u7684\u6570\u7ec4\u957f\u5ea6\u662f\u5426\u6ee1\u8db3",(0,r.kt)("inlineCode",{parentName:"p"},"C"),"\uff1b"),(0,r.kt)("p",null,"3\u3001\u4e0d\u6ee1\u8db3\u5219\u7ee7\u7eed\u5f80\u91cc\u9762\u6dfb\u52a0\u9700\u8981\u91cd\u590d\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u7c7b\u578b\uff1b"),(0,r.kt)("p",null,"4\u3001\u5426\u5219\u8fd4\u56de\u6dfb\u52a0\u5b8c\u6210\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\u7c7b\u578b\u7ed3\u679c\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u5341\u4e8c\u9898"},"\u7b2c\u4e09\u5341\u4e8c\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"RepeatString"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u6839\u636e\u7c7b\u578b\u53d8\u91cf",(0,r.kt)("inlineCode",{parentName:"p"},"C"),"\u7684\u503c\uff0c\u91cd\u590d",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u7c7b\u578b\u5e76\u4ee5\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\u8fd4\u56de\u65b0\u7684\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type RepeatString<\n  T extends string,\n  C extends number,\n> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype S0 = RepeatString<\"a\", 0>; // ''\ntype S1 = RepeatString<\"a\", 2>; // 'aa'\ntype S2 = RepeatString<\"ab\", 3>; // 'ababab'\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"RepeatString"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type RepeatString<\n  T extends string,\n  C extends number,\n  A extends any[] = [],\n  S extends string = ""\n> = A["length"] extends C ? A : RepeatString<T, C, [...A, T], `${S}${T}`>;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype RS0 = RepeatString<"a", 0>; // \'\'\ntype RS1 = RepeatString<"a", 2>; // \'aa\'\ntype RS2 = RepeatString<"ab", 3>; // \'ababab\'\n')),(0,r.kt)("p",null,"\u4e0e",(0,r.kt)("strong",{parentName:"p"},"\u4e09\u5341\u4e00\u9898"),"\u7c7b\u4f3c\uff0c\u591a\u6dfb\u52a0\u4e86\u4e00\u4e2a\u8fd4\u56de\u6700\u7ec8\u7684\u7ed3\u679c\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"S"),"\u7c7b\u578b\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"A"),"\u8bb0\u5f55\u6dfb\u52a0\u7684\u6570\u91cf\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u5341\u4e09\u9898"},"\u7b2c\u4e09\u5341\u4e09\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"ToNumber"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u5b9e\u73b0\u628a\u6570\u503c\u5b57\u7b26\u4e32\u7c7b\u578b\u8f6c\u6362\u4e3a\u6570\u503c\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type ToNumber<T extends string> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype T0 = ToNumber<"0">; // 0\ntype T1 = ToNumber<"10">; // 10\ntype T2 = ToNumber<"20">; // 20\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ToNumber"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type ToNumber<\n  T extends string,\n  S extends any[] = [],\n  L extends number = S["length"]\n> = `${L}` extends T ? L : ToNumber<T, [...S, ""]>;\n')),(0,r.kt)("p",null,"\u5728 TypeScript \u4e2d\u6ca1\u6709\u76f4\u63a5\u7684\u6570\u5b57\u8fd0\u7b97\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u6570\u7ec4\u957f\u5ea6\u8f6c\u5b57\u7b26\u4e32\u518d\u5339\u914d\u9700\u8981\u5b57\u7b26\u4e32\u8f6c\u6362\u7684\u5b57\u7b26\u4e32\u3002"),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"S"),"\u7c7b\u578b\u4e3a\u7d2f\u52a0\u8bb0\u5f55\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"L"),"\u83b7\u53d6",(0,r.kt)("inlineCode",{parentName:"p"},"S"),"\u7684\u6570\u7ec4\u7c7b\u578b\u957f\u5ea6\uff1b"),(0,r.kt)("p",null,"2\u3001\u5224\u65ad",(0,r.kt)("inlineCode",{parentName:"p"},"${L}"),"\u662f\u5426\u6ee1\u8db3\u7ea6\u675f",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\uff0c\u4e0d\u6ee1\u8db3\u5219\uff0c\u7ee7\u7eed\u6dfb\u52a0",(0,r.kt)("inlineCode",{parentName:"p"},"''"),"\u7a7a\u5b57\u7b26\u4e32\uff0c\u4f5c\u4e3a\u957f\u5ea6\u7d2f\u52a0\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u5341\u56db\u9898"},"\u7b2c\u4e09\u5341\u56db\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"SmallerThan"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u6bd4\u8f83\u6570\u503c\u7c7b\u578b\u7684\u5927\u5c0f\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type SmallerThan<\n  N extends number,\n  M extends number,\n> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype S0 = SmallerThan<0, 1>; // true\ntype S1 = SmallerThan<2, 0>; // false\ntype S2 = SmallerThan<8, 10>; // true\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"SmallerThan"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type SmallerThan<\n  N extends number,\n  M extends number,\n  A extends any[] = []\n> = A["length"] extends M //=> M = 0 \u76f4\u63a5\u8fd4\u56de false  1 => extends 2 ? false\n  ? false\n  : A["length"] extends N // => if M = 1\uff0c\u90a3\u4e48 N \u5e94\u8be5\u5c31\u662f 0\uff0c so M > N => 1 extends 1 true\n  ? true\n  : SmallerThan<N, M, [...A, ""]>; // \u5426\u5219 A length + 1\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype ST1 = SmallerThan<0, 0>; // false\ntype ST2 = SmallerThan2<1, 2>; // true\n')),(0,r.kt)("p",null,"\u8fd9\u91cc\u5229\u7528\u6784\u9020\u6570\u7ec4\u7684\u957f\u5ea6\u6765\u5224\u65ad\uff0c\u9ed8\u8ba4\u662f\u4e00\u4e2a\u7a7a\u6570\u7ec4\u8fdb\u884c\u9012\u589e\uff0c\u54ea\u4e2a\u5148\u5339\u914d\u4e0a\u8bf4\u660e\u54ea\u4e2a\u5c0f\u3002"),(0,r.kt)("p",null,"\u4f8b\u5982\u7ed9",(0,r.kt)("inlineCode",{parentName:"p"},"N, M"),"\u4f20\u5165 ",(0,r.kt)("inlineCode",{parentName:"p"},"0, 0"),"\uff1a"),(0,r.kt)("p",null,"1\u3001\u9ed8\u8ba4\u4ece\u7a7a\u6570\u7ec4\u8fdb\u884c\u9012\u589e\uff0c\u7b2c\u4e00\u904d",(0,r.kt)("inlineCode",{parentName:"p"},"A['length']"),"\u6570\u7ec4\u7684\u957f\u5ea6\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"0"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"0 extends 0"),"\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"\uff0c\u4e5f\u5c31\u662f\uff0c\u5f53",(0,r.kt)("inlineCode",{parentName:"p"},"M"),"\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"0"),"\uff0c\u8bf4\u660e\u8981\u4e48",(0,r.kt)("inlineCode",{parentName:"p"},"M===N"),"\uff0c\u8981\u4e48\u5c31",(0,r.kt)("inlineCode",{parentName:"p"},"N > M"),"\uff0c\u56e0\u6b64\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"**false**"),"\u3002"),(0,r.kt)("p",null,"\u518d\u4f8b\u5982\u7ed9",(0,r.kt)("inlineCode",{parentName:"p"},"N, M"),"\u4f20\u5165",(0,r.kt)("inlineCode",{parentName:"p"},"1, 2"),"\uff1a"),(0,r.kt)("p",null,"1\u3001\u7b2c\u4e00\u904d\u6211\u4eec\u76f4\u63a5\u8df3\u8fc7\uff0c\u4f1a\u8d70\u5230\u9012\u5f52\uff0c\u7b2c\u4e8c\u904d\u5f97\u5230",(0,r.kt)("inlineCode",{parentName:"p"},"A['length'] = 1"),"\uff1b"),(0,r.kt)("p",null,"2\u3001\u7b2c\u4e8c\u904d\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"1 extends 2"),"\u4e0d\u7ea6\u675f\u8bf4\u660e",(0,r.kt)("inlineCode",{parentName:"p"},"M >= N"),"\uff0c\u8d70\u5230\u5426\u5219",(0,r.kt)("inlineCode",{parentName:"p"},"1 extends 1"),"\u6ee1\u8db3\u7ea6\u675f\u8bf4\u660e",(0,r.kt)("inlineCode",{parentName:"p"},"M > N"),"\uff0c\u6700\u540e\u5f97\u5230\u7ed3\u679c\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"**true**"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u5341\u4e94\u9898"},"\u7b2c\u4e09\u5341\u4e94\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Add"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u5b9e\u73b0\u5bf9\u6570\u503c\u7c7b\u578b\u5bf9\u5e94\u7684\u6570\u503c\u8fdb\u884c\u52a0\u6cd5\u8fd0\u7b97\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Add<T, R> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype A0 = Add<5, 5>; // 10\ntype A1 = Add<8, 20> // 28\ntype A2 = Add<10, 30>; // 40\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Add"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type GenArr<N extends number, S extends any[] = []> = S["length"] extends N\n  ? S\n  : GenArr<N, [...S, ""]>;\n\ntype Add<N extends number, M extends number> = [\n  ...GenArr<N>,\n  ...GenArr<M>\n]["length"];\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype Add1 = Add<1, 2>; // 3\ntype Add2 = Add<100, 2>; // 102\n')),(0,r.kt)("p",null,"\u7ecf\u8fc7\u4e0a\u9762\u51e0\u9053\u9898\u6d17\u793c\uff0c\u8fd9\u5230\u76f8\u52a0\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u5c31\u662f\u6784\u5efa\u5bf9\u5e94\u6570\u503c\u957f\u5ea6\u7684\u6570\u7ec4\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"GenArr"),"\u5de5\u5177\u7c7b\u578b\u901a\u8fc7\u6570\u503c\u6784\u5efa\u5bf9\u5e94\u957f\u5ea6\u6570\u7ec4\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u5341\u516d\u9898"},"\u7b2c\u4e09\u5341\u516d\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Filter"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u6839\u636e\u7c7b\u578b\u53d8\u91cf",(0,r.kt)("inlineCode",{parentName:"p"},"F"),"\u7684\u503c\u8fdb\u884c\u7c7b\u578b\u8fc7\u6ee4\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Filter<T extends any[], F> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype F0 = Filter<[6, "lolo", 7, "semlinker", false], number>; // [6, 7]\ntype F1 = Filter<["kakuqo", 2, ["ts"], "lolo"], string>; // ["kakuqo", "lolo"]\ntype F2 = Filter<[0, true, any, "abao"], string>; // [any, "abao"]\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Filter"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Filter<T extends any[], F, R extends any[] = []> = T extends [\n  infer A,\n  ...infer B\n]\n  ? [A] extends [F]\n    ? Filter<B, F, [...R, A]>\n    : Filter<B, F, R>\n  : R;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype F0 = Filter<[6, "lolo", 7, "semlinker", false], number>; // [6, 7]\ntype F1 = Filter<["kakuqo", 2, ["ts"], "lolo"], string>; // ["kakuqo", "lolo"]\ntype F2 = Filter<[0, true, any, "abao"], string>; // [any, "abao"]\ntype F3 = Filter<[never, number | string, any, "abao"], string>; // [never, any, "abao"]\n')),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"R"),"\u4e3a\u6839\u636e\u7c7b\u578b\u53d8\u91cf",(0,r.kt)("inlineCode",{parentName:"p"},"F"),"\u7684\u503c\u8fdb\u884c\u7c7b\u578b\u8fc7\u6ee4\u540e\u7684\u7ed3\u679c\uff1b"),(0,r.kt)("p",null,"2\u3001\u9996\u5148\u5229\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"extends [infer A, ...infer B]"),"\u6765\u63d0\u53d6\u6570\u7ec4\u5185\u7684\u7b2c\u4e00\u9879\uff0c\u9012\u5f52\u5c31\u80fd\u62ff\u5230\u5168\u90e8\uff1b"),(0,r.kt)("p",null,"3\u3001\u4e4b\u540e\u5224\u65ad\u7c7b\u578b\u7684\u65f6\u5019\u8f6c\u6362\u6210\u5143\u7ec4\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"[A] extends [F]"),"\u80fd\u591f\u907f\u514d\u8054\u5408\u7c7b\u578b\u5728\u6761\u4ef6\u5224\u65ad\u4e2d\u5206\u53d1\u6267\u884c\u7684\u60c5\u51b5\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u5341\u4e03\u9898"},"\u7b2c\u4e09\u5341\u4e03\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Flat"),"\u5de5\u5177\u7c7b\u578b\uff0c\u652f\u6301\u628a\u6570\u7ec4\u7c7b\u578b\u62cd\u5e73\uff08\u6241\u5e73\u5316\uff09\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Flat<T extends any[]> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype F0 = Flat<[]> // []\ntype F1 = Flat<['a', 'b', 'c']> // [\"a\", \"b\", \"c\"]\ntype F2 = Flat<['a', ['b', 'c'], ['d', ['e', ['f']]]]> // [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"]\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Flat"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Flat<T extends any[]> = T extends [infer First, ...infer Rest]\n  ? First extends any[]\n    ? [...Flat<First>, ...Flat<Rest>]\n    : [First, ...Flat<Rest>]\n  : [];\n\n//\u6d4b\u8bd5\u7528\u4f8b\ntype F1 = Flat<[[1, 2, 3, 4, [5]], 6]>; // [1,2,3,4,5,6]\ntype F2 = Flat<["a", ["b", "c"], ["d", ["e", ["f"]]]]>; // ["a", "b", "c", "d", "e", "f"]\n')),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"[infer First, ...infer Rest]"),"\u63d0\u53d6\u6570\u7ec4\u7b2c\u4e00\u9879"),(0,r.kt)("p",null,"2\u3001\u5982\u679c",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u4e3a\u591a\u9879\uff0c\u7b2c\u4e00\u9879",(0,r.kt)("inlineCode",{parentName:"p"},"First"),"\u5224\u65ad\u662f\u5426\u8fd8\u662f\u6570\u7ec4\uff0c\u6241\u5e73\u591a\u7ef4\u6570\u7ec4\u60c5\u51b5\uff0c\u5982\u679c\u662f\uff0c\u7ee7\u7eed\u9012\u5f52\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"Frist"),"\u6241\u5e73\uff0c\u4ee5\u53ca\u9012\u5f52\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"Rest"),"\u4e5f\u6241\u5e73\uff0c\u5426\u5219",(0,r.kt)("inlineCode",{parentName:"p"},"First"),"\u4e0d\u662f\u591a\u4e3a\u6570\u7ec4\uff0c\u9012\u5f52",(0,r.kt)("inlineCode",{parentName:"p"},"Rest"),"\u5e76\u6241\u5e73\u3002"),(0,r.kt)("p",null,"3\u3001\u5982\u679c\u7a7a\u6570\u7ec4\uff0c\u76f4\u63a5\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"[]"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u5341\u516b\u9898"},"\u7b2c\u4e09\u5341\u516b\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"StartsWith"),"\u5de5\u5177\u7c7b\u578b\uff0c\u5224\u65ad\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u662f\u5426\u4ee5\u7ed9\u5b9a\u7684\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"U"),(0,r.kt)("strong",{parentName:"p"},"\u5f00\u5934"),"\uff0c\u5e76\u6839\u636e\u5224\u65ad\u7ed3\u679c\u8fd4\u56de\u5e03\u5c14\u503c\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type StartsWith<T extends string, U extends string> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype S0 = StartsWith<'123', '12'> // true\ntype S1 = StartsWith<'123', '13'> // false\ntype S2 = StartsWith<'123', '1234'> // false\n")),(0,r.kt)("p",null,"\u6b64\u5916\uff0c\u7ee7\u7eed\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"EndsWith"),"\u5de5\u5177\u7c7b\u578b\uff0c\u5224\u65ad\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u662f\u5426\u4ee5\u7ed9\u5b9a\u7684\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"U"),(0,r.kt)("strong",{parentName:"p"},"\u7ed3\u5c3e"),"\uff0c\u5e76\u6839\u636e\u5224\u65ad\u7ed3\u679c\u8fd4\u56de\u5e03\u5c14\u503c\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type EndsWith<T extends string, U extends string> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype E0 = EndsWith<'123', '23'> // true\ntype E1 = EndsWith<'123', '13'> // false\ntype E2 = EndsWith<'123', '123'> // true\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"StartsWith"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type StartsWith<\n  T extends string,\n  U extends string\n> = T extends `${U}${infer Rest}` ? true : false;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype S0 = StartsWith<"123", "12">; // true\ntype S1 = StartsWith<"123", "13">; // false\ntype S2 = StartsWith<"123", "1234">; // false\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"${U}${infer Rest}"),"\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"U"),"\u653e\u5728\u5f00\u5934\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"infer"),"\u5173\u952e\u5b57\uff0c\u4f1a\u81ea\u52a8\u63a8\u5bfc\u5339\u914d\uff0c\u5982\u679c\u63a8\u5bfc\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Rest"),"\u53d8\u91cf\u7c7b\u578b\u6ee1\u8db3\u7ea6\u675f\u5219\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"\u5426\u5219\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"EndsWith"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type EndsWith<\n  T extends string,\n  U extends string\n> = T extends `${infer Head}${U}` ? true : false;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype E0 = EndsWith<"123", "23">; // true\ntype E1 = EndsWith<"123", "13">; // true\ntype E2 = EndsWith<"123", "123">; // true\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"${infer Head}${U}"),"\u4f4d\u7f6e\u8c03\u6362\u5373\u53ef\u3002\u4e0e\u53bb\u9664\u5de6\u8fb9\u7a7a\u683c\u53f3\u8fb9\u7a7a\u683c\u9898\u76ee\u7c7b\u578b\u903b\u8f91\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u5341\u4e5d\u9898"},"\u7b2c\u4e09\u5341\u4e5d\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"IsAny"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u5224\u65ad\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u662f\u5426\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"any"),"\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type IsAny<T> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype I0 = IsAny<never> // false\ntype I1 = IsAny<unknown> // false\ntype I2 = IsAny<any> // true\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"IsAny"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type IsAny<T> = 0 extends 1 & T ? true : false;\n\ntype I0 = IsAny<never>; // false\ntype I1 = IsAny<unknown>; // false\ntype I2 = IsAny<any>; // true\n")),(0,r.kt)("p",null,"\u5229\u7528\u4efb\u4f55\u7c7b\u578b\u4e0e",(0,r.kt)("inlineCode",{parentName:"p"},"any"),"\u4ea4\u53c9\u90fd\u7b49\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"any"),"\u5b9e\u73b0"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"any"),"\u7c7b\u578b\u662f\u4e2a \u201d\u9ed1\u6d1e\u201c \u4f1a\u541e\u566c\u9664\u4e86",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u7c7b\u578b\u4e4b\u5916\u7684\u5927\u591a\u6570\u7c7b\u578b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type A0 = any & 1; // any\ntype A1 = any & boolean; // any\ntype A2 = any & never; // never\n")),(0,r.kt)("p",null,"\u56e0\u6b64\u9700\u8981\u524d\u7f6e",(0,r.kt)("inlineCode",{parentName:"p"},"0 extends \u4ea4\u53c9\u7ed3\u679c"),"\u9632\u6b62\u4ea4\u53c9\u7ed3\u679c\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u7c7b\u578b\u7684\u60c5\u51b5\u5904\u7406\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u56db\u5341\u9898"},"\u7b2c\u56db\u5341\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"AnyOf"),"\u5de5\u5177\u7c7b\u578b\uff0c\u53ea\u8981\u6570\u7ec4\u4e2d\u4efb\u610f\u5143\u7d20\u7684\u7c7b\u578b\u975e ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy"},"Falsy")," \u7c7b\u578b\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"{}"),"\u7c7b\u578b\u6216",(0,r.kt)("inlineCode",{parentName:"p"},"[]"),"\u7c7b\u578b\uff0c\u5219\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"\uff0c\u5426\u5219\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"\u3002\u5982\u679c\u6570\u7ec4\u4e3a\u7a7a\u7684\u8bdd\uff0c\u5219\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type AnyOf<T extends any[]> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype A0 = AnyOf<[]>; // false\ntype A1 = AnyOf<[0, '', false, [], {}]> // false\ntype A2 = AnyOf<[1, \"\", false, [], {}]> // true\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"AnyOf"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type NotEmptyObject<T> = T extends {} ? ({} extends T ? false : true) : true;\ntype Flasy = 0 | '' | false | [];\ntype AnyOf<T extends any[]> = T extends [infer First, ...infer Rest]\n  ? [First] extends [Flasy]\n    ? AnyOf<Rest>\n    : NotEmptyObject<First>\n  : false;\n\ntype A0 = AnyOf<[]>; // false\ntype A1 = AnyOf<[0, '', false, [], {}]>; // false\ntype A2 = AnyOf<[1, '', false, [], {}]>; // true\ntype A3 = AnyOf<[0, '' | 2, false, [], {}]>; // true\n\u975e Falsy \u7c7b\u578b\u3001 {} \u7c7b\u578b\u6216 [] \u7c7b\u578b\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"NotEmptyObject"),"\u5de5\u5177\u7c7b\u578b\u5224\u65ad\u662f\u5426\u4e3a\u7a7a\u5bf9\u8c61",(0,r.kt)("inlineCode",{parentName:"p"},"{}"),"\uff0c\u5982\u679c\u662f\u76f4\u63a5\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"\uff1b"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"type = Flasy"),"\u5b9a\u4e49\u5c5e\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"Falsy"),"\u7684\u7c7b\u578b\uff1b"),(0,r.kt)("p",null,"1\u3001\u4f9d\u6b21\u53d6\u51fa\u7b2c\u4e00\u9879\uff0c\u901a\u8fc7\u5143\u7ec4\u5224\u65ad\u662f\u5426\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"Falsy"),"\u7c7b\u578b\uff08\u5143\u7ec4\u907f\u514d\u8054\u5408\u7c7b\u578b\u5206\u53d1\u6267\u884c\u60c5\u51b5\uff09\uff0c\u5982\u679c\u5f53\u524d\u9879",(0,r.kt)("inlineCode",{parentName:"p"},"First"),"\u6ee1\u8db3",(0,r.kt)("inlineCode",{parentName:"p"},"Falsy"),"\u7c7b\u578b\u5219\u7ee7\u7eed\u9012\u5f52\u4f9d\u6b21\u53d6\u51fa\u5143\u7d20\u8fdb\u884c\u5224\u65ad\uff0c\u5426\u5219\u518d\u5224\u65ad\u662f\u5426\u4e3a\u7a7a\u5bf9\u8c61\uff0c\u5982\u679c\u662f\u76f4\u63a5\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"\uff0c\u5982\u679c\u4e0d\u662f\u8bf4\u660e\u662f\u975e ",(0,r.kt)("inlineCode",{parentName:"p"},"Falsy"),"\u7c7b\u578b\u3001 ",(0,r.kt)("inlineCode",{parentName:"p"},"{}")," \u7c7b\u578b\u6216 ",(0,r.kt)("inlineCode",{parentName:"p"},"[] "),"\u7c7b\u578b\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u56db\u5341\u4e00\u9898"},"\u7b2c\u56db\u5341\u4e00\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"Replace"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u5b9e\u73b0\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u66ff\u6362\u64cd\u4f5c\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Replace<\n  S extends string,\n  From extends string,\n  To extends string\n> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype R0 = Replace<'', '', ''> // ''\ntype R1 = Replace<'foobar', 'bar', 'foo'> // \"foofoo\"\ntype R2 = Replace<'foobarbar', 'bar', 'foo'> // \"foofoobar\"\n")),(0,r.kt)("p",null,"\u6b64\u5916\uff0c\u7ee7\u7eed\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"ReplaceAll"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u5b9e\u73b0\u66ff\u6362\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u7684\u5b50\u4e32\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type ReplaceAll<\n  S extends string,\n  From extends string,\n  To extends string\n> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype R0 = ReplaceAll<'', '', ''> // ''\ntype R1 = ReplaceAll<'barfoo', 'bar', 'foo'> // \"foofoo\"\ntype R2 = ReplaceAll<'foobarbar', 'bar', 'foo'> // \"foofoofoo\"\ntype R3 = ReplaceAll<'foobarfoobar', 'ob', 'b'> // \"fobarfobar\"\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Replace"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Replace<\n  S extends string,\n  From extends string,\n  To extends string\n> = S extends `${infer H}${From}${infer R}` ? `${H}${To}${R}` : S;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype R0 = Replace<"", "", "">; // \'\'\ntype R1 = Replace<"foobar", "bar", "foo">; // "foofoo"\ntype R2 = Replace<"foobarbar", "bar", "foo">; // "foofoobar"\n')),(0,r.kt)("p",null,"1\u3001\u5229\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"extends"),"\uff0c\u914d\u5408",(0,r.kt)("inlineCode",{parentName:"p"},"infer"),"\u914d\u5408\u5b57\u7b26\u4e32\u6a21\u677f\u53d8\u91cf\u7684\u5199\u6cd5\u5c31\u80fd\u63d0\u53d6\u51fa\u6307\u5b9a\u7684\u5b50\u5b57\u7b26\u4e32\uff0c\u518d\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"From"),"\u6539\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"To"),"\u8fd4\u56de\u7ed3\u679c\u5373\u53ef\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ReplaceAll"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type ReplaceAll<\n  S extends string,\n  From extends string,\n  To extends string\n> = S extends `${infer H}${From}${infer R}`\n  ? `${ReplaceAll<H, From, To>}${To}${Replace<R, From, To>}`\n  : S;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype R0 = ReplaceAll<"", "", "">; // \'\'\ntype R1 = ReplaceAll<"barfoo", "bar", "foo">; // "foofoo"\ntype R2 = ReplaceAll<"foobarbar", "bar", "foo">; // "foofoofoo"\ntype R3 = ReplaceAll<"foobarfoobar", "ob", "b">; // "fobarfobar"\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ReplaceAll"),"\u5de5\u5177\u7c7b\u578b\u53d6\u51fa\u5b50\u5b57\u7b26\u4e32\u4e4b\u540e\u5229\u7528\u9012\u5f52\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u56db\u5341\u4e8c\u9898"},"\u7b2c\u56db\u5341\u4e8c\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"IndexOf"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u83b7\u53d6\u6570\u7ec4\u7c7b\u578b\u4e2d\u6307\u5b9a\u9879\u7684\u7d22\u5f15\u503c\u3002\u82e5\u4e0d\u5b58\u5728\u7684\u8bdd\uff0c\u5219\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"-1"),"\u5b57\u9762\u91cf\u7c7b\u578b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type IndexOf<A extends any[], Item> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype Arr = [1, 2, 3, 4, 5]\ntype I0 = IndexOf<Arr, 0> // -1\ntype I1 = IndexOf<Arr, 1> // 0\ntype I2 = IndexOf<Arr, 3> // 2\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"IndexOf"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type IndexOf<A extends any[], Item, L extends any[] = []> = A extends [\n  infer F,\n  ...infer R\n]\n  ? F extends Item\n    ? L["length"]\n    : IndexOf<R, Item, [...L, 1]>\n  : -1;\n\ntype Arr = [1, 2, 3, 4, 5];\ntype I0 = IndexOf<Arr, 0>; // -1\ntype I1 = IndexOf<Arr, 1>; // 0\ntype I2 = IndexOf<Arr, 3>; // 2\n')),(0,r.kt)("p",null,"\u6784\u5efa\u6570\u7ec4\u6765\u8bb0\u5f55\u8fed\u4ee3\u5230\u4e86\u54ea\u4e00\u9879\uff0c\u8fd9\u6837\u5339\u914d\u5230\u4e4b\u540e\u5c31\u80fd\u8fd4\u56de\u957f\u5ea6\uff0c\u5c31\u662f\u7d22\u5f15\u503c\u3002"),(0,r.kt)("p",null,"1\u3001\u4f9d\u6b21\u53d6\u6570\u7ec4\u7684\u7b2c\u4e00\u9879\u4e0e",(0,r.kt)("inlineCode",{parentName:"p"},"Item"),"\u6307\u5b9a\u7684\u503c\u6bd4\u8f83\u662f\u5426\u76f8\u7b49\uff0c\u627e\u5230\u5c31\u8fd4\u56de\u8bb0\u5f55\u7d22\u5f15\u503c\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"L"),"\u6570\u7ec4\uff1b"),(0,r.kt)("p",null,"2\u3001\u627e\u4e0d\u5230\u5219\u7ee7\u7eed\u589e\u52a0",(0,r.kt)("inlineCode",{parentName:"p"},"L"),"\u6570\u7ec4\u957f\u5ea6\uff1b"),(0,r.kt)("p",null,"3\u3001\u5982\u679c",(0,r.kt)("inlineCode",{parentName:"p"},"A extends [infer F, ...infer R]"),"\u6570\u7ec4\u53d6\u5b8c\u4e86\uff0c\u6ca1\u6709\u627e\u5230\uff0c\u76f4\u63a5\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"-1"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u56db\u5341\u4e09\u9898"},"\u7b2c\u56db\u5341\u4e09\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Permutation"),"\u5de5\u5177\u7c7b\u578b\uff0c\u5f53\u8f93\u5165\u4e00\u4e2a\u8054\u5408\u7c7b\u578b\u65f6\uff0c\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u8be5\u8054\u5408\u7c7b\u578b\u7684\u5168\u6392\u5217\u7c7b\u578b\u6570\u7ec4\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Permutation<T, K=T> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\n// ["a", "b"] | ["b", "a"]\ntype P0 = Permutation<\'a\' | \'b\'>  // [\'a\', \'b\'] | [\'b\' | \'a\']\n// type P1 = ["a", "b", "c"] | ["a", "c", "b"] | ["b", "a", "c"]\n// | ["b", "c", "a"] | ["c", "a", "b"] | ["c", "b", "a"]\ntype P1 = Permutation<\'a\' | \'b\' | \'c\'>\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Permutation"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type Permutation<T, K = T> = [T] extends [never]\n  ? []\n  : K extends K\n  ? [K, ...Permutation<Exclude<T, K>>]\n  : never;\n\ntype P0 = Permutation<"a" | "b">; // [\'a\', \'b\'] | [\'b\' | \'a\']\ntype P1 = Permutation<"a" | "b" | "c">;\n// => ["a", "b", "c"] | ["a", "c", "b"] | ["b", "a", "c"] | ["b", "c", "a"]\n// |["c", "a", "b"] | ["c", "b", "a"]\n')),(0,r.kt)("p",null,"\u76f4\u63a5\u7528\u4f20\u5165",(0,r.kt)("inlineCode",{parentName:"p"},"'a' | 'b' | 'c'"),"\u4e3a\u4f8b\u5b50\u8bf4\u660e\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"\u8fd9\u91cc\u7b80\u5316 Exclude \u540e\u7684\u7ed3\u679c\n1\u3001\n['a', ...Permutation<'b' | 'c'>] | ['b', ...Permutation<'a' | 'c'>] |\n['c', ...Permutation<'a' | 'b'>]\n\n2\u3001\n=> ...Permutation<'b' | 'c'> \u9012\u5f52\u505a\u518d\u6b21\u5206\u53d1\u540e\n=> ['b', ...Permutation<'c'>] | ['c', ...Permutation<'b'>]\n=> ['b', 'c'] | ['c', 'b']\n\n3\u3001\u518d\u4e0e 1 \u7ed3\u5408\u4e5f\u5c31\u662f \uff08...\u4f1a\u5c06\u7ed3\u679c\u5c55\u5f00\uff09\n=> ['a', 'b', 'c']  |  ['a', 'c', 'b']\n\n\u518d\u53cd\u590d\u4e0a\u9762\u7684 1 2 3 \u6b65\u9aa4\u5f97\u5230\u6700\u7ec8\u7ed3\u679c\n=> type P1 = [\"a\", \"b\", \"c\"] | [\"a\", \"c\", \"b\"] | [\"b\", \"a\", \"c\"] | [\"b\", \"c\", \"a\"] |[\"c\", \"a\", \"b\"] | [\"c\", \"b\", \"a\"]\n")),(0,r.kt)("h2",{id:"\u7b2c\u56db\u5341\u56db\u9898"},"\u7b2c\u56db\u5341\u56db\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"Unpacked"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u5bf9\u7c7b\u578b\u6267\u884c \u201c\u62c6\u7bb1\u201d \u64cd\u4f5c\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Unpacked<T> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype T00 = Unpacked<string>;  // string\ntype T01 = Unpacked<string[]>;  // string\ntype T02 = Unpacked<() => string>;  // string\ntype T03 = Unpacked<Promise<string>>;  // string\ntype T04 = Unpacked<Unpacked<Promise<string>[]>>;  // string\ntype T05 = Unpacked<any>;  // any\ntype T06 = Unpacked<never>;  // never\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Unpacked"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Unpacked<T> = T extends (infer U)[]\n  ? U\n  : T extends (...args: any[]) => infer U\n  ? U\n  : T extends Promise<infer U>\n  ? U\n  : T;\n\n// \u6d4b\u8bd5\u7528\u4f8b\ntype T00 = Unpacked<string>; // string\ntype T01 = Unpacked<string[]>; // string\ntype T02 = Unpacked<() => string>; // string\ntype T03 = Unpacked<Promise<string>>; // string\ntype T04 = Unpacked<Unpacked<Promise<string>[]>>; // string\ntype T05 = Unpacked<any>; // any\ntype T06 = Unpacked<never>; // never\n")),(0,r.kt)("p",null,"1\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"(infer U)[]"),"\u5904\u7406\u6570\u7ec4\u7c7b\u578b\uff0c\u5e76\u8fd4\u56de\u6570\u7ec4\u7c7b\u578b\u7684\u5177\u4f53\u7c7b\u578b\uff1b"),(0,r.kt)("p",null,"2\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"(...args: any[]) => infer U"),"\u5904\u7406\u51fd\u6570\u7c7b\u578b\uff0c\u63a8\u65ad\u62ff\u5230\u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b\uff1b"),(0,r.kt)("p",null,"3\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"Promise<infer U>"),"\u5904\u7406",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"\u7c7b\u578b\uff0c\u8fd9\u91cc\u5d4c\u5957\u8c03\u7528\u8fd4\u56de\uff1b"),(0,r.kt)("p",null,"4\u3001\u5426\u5219\u90fd\u4e0d\u662f\u4e0a\u9762\u4e09\u79cd\u7c7b\u578b\u5176\u4e2d\u4e00\u79cd\uff0c\u76f4\u63a5\u8fd4\u56de\u672c\u8eab\u7c7b\u578b\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u56db\u5341\u4e94\u9898"},"\u7b2c\u56db\u5341\u4e94\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"JsonifiedObject"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u5bf9",(0,r.kt)("inlineCode",{parentName:"p"},"object"),"\u5bf9\u8c61\u7c7b\u578b\u8fdb\u884c\u5e8f\u5217\u5316\u64cd\u4f5c\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type JsonifiedObject<T extends object> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype MyObject = {\n  str: "literalstring",\n  fn: () => void,\n  date: Date,\n  customClass: MyClass,\n  obj: {\n    prop: "property",\n    clz: MyClass,\n    nested: { attr: Date }\n  },\n}\n\ndeclare class MyClass {\n  toJSON(): "MyClass";\n}\n\n/**\n * type JsonifiedMyObject = {\n *  str: "literalstring";\n *  fn: never;\n *  date: string;\n *  customClass: "MyClass";\n *  obj: JsonifiedObject<{\n *    prop: "property";\n *    clz: MyClass;\n *    nested: {\n *      attr: Date;\n *    };\n *   }>;\n * }\n*/\ntype JsonifiedMyObject = Jsonified<MyObject>;\ndeclare let ex: JsonifiedMyObject;\nconst z1: "MyClass" = ex.customClass;\nconst z2: string = ex.obj.nested.attr;\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"JsonifiedObject"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type JsonifiedObject<T extends object> = {\n  [K in keyof T]: T[K] extends { toJSON(): infer Return }\n    ? ReturnType<T[K]["toJSON"]>\n    : T[K] extends (...args: any[]) => any\n    ? never\n    : T[K] extends object\n    ? JsonifiedObject<T[K]>\n    : T[K];\n};\n\ndeclare class MyClass {\n  toJSON(): "MyClass";\n}\n\ntype MyObject = {\n  str: "literalstring";\n  fn: () => void;\n  date: Date;\n  customClass: MyClass;\n  obj: {\n    prop: "property";\n    clz: MyClass;\n    nested: { attr: Date };\n  };\n};\n\n// \u6d4b\u8bd5\u7528\u4f8b\n/**\n * type JsonifiedMyObject = {\n *  str: "literalstring";\n *  fn: never;\n *  date: string;\n *  customClass: "MyClass";\n *  obj: JsonifiedObject<{\n *    prop: "property";\n *    clz: MyClass;\n *    nested: {\n *      attr: Date;\n *    };\n *   }>;\n * }\n */\ntype JsonifiedMyObject = JsonifiedObject<MyObject>;\ndeclare let ex: JsonifiedMyObject;\nconst z1: "MyClass" = ex.customClass;\nconst z2: string = ex.obj.nested.attr;\n')),(0,r.kt)("p",null,"\u4f9d\u6b21\u904d\u5386\u5bf9\u8c61\uff0c\u5bf9\u4e00\u4e9b\u5c5e\u6027\u7c7b\u578b\u505a\u7279\u6b8a\u5904\u7406"),(0,r.kt)("p",null,"1\u3001\u5c5e\u6027\u5b9a\u4e49\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"MyClass"),"\u7c7b\u7c7b\u578b\u9700\u8981\u53d6\u7684\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"toJSON"),"\u51fd\u6570\u5c5e\u6027\u7684\u503c\uff0c\u4ece\u65b0\u4f5c\u4e3a\u5c5e\u6027\u7684\u5b57\u9762\u91cf\uff1b"),(0,r.kt)("p",null,"2\u3001\u5c5e\u6027\u5b9a\u4e49\u4e3a\u51fd\u6570\u7c7b\u578b\u9700\u8981\u6539\u53d8\u6210",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u7c7b\u578b\uff1b"),(0,r.kt)("p",null,"3\u3001\u6df1\u5c42\u5bf9\u8c61\u9700\u8981\u9012\u5f52\u904d\u5386\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u56db\u5341\u516d\u9898"},"\u7b2c\u56db\u5341\u516d\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"RequireAllOrNone"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u6ee1\u8db3\u4ee5\u4e0b\u529f\u80fd\u3002\u5373\u5f53\u8bbe\u7f6e",(0,r.kt)("inlineCode",{parentName:"p"},"age"),"\u5c5e\u6027\u65f6\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"gender"),"\u5c5e\u6027\u4e5f\u4f1a\u53d8\u6210\u5fc5\u586b\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Person {\n  name: string;\n  age?: number;\n  gender?: number;\n}\n\ntype RequireAllOrNone<T, K extends keyof T> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\nconst p1: RequireAllOrNone<Person, 'age' | 'gender'> = {\n  name: \"lolo\"\n};\n\nconst p2: RequireAllOrNone<Person, 'age' | 'gender'> = {\n  name: \"lolo\",\n  age: 7,\n  gender: 1\n};\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"RequireAllOrNone"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type RequireAllOrNone<T, K extends keyof T> = Omit<T, K> &\n  (Required<Pick<T, K>> | Partial<Record<K, never>>);\n\n// \u6d4b\u8bd5\u7528\u4f8b\nconst p1: RequireAllOrNone<Person, "age" | "gender"> = {\n  name: "lolo",\n};\n\nconst p2: RequireAllOrNone<Person, "age" | "gender"> = {\n  name: "lolo",\n  age: 7,\n  gender: 1,\n};\n\n// Error: \u7f3a\u5c11 gender \u5c5e\u6027\nconst p3: RequireAllOrNone<Person, "age" | "gender"> = {\n  name: "lolo",\n  age: 1,\n};\n')),(0,r.kt)("p",null,"\u9898\u76ee\u7684\u8981\u6c42\u662f\u5982\u679c\u5bf9\u8c61\u8bbe\u7f6e\u4e86",(0,r.kt)("inlineCode",{parentName:"p"},"age"),"\u5c5e\u6027\uff0c\u90a3\u4e48\u5c31\u9700\u8981",(0,r.kt)("inlineCode",{parentName:"p"},"gender"),"\u5c5e\u6027\uff1b"),(0,r.kt)("p",null,"1\u3001\u53cd\u9009\u6392\u9664",(0,r.kt)("inlineCode",{parentName:"p"},"K"),"\u540e\u7684\u7ed3\u679c\uff1b"),(0,r.kt)("p",null,"2\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"Required<Pick<T, K>>"),"\u5148\u9009\u53d6",(0,r.kt)("inlineCode",{parentName:"p"},"K"),"\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"\u6709\u7684\u5c5e\u6027\uff0c\u7136\u540e\u628a\u9009\u53d6\u5b8c\u7684\u7c7b\u578b\uff0c\u5c06\u5b83\u4eec\u53d8\u6210\u5fc5\u9009\uff1b"),(0,r.kt)("p",null,"3\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"Partial<Record<K, never>>)"),"\u5148\u521b\u5efa\u6709",(0,r.kt)("inlineCode",{parentName:"p"},"K"),"\u5c5e\u6027\u7684\u5bf9\u8c61\u7c7b\u578b\uff0c\u5c5e\u6027\u7c7b\u578b\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u90fd\u53d8\u6210\u53ef\u9009\u5c5e\u6027\uff1b"),(0,r.kt)("p",null,"4\u3001\u4ee5\u4e0a\u9762\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"'age' | 'gender'"),"\u4e3a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{ age: number ; gender: number} | { age? : undefined | never; gender?: undefined | never}\n")),(0,r.kt)("p",null,"\u8fd9\u6837\u5982\u679c\u5bf9\u8c61\u8bbe\u7f6e\u4e86",(0,r.kt)("inlineCode",{parentName:"p"},"age"),"\u5c5e\u6027\uff0c\u6216\u8005",(0,r.kt)("inlineCode",{parentName:"p"},"gender"),"\u5c5e\u6027\u90a3\u4e48\u5339\u914d\u524d\u4e00\u5bf9\u8c61\u7c7b\u578b\uff0c\u5426\u5219\u5339\u914d\u540e\u4e00\u5bf9\u8c61\u7c7b\u578b\uff1b"),(0,r.kt)("p",null,"5\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"name"),"\u5c5e\u6027\u9700\u8981\u4fdd\u7559\uff0c\u56e0\u6b64\u4f7f\u7528\u53cd\u9009\uff0c\u5355\u72ec\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"name"),"\u5c5e\u6027\u62bd\u79bb\u51fa\u6765\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u56db\u5341\u4e03\u9898"},"\u7b2c\u56db\u5341\u4e03\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"RequireExactlyOne"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u6ee1\u8db3\u4ee5\u4e0b\u529f\u80fd\u3002\u5373\u53ea\u80fd\u5305\u542b",(0,r.kt)("inlineCode",{parentName:"p"},"age"),"\u6216",(0,r.kt)("inlineCode",{parentName:"p"},"gender"),"\u5c5e\u6027\uff0c\u4e0d\u80fd\u540c\u65f6\u5305\u542b\u8fd9\u4e24\u4e2a\u5c5e\u6027\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Person {\n  name: string;\n  age?: number;\n  gender?: number;\n}\n\n// \u53ea\u80fd\u5305\u542bKeys\u4e2d\u552f\u4e00\u7684\u4e00\u4e2aKey\ntype RequireExactlyOne<T, Keys extends keyof T> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\nconst p1: RequireExactlyOne<Person, 'age' | 'gender'> = {\n  name: \"lolo\",\n  age: 7,\n};\n\nconst p2: RequireExactlyOne<Person, 'age' | 'gender'> = {\n  name: \"lolo\",\n  gender: 1\n};\n\n// Error\nconst p3: RequireExactlyOne<Person, 'age' | 'gender'> = {\n  name: \"lolo\",\n  age: 7,\n  gender: 1\n};\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"RequireExactlyOne"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// // \u60f3\u8981\u6784\u5efa\u6210\u8fd9\u4e2a\u6837\u5b50\u624d\u53ef\u4ee5\u6ee1\u8db3\u6761\u4ef6\ntype Test = { name: string } & (\n  | { age: number; gender?: never }\n  | { age?: never; gender: number }\n);\n\ntype RequireExactlyOne<\n  T,\n  Keys extends keyof T,\n  K extends keyof T = Keys\n> = Keys extends any\n  ? Omit<T, K> &\n      Required<Pick<T, Keys>> &\n      Partial<Record<Exclude<K, Keys>, never>>\n  : never;\n\ntype TTT =\n  | ({ name: string } & { age: number } & { gender?: never })\n  | ({ name: string } & { age?: never } & { gender: number });\n")),(0,r.kt)("p",null,"\u5229\u7528\u8054\u5408\u7c7b\u578b",(0,r.kt)("inlineCode",{parentName:"p"},"extends"),"\u5b9e\u73b0\u5206\u5e03\u6267\u884c\uff0c\u7136\u540e\u5c31\u662f\u5982\u4f55\u8ba9\u8054\u5408\u7c7b\u578b\u89c4\u5219\u53ea\u6709\u5176\u4e2d\u67d0\u4e00\u4e2a\u751f\u6548\uff0c\u90a3\u4e48\u5176\u4ed6\u5c5e\u6027\u5c31\u9700\u8981\u8bbe\u7f6e\u4e3a\u53ef\u9009",(0,r.kt)("inlineCode",{parentName:"p"},"never"),"\u3002"),(0,r.kt)("p",null,"\u4ee5\u4f20\u5165",(0,r.kt)("inlineCode",{parentName:"p"},"'age' | 'gender'"),"\u4e3a\u4f8b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Keys"),"\u7528\u4f5c\u5206\u5e03\u6267\u884c\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"Keys extends any"),"\u5c31\u662f\u4e3a\u4e86\u89e6\u53d1\u8054\u5408\u7c7b\u578b\u5728\u6761\u4ef6\u4e2d\u5206\u53d1\u6267\u884c\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"K"),"\u4fdd\u7559\u8054\u5408\u7c7b\u578b\u3002"),(0,r.kt)("p",null,"\u4e0b\u9762\u4f1a\u88ab\u6267\u884c\u6210"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"{ name: string } & { age: number } & { gender?: never } |\n{ name: string } & { age?: never } & { gender: number }\n")),(0,r.kt)("p",null,"\u7b80\u5316\u4e4b\u540e\u4e5f\u5c31\u5f97\u5230\u6211\u4eec\u6ee1\u8db3\u6761\u4ef6\u7684\u6837\u5b50\u4e0a\u9762\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Test"),"\u3002"),(0,r.kt)("h2",{id:"\u7b2c\u56db\u5341\u516b\u9898"},"\u7b2c\u56db\u5341\u516b\u9898"),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"ConsistsOnlyOf"),"\u5de5\u5177\u7c7b\u578b\uff0c\u7528\u4e8e\u5224\u65ad",(0,r.kt)("inlineCode",{parentName:"p"},"LongString"),"\u5b57\u7b26\u4e32\u7c7b\u578b\u662f\u5426\u7531",(0,r.kt)("inlineCode",{parentName:"p"},"0"),"\u4e2a\u6216\u591a\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"Substring"),"\u5b57\u7b26\u4e32\u7c7b\u578b\u7ec4\u6210\u3002\u5177\u4f53\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type ConsistsOnlyOf<LongString extends string, Substring extends string> = // \u4f60\u7684\u5b9e\u73b0\u4ee3\u7801\n\ntype C0 = ConsistsOnlyOf<'aaa', 'a'> //=> true\ntype C1 = ConsistsOnlyOf<'ababab', 'ab'> //=> true\ntype C2 = ConsistsOnlyOf<'aBa', 'a'> //=> false\ntype C3 = ConsistsOnlyOf<'', 'a'> //=> true\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ConsistsOnlyOf"),"\u5de5\u5177\u7c7b\u578b\u5b9e\u73b0\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'type ConsistsOnlyOf<\n  LongString extends string,\n  Substring extends string\n> = LongString extends ""\n  ? true\n  : LongString extends `${Substring}${infer B}`\n  ? ConsistsOnlyOf<B, Substring>\n  : false;\n')),(0,r.kt)("p",null,"1\u3001\u9996\u5148\u9700\u8981\u5224\u65ad\u662f\u5426\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u662f\u76f4\u63a5\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"\uff1b"),(0,r.kt)("p",null,"2\u3001\u5426\u5219\u5229\u7528\u6a21\u677f\u5b57\u7b26\u4e32\u8bed\u6cd5\uff0c\u4ee5\u53ca",(0,r.kt)("inlineCode",{parentName:"p"},"infer"),"\u4ece\u5f00\u5934\u4e00\u6b65\u6b65\u7684\u5339\u914d\uff0c\u51cf\u6cbb\u601d\u60f3\u3002\u5339\u914d\u6210\u529f\u5219\u7ee7\u7eed\u9012\u5f52\uff0c\u76f4\u81f3\u5b57\u7b26\u4e32\u4e3a\u7a7a\u4e3a\u6b62\u3002"),(0,r.kt)("h2",{id:"\u672b\u5c3e"},"\u672b\u5c3e"),(0,r.kt)("p",null,"\u540e\u7eed\u6709\u65b0\u7684\u9898\u76ee\u4f1a\u540c\u6b65\u66f4\u65b0\u5728\u8fd9\u7bc7\u6587\u7ae0\uff0c\u5bf9\u5e94\u7684 TypeScipt \u5de5\u5177\u7c7b\u578b\u5e93\u63a8\u8350",(0,r.kt)("a",{parentName:"p",href:"https://github.com/sindresorhus/type-fest"},"type-fest"),"\u3002"))}k.isMDXComponent=!0}}]);