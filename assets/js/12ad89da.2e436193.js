(self.webpackChunkzxuqian_cn=self.webpackChunkzxuqian_cn||[]).push([[296],{2122:function(n,e,t){"use strict";function r(){return(r=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}t.d(e,{Z:function(){return r}})},9756:function(n,e,t){"use strict";function r(n,e){if(null==n)return{};var t,r,a={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}t.d(e,{Z:function(){return r}})},3905:function(n,e,t){"use strict";t.d(e,{Zo:function(){return p},kt:function(){return m}});var r=t(7294);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){a(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function c(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var u=r.createContext({}),l=function(n){var e=r.useContext(u),t=e;return n&&(t="function"==typeof n?n(e):i(i({},e),n)),t},p=function(n){var e=l(n.components);return r.createElement(u.Provider,{value:e},n.children)},s={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},d=r.forwardRef((function(n,e){var t=n.components,a=n.mdxType,o=n.originalType,u=n.parentName,p=c(n,["components","mdxType","originalType","parentName"]),d=l(t),m=a,f=d["".concat(u,".").concat(m)]||d[m]||s[m]||o;return t?r.createElement(f,i(i({ref:e},p),{},{components:t})):r.createElement(f,i({ref:e},p))}));function m(n,e){var t=arguments,a=e&&e.mdxType;if("string"==typeof n||a){var o=t.length,i=new Array(o);i[0]=d;var c={};for(var u in e)hasOwnProperty.call(e,u)&&(c[u]=e[u]);c.originalType=n,c.mdxType="string"==typeof n?n:a,i[1]=c;for(var l=2;l<o;l++)i[l]=t[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4107:function(n,e,t){"use strict";t.r(e),t.d(e,{frontMatter:function(){return i},contentTitle:function(){return c},metadata:function(){return u},toc:function(){return l},default:function(){return s}});var r=t(2122),a=t(9756),o=(t(7294),t(3905)),i={slug:"/js-func",layout:"Post",title:"\u5341\u4e2a\u5b9e\u7528\u7684 JavaScript \u51fd\u6570",date:new Date("2021-08-17T00:00:00.000Z"),author:"Lucas",author_title:"\u4e00\u679a\u5c0f\u524d\u7aef",author_url:"https://github.com/ihoneys",author_image_url:"img/ihoneys.png",catalog:!0,tags:["JavaScript"]},c=void 0,u={permalink:"/js-func",source:"@site/blog/2021-08-17-\u5341\u4e2a JavaScript \u5b9e\u7528\u51fd\u6570.md",title:"\u5341\u4e2a\u5b9e\u7528\u7684 JavaScript \u51fd\u6570",description:"\u8fd9\u91cc\u5206\u4eab\u5341\u4e2a\u6709\u8fc7\u5bf9\u81ea\u5df1\u65e5\u5e38\u5de5\u4f5c\u5e2e\u52a9\u5b9e\u7528\u51fd\u6570~",date:"2021-08-17T00:00:00.000Z",formattedDate:"2021\u5e748\u670817\u65e5",tags:[{label:"JavaScript",permalink:"/tags/java-script"}],readingTime:2.68,truncated:!0,prevItem:{title:"CSS UI\u5b9e\u73b0\u4e2d\u7684\u4e00\u4e9b\u5c0f\u6280\u5de7",permalink:"/css-skill"},nextItem:{title:"JavaScript Code Optimization",permalink:"/js-code"}},l=[{value:"1.\u5224\u65ad\u6570\u636e\u662f\u5426\u4e3a\u7a7a",id:"1\u5224\u65ad\u6570\u636e\u662f\u5426\u4e3a\u7a7a",children:[]},{value:"2.\u83b7\u53d6 url \u4e2d\u7684\u53c2\u6570",id:"2\u83b7\u53d6-url-\u4e2d\u7684\u53c2\u6570",children:[]},{value:"3.\u52a0\u89e3\u5bc6",id:"3\u52a0\u89e3\u5bc6",children:[]},{value:"4.\u5224\u65ad\u662f\u5426\u662f\u8868\u60c5\uff08emoji\uff09",id:"4\u5224\u65ad\u662f\u5426\u662f\u8868\u60c5\uff08emoji\uff09",children:[]},{value:"5.\u5224\u65ad\u624b\u673a\u673a\u578b",id:"5\u5224\u65ad\u624b\u673a\u673a\u578b",children:[]},{value:"6. \u5224\u65ad\u5fae\u4fe1\u6d4f\u89c8\u5668",id:"6-\u5224\u65ad\u5fae\u4fe1\u6d4f\u89c8\u5668",children:[]},{value:"7.\u9632\u6296\u51fd\u6570",id:"7\u9632\u6296\u51fd\u6570",children:[]},{value:"8.\u8f6c\u5343\u5206\u4f4d\u91d1\u989d",id:"8\u8f6c\u5343\u5206\u4f4d\u91d1\u989d",children:[]},{value:"9.\u6253\u4e71\u6570\u7ec4",id:"9\u6253\u4e71\u6570\u7ec4",children:[]},{value:"10.\u65e5\u671f\u51fd\u6570",id:"10\u65e5\u671f\u51fd\u6570",children:[]}],p={toc:l};function s(n){var e=n.components,t=(0,a.Z)(n,["components"]);return(0,o.kt)("wrapper",(0,r.Z)({},p,t,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"\u8fd9\u91cc\u5206\u4eab\u5341\u4e2a\u6709\u8fc7\u5bf9\u81ea\u5df1\u65e5\u5e38\u5de5\u4f5c\u5e2e\u52a9\u5b9e\u7528\u51fd\u6570~"),(0,o.kt)("h2",{id:"1\u5224\u65ad\u6570\u636e\u662f\u5426\u4e3a\u7a7a"},"1.\u5224\u65ad\u6570\u636e\u662f\u5426\u4e3a\u7a7a"),(0,o.kt)("p",null,"\u8bf7\u6c42\u6570\u636e\u8fd4\u56de\uff0c\u9700\u8981\u5224\u65ad\u662f\u5426\u4e3a\u7a7a\uff0c\u4fdd\u8bc1\u6570\u636e\u8fd4\u56de\u6b63\u786e\u6e32\u67d3\u9875\u9762\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'export function isObjEmpty(obj) {\n  return (\n    obj === undefined ||\n    obj === "undefined" ||\n    obj == null ||\n    obj === "" ||\n    obj.length === 0 ||\n    (typeof obj === "object" && Object.keys(obj).length === 0)\n  );\n}\n')),(0,o.kt)("h2",{id:"2\u83b7\u53d6-url-\u4e2d\u7684\u53c2\u6570"},"2.\u83b7\u53d6 url \u4e2d\u7684\u53c2\u6570"),(0,o.kt)("p",null,"\u67d0\u4e9b\u6570\u636e\u901a\u8fc7 url \u53c2\u6570\u643a\u5e26\u56de\u6765\uff0c\u6bd4\u5982\u81ea\u5df1\u5b9a\u4e49\u5fae\u4fe1\u652f\u4ed8\u6210\u529f\u5931\u8d25\u56de\u8c03\u5730\u5740\u643a\u5e26\u8ba2\u5355\u72b6\u6001\u53c2\u6570\uff0c\u5c31\u9700\u8981\u62ff\u5230 url \u53c2\u6570\u503c\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'export function getUrlParams() {\n  let url = decodeURIComponent(window.location.href);\n  url = url.replace(/\\s/g, "");\n  const params = url.match(/([^?=&]+)(=([^&]*))/g) || [];\n  const obj = params.reduce(\n    (a, v) => (\n      (a[v.slice(0, v.indexOf("="))] = v.slice(v.indexOf("=") + 1)), a\n    ),\n    {}\n  );\n  return obj;\n}\n')),(0,o.kt)("h2",{id:"3\u52a0\u89e3\u5bc6"},"3.\u52a0\u89e3\u5bc6"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"AES \u52a0\u89e3\u5bc6")),(0,o.kt)("p",null,"\u8fd9\u91cc\u9700\u8981\u7528\u5230 ",(0,o.kt)("inlineCode",{parentName:"p"},"crypto-js"),"\u5e93\uff0c\u9700\u8981\u5148 npm \u5b89\u88c5"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"npm install  crypto-js -D\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'import CryptoJS from "crypto-js";\n\nconst key = "3CJQFPI8GDNV9RKZ";\n// \u89e3\u5bc6\nexport function aesDecode(encryptedStr) {\n  const encryptedHexStr = CryptoJS.enc.Base64.parse(encryptedStr);\n  const encryptedBase64Str = CryptoJS.enc.Base64.stringify(encryptedHexStr);\n  const decryptedData = CryptoJS.AES.decrypt(encryptedBase64Str, key, {\n    mode: CryptoJS.mode.ECB,\n    padding: CryptoJS.pad.Pkcs7,\n  });\n  return decryptedData.toString(CryptoJS.enc.Utf8);\n}\n\n// \u52a0\u5bc6\nexport function aesEncode(str) {\n  const encryptedData = CryptoJS.AES.encrypt(str, key, {\n    mode: CryptoJS.mode.ECB,\n    padding: CryptoJS.pad.Pkcs7,\n  });\n  return encryptedData.toString();\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"SM4 \u52a0\u89e3\u5bc6")),(0,o.kt)("p",null,"\u5148\u5b89\u88c5 ",(0,o.kt)("inlineCode",{parentName:"p"},"gm-crypt")," \u5e93"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"npm install  gm-crypt -D\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'import crypt from "gm-crypt";\nconst SM4 = crypt.sm4;\n\n// \u52a0\u89e3\u5bc6\u914d\u7f6e\u4f8b\u5982\uff1a\nconst sm4Config = {\n  key: "4fbxytabWE266492",\n  mode: "ecb",\n  iv: "UISwD9fW6cFh9SNS",\n  cipherType: "text",\n};\nconst createSm4 = new SM4(sm4Config);\n\n// \u89e3\u5bc6\nexport function sm4Decrypt(val) {\n  return createSm4.decrypt(val);\n}\n\n// \u52a0\u5bc6\nexport function sm4Encrypt(val) {\n  return createSm4.encrypt(val);\n}\n')),(0,o.kt)("h2",{id:"4\u5224\u65ad\u662f\u5426\u662f\u8868\u60c5\uff08emoji\uff09"},"4.\u5224\u65ad\u662f\u5426\u662f\u8868\u60c5\uff08emoji\uff09"),(0,o.kt)("p",null,"\u5728\u4e00\u4e9b\u8868\u5355\u8f93\u5165\u6846\uff0c\u9700\u8981\u9650\u5236\u8f93\u5165\u8868\u60c5\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"export function isEmojiCharacter(str) {\n  return /(\\ud83c[\\udf00-\\udfff])|(\\ud83d[\\udc00-\\ude4f\\ude80-\\udeff])|[\\u2600-\\u2B55]/g.test(\n    str\n  );\n}\n")),(0,o.kt)("h2",{id:"5\u5224\u65ad\u624b\u673a\u673a\u578b"},"5.\u5224\u65ad\u624b\u673a\u673a\u578b"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u5224\u65ad\u662f\u5426\u82f9\u679c\u8bbe\u5907\uff1a")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'export function checkIsAppleDevice() {\n  let u = navigator.userAgent;\n  const ios = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\n  const iPad = u.indexOf("iPad") > -1;\n  const iPhone = u.indexOf("iPhone") > -1 || u.indexOf("Mac") > -1;\n  return ios || iPad || iPhone;\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u5224\u65ad\u662f\u5426\u4e3a Andriod \u8bbe\u5907\uff1a")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'export function checkIsAndroidDevice() {\n  let u = navigator.userAgent;\n  return u.indexOf("Android") > -1 || u.indexOf("Adr") > -1;\n}\n')),(0,o.kt)("h2",{id:"6-\u5224\u65ad\u5fae\u4fe1\u6d4f\u89c8\u5668"},"6. \u5224\u65ad\u5fae\u4fe1\u6d4f\u89c8\u5668"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'export function isWeixinBrower() {\n  const ua = window.navigator.userAgent.toLowerCase();\n  const match = ua.match(/MicroMessenger/i);\n  if (match === null) {\n    return false;\n  }\n  if (match.includes("micromessenger")) {\n    return true;\n  }\n  return false;\n}\n')),(0,o.kt)("h2",{id:"7\u9632\u6296\u51fd\u6570"},"7.\u9632\u6296\u51fd\u6570"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"/**\n * @param func \u6267\u884c\u51fd\u6570\n * @param wait \u95f4\u9694\u65f6\u95f4\n * @param immediate \u662f\u5426\u7acb\u5373\u6267\u884c\n * @returns\n */\nexport function debounce(func, wait = 300, immediate = true) {\n  // \u8bbe\u7f6e\u5b9a\u65f6\u5668\n  let timeout;\n  return (...args) => {\n    const later = () => {\n      timeout = null;\n      if (!immediate) func.apply(this, args);\n    };\n\n    const callNow = immediate && !timeout;\n\n    clearTimeout(timeout);\n\n    timeout = setTimeout(later, wait);\n\n    if (callNow) func.apply(this, args);\n  };\n}\n")),(0,o.kt)("h2",{id:"8\u8f6c\u5343\u5206\u4f4d\u91d1\u989d"},"8.\u8f6c\u5343\u5206\u4f4d\u91d1\u989d"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'export function getThousandText(amount) {\n  return amount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ",");\n}\n')),(0,o.kt)("h2",{id:"9\u6253\u4e71\u6570\u7ec4"},"9.\u6253\u4e71\u6570\u7ec4"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"function getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nexport function shuffle(arr) {\n  let _arr = arr.slice();\n  for (let i = 0; i < _arr.length; i++) {\n    let j = getRandomInt(0, i);\n    let t = _arr[i];\n    _arr[i] = _arr[j];\n    _arr[j] = t;\n  }\n  return _arr;\n}\n")),(0,o.kt)("h2",{id:"10\u65e5\u671f\u51fd\u6570"},"10.\u65e5\u671f\u51fd\u6570"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'function formateDate(time = Date.now()) {\n  function addDateZero(num) {\n    return num < 10 ? `0${num}` : num;\n  }\n\n  const d = new Date(time);\n\n  const [year, month, day, hours, minute] = [\n    d.getFullYear(),\n    d.getMonth() + 1,\n    d.getDate(),\n    d.getHours(),\n    d.getMinutes(),\n  ];\n  const formatDay = [year, month, day].map(addDateZero).join("-");\n  const formatHour = [hours, minute].map(addDateZero).join(":");\n\n  return {\n    formatDay,\n    formatHour,\n  };\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u6700\u540e")),(0,o.kt)("p",null,"\u6709\u4e00\u4e9b\u5e76\u4e0d\u4e00\u5b9a\u80fd\u591f\u7528\u5230\uff0c\u8fd8\u9700\u8981\u6839\u636e\u9879\u76ee\u548c\u4ee5\u53ca\u9700\u6c42\u624d\u80fd\u5b9e\u7528\u4e0a\uff0c\u53ef\u4ee5\u6536\u85cf\u4e00\u6ce2\u3002"))}s.isMDXComponent=!0}}]);