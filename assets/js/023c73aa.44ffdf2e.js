(self.webpackChunkzxuqian_cn=self.webpackChunkzxuqian_cn||[]).push([[7493],{2122:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return a}})},9756:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,{Z:function(){return a}})},3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return k}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),p=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(u.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,u=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=p(n),k=r,m=d["".concat(u,".").concat(k)]||d[k]||s[k]||l;return n?a.createElement(m,o(o({ref:t},c),{},{components:n})):a.createElement(m,o({ref:t},c))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=d;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5080:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return i},metadata:function(){return u},toc:function(){return p},default:function(){return s}});var a=n(2122),r=n(9756),l=(n(7294),n(3905)),o={title:"React",subtitle:"React \u76f8\u5173\u9762\u8bd5\u9898",date:new Date("2022-04-01T00:00:00.000Z"),sidebar:"auto",categories:["\u9762\u8bd5\u9898"],tags:["React","\u9762\u8bd5\u9898"]},i=void 0,u={unversionedId:"interview/react",id:"interview/react",isDocsHomePage:!1,title:"React",description:"React \u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f",source:"@site/docs/interview/react.md",sourceDirName:"interview",slug:"/interview/react",permalink:"/docs/interview/react",version:"current",frontMatter:{title:"React",subtitle:"React \u76f8\u5173\u9762\u8bd5\u9898",date:"2022-04-01T00:00:00.000Z",sidebar:"auto",categories:["\u9762\u8bd5\u9898"],tags:["React","\u9762\u8bd5\u9898"]},sidebar:"interview",previous:{title:"\u7b80\u4ecb",permalink:"/docs/interview"},next:{title:"Vue",permalink:"/docs/interview/vue"}},p=[{value:"React \u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f",id:"react-\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f",children:[]},{value:"setState \u662f\u540c\u6b65\u8fd8\u662f\u5f02\u6b65\uff1f",id:"setstate-\u662f\u540c\u6b65\u8fd8\u662f\u5f02\u6b65\uff1f",children:[]},{value:"immutable",id:"immutable",children:[]},{value:"React \u7ec4\u4ef6\u901a\u4fe1\u7684\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f",id:"react-\u7ec4\u4ef6\u901a\u4fe1\u7684\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f",children:[]},{value:"redux \u662f\u5982\u4f55\u6d3e\u53d1\u6570\u636e\u7684\uff0cconnect \u539f\u7406\uff1f",id:"redux-\u662f\u5982\u4f55\u6d3e\u53d1\u6570\u636e\u7684\uff0cconnect-\u539f\u7406\uff1f",children:[]},{value:"connect \u539f\u7406",id:"connect-\u539f\u7406",children:[]},{value:"redux \u4e3a\u4ec0\u4e48\u4e0d\u80fd\u5f02\u6b65\uff1f\u4e3a\u4ec0\u4e48\u9700\u8981redux-thunk\uff1f",id:"redux-\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u5f02\u6b65\uff1f\u4e3a\u4ec0\u4e48\u9700\u8981redux-thunk\uff1f",children:[]},{value:"redux-thunk \u539f\u7406",id:"redux-thunk-\u539f\u7406",children:[]},{value:"react \u90a3\u4e9b\u573a\u666f\u4f1a\u89e6\u53d1\u91cd\u65b0\u6e32\u67d3",id:"react-\u90a3\u4e9b\u573a\u666f\u4f1a\u89e6\u53d1\u91cd\u65b0\u6e32\u67d3",children:[]},{value:"\u91cd\u65b0\u6e32\u67d3 render \u4f1a\u505a\u4e9b\u4ec0\u4e48\uff1f",id:"\u91cd\u65b0\u6e32\u67d3-render-\u4f1a\u505a\u4e9b\u4ec0\u4e48\uff1f",children:[]},{value:"useEffect\u7684\u4f7f\u7528\u65b9\u6cd5\uff1fuseEffect\u7684return\u4f1a\u5728\u4ec0\u4e48\u65f6\u5019\u6267\u884c\uff1fuseEffect\u539f\u7406\u662f\u4ec0\u4e48\uff1f",id:"useeffect\u7684\u4f7f\u7528\u65b9\u6cd5\uff1fuseeffect\u7684return\u4f1a\u5728\u4ec0\u4e48\u65f6\u5019\u6267\u884c\uff1fuseeffect\u539f\u7406\u662f\u4ec0\u4e48\uff1f",children:[]},{value:"useEffect \u548c useLayoutEffect \u7684\u533a\u522b",id:"useeffect-\u548c-uselayouteffect-\u7684\u533a\u522b",children:[]},{value:"useMemo \u548c useCallback\u7684\u533a\u522b\uff0c\u5b83\u4eec\u7684\u5b9e\u73b0\u539f\u7406\u662f\u4ec0\u4e48\uff1f",id:"usememo-\u548c-usecallback\u7684\u533a\u522b\uff0c\u5b83\u4eec\u7684\u5b9e\u73b0\u539f\u7406\u662f\u4ec0\u4e48\uff1f",children:[]},{value:"useEffect\u3001useMemo\u3001useCallback\u662f\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684",id:"useeffect\u3001usememo\u3001usecallback\u662f\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684",children:[]},{value:"React Hook \u4f18\u52a3\u52bf\uff08\u5bf9\u6bd4Component\uff09",id:"react-hook-\u4f18\u52a3\u52bf\uff08\u5bf9\u6bd4component\uff09",children:[]},{value:"HOC \u9ad8\u9636\u7ec4\u4ef6\u7684\u4f18\u70b9",id:"hoc-\u9ad8\u9636\u7ec4\u4ef6\u7684\u4f18\u70b9",children:[]},{value:"Context \u539f\u7406\uff1f\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684\uff1f",id:"context-\u539f\u7406\uff1f\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684\uff1f",children:[]},{value:"\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684",id:"\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684",children:[]},{value:"React \u751f\u547d\u5468\u671f",id:"react-\u751f\u547d\u5468\u671f",children:[]},{value:"PureComponent \u548c Component \u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"purecomponent-\u548c-component-\u6709\u4ec0\u4e48\u533a\u522b\uff1f",children:[]},{value:"\u5982\u679c\u5728map\u5faa\u73af\u4e2d\u6ca1\u6709\u8bbe\u7f6ekey\u503c\uff0c\u90a3\u4e48\u4ece A B C D \u56db\u4e2a\u8282\u70b9\u53d8\u6210 B C D\u4e09\u4e2a\u8282\u70b9\uff0c\u5b83\u4f1a\u4ee5\u4ec0\u4e48\u6837\u7684\u65b9\u5f0f\u53d8\u5316\uff1f",id:"\u5982\u679c\u5728map\u5faa\u73af\u4e2d\u6ca1\u6709\u8bbe\u7f6ekey\u503c\uff0c\u90a3\u4e48\u4ece-a-b-c-d-\u56db\u4e2a\u8282\u70b9\u53d8\u6210-b-c-d\u4e09\u4e2a\u8282\u70b9\uff0c\u5b83\u4f1a\u4ee5\u4ec0\u4e48\u6837\u7684\u65b9\u5f0f\u53d8\u5316\uff1f",children:[]},{value:"React diff \u7b97\u6cd5\u548c Vue diff \u7b97\u6cd5\u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"react-diff-\u7b97\u6cd5\u548c-vue-diff-\u7b97\u6cd5\u6709\u4ec0\u4e48\u533a\u522b\uff1f",children:[]},{value:"\u865a\u62df DOM\uff0c\u865a\u62df DOM \u7684\u597d\u5904\u3002",id:"\u865a\u62df-dom\uff0c\u865a\u62df-dom-\u7684\u597d\u5904\u3002",children:[]},{value:"React dom\u7ed1\u5b9a\u4e8b\u4ef6\u548c\u539f\u751f\u4e8b\u4ef6\u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"react-dom\u7ed1\u5b9a\u4e8b\u4ef6\u548c\u539f\u751f\u4e8b\u4ef6\u6709\u4ec0\u4e48\u533a\u522b\uff1f",children:[]},{value:"Hooks \u5b9e\u73b0\u539f\u7406",id:"hooks-\u5b9e\u73b0\u539f\u7406",children:[]},{value:"\u7ed9\u4f60\u5982\u4f55\u53bb\u8bbe\u8ba1\u4e00\u4e2a useState\uff1f",id:"\u7ed9\u4f60\u5982\u4f55\u53bb\u8bbe\u8ba1\u4e00\u4e2a-usestate\uff1f",children:[]},{value:"fiber \u8c03\u548c\uff1f",id:"fiber-\u8c03\u548c\uff1f",children:[]},{value:"<strong>\u4ec0\u4e48\u662ffiber\uff1f</strong>",id:"\u4ec0\u4e48\u662ffiber\uff1f",children:[]},{value:"React Router \u8def\u7531\u7684\u539f\u7406",id:"react-router-\u8def\u7531\u7684\u539f\u7406",children:[]},{value:"\u6bd4\u8f83 react v5 VS react v6 \u6709\u4ec0\u4e48\u53d8\u5316\u3002",id:"\u6bd4\u8f83-react-v5-vs-react-v6-\u6709\u4ec0\u4e48\u53d8\u5316\u3002",children:[]},{value:"\u624b\u5199 React HOOK \uff0c<strong>hooks \u5b9e\u73b0\u539f\u7406\uff1f</strong>",id:"\u624b\u5199-react-hook-\uff0chooks-\u5b9e\u73b0\u539f\u7406\uff1f",children:[]},{value:"React \u6027\u80fd\u4f18\u5316",id:"react-\u6027\u80fd\u4f18\u5316",children:[]},{value:"\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u524d\u7aef\u901a\u7528\u7ec4\u4ef6\uff1f",id:"\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u524d\u7aef\u901a\u7528\u7ec4\u4ef6\uff1f",children:[]},{value:"React \u5e94\u7528\u5361\u987f\u5982\u4f55\u6392\u67e5\uff1f",id:"react-\u5e94\u7528\u5361\u987f\u5982\u4f55\u6392\u67e5\uff1f",children:[]},{value:"React 18 \u66f4\u65b0\u7684\u5185\u5bb9\uff1f",id:"react-18-\u66f4\u65b0\u7684\u5185\u5bb9\uff1f",children:[]},{value:"\u9ad8\u8026\u5408\u4f4e\u5185\u805a",id:"\u9ad8\u8026\u5408\u4f4e\u5185\u805a",children:[]},{value:"\u4ec0\u4e48\u662f CSS-IN-JS\uff1f",id:"\u4ec0\u4e48\u662f-css-in-js\uff1f",children:[]},{value:"<strong>\u51fd\u6570\u7ec4\u4ef6\u7684\u5de5\u4f5c\u539f\u7406\uff1f</strong>",id:"\u51fd\u6570\u7ec4\u4ef6\u7684\u5de5\u4f5c\u539f\u7406\uff1f",children:[]},{value:"<strong>\u9664\u4e86 redux \u4f60\u8fd8\u7528\u8fc7\u90a3\u4e9b\uff1f\u5b83\u662f\u4e3a\u4e86\u89e3\u51b3\u4ec0\u4e48\u7684\uff1f</strong>",id:"\u9664\u4e86-redux-\u4f60\u8fd8\u7528\u8fc7\u90a3\u4e9b\uff1f\u5b83\u662f\u4e3a\u4e86\u89e3\u51b3\u4ec0\u4e48\u7684\uff1f",children:[]},{value:"react \u6027\u80fd\u4f18\u5316",id:"react-\u6027\u80fd\u4f18\u5316-1",children:[]},{value:"react \u548c react-dom \u4e24\u4e2a\u5e93\u6709\u4ec0\u4e48\u533a\u522b \u5404\u81ea\u662f\u505a\u4ec0\u4e48\u7684\uff1f",id:"react-\u548c-react-dom-\u4e24\u4e2a\u5e93\u6709\u4ec0\u4e48\u533a\u522b-\u5404\u81ea\u662f\u505a\u4ec0\u4e48\u7684\uff1f",children:[]}],c={toc:p};function s(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,l.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"react-\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f"},"React \u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.zhihu.com/question/39825457"},"\u53c2\u8003\u5730\u5740")),(0,l.kt)("h2",{id:"setstate-\u662f\u540c\u6b65\u8fd8\u662f\u5f02\u6b65\uff1f"},"setState \u662f\u540c\u6b65\u8fd8\u662f\u5f02\u6b65\uff1f"),(0,l.kt)("p",null,"\u540c\u6b65\u3002\u4ee5\u5f02\u6b65\u7684\u5f62\u5f0f\u5448\u73b0\u662f\u7531\u4e8ereact \u81ea\u8eab\u7684\u4f18\u5316\u673a\u5236\u5bfc\u81f4\u7684\u3002\u56e0\u4e3a\u6bcf\u6b21\u8c03\u7528 setState \u90fd\u4f1a\u89e6\u53d1\u66f4\u65b0\uff08\u8c03\u7528 disAction \u6d45\u6bd4\u8f83 state \u662f\u5426\u76f8\u7b49\uff09\uff0creact \u4f1a\u4f7f\u7528\u6279\u91cf\u66f4\u65b0\u8c03\u7528 batchedEventUpdates \u65b9\u6cd5\uff0c\u901a\u8fc7 isBatchingEventUpdates \u6807\u5fd7\u4f4d\u5728 scheduleOnFiber \u8c03\u548c\u8fc7\u7a0b\u4e2d\u6839\u636e\u8fd9\u4e2a\u5f00\u5173\u8fdb\u884c\u6279\u91cf\u66f4\u65b0\u3002\u5f02\u6b65\u63d0\u9ad8\u6027\u80fd\uff0c\u591a\u4e2a\u72b6\u6001\u5408\u5e76\u5230\u4e00\u8d77\uff0c\u4ece\u800c\u51cf\u5c11 re-render \u7684\u8c03\u7528\u6267\u884c\u3002"),(0,l.kt)("h2",{id:"immutable"},"immutable"),(0,l.kt)("p",null,"react \u5bf9 state \u4e2d\u7684\u5bf9\u8c61\u5f15\u7528\u672a\u6539\u53d8\uff0c\u90a3\u4e48react \u4f1a\u8ba4\u4e3a\u8fd9\u4e2a\u5bf9\u8c61\u524d\u540e\u662f\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u7684\uff0c\u8fd9\u91cc\u53ea\u7528\u4e86\u6d45\u6bd4\u8f83\uff0c\u5f15\u7528\u5730\u5740\u76f8\u540c\uff0c\u56e0\u6b64\u5c31\u8ba4\u4e3a state \u6ca1\u6709\u53d8\u5316\uff0c\u5bfc\u81f4\u9875\u9762\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3\u7684\u95ee\u9898\u3002\u8fd9\u5c31\u662f mtutale \u7684\u65b9\u5f0f\u3002"),(0,l.kt)("p",null,"\u5728setState\uff0c\u6bd4\u5982\u8bf4 ",(0,l.kt)("inlineCode",{parentName:"p"},'setList([...list, "new item"]);'),"\uff0c\u8fd9\u6837\u662f\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\uff0c\u5f15\u7528\u5730\u5740\u53d1\u751f\u6539\u53d8\uff0c\u8fd9\u6837 state \u4f1a\u53d1\u751f\u6539\u53d8\uff0c\u4f46\u662f\u8fc7\u591a\u7684\u521b\u5efa\u65b0\u7684\u5bf9\u8c61\u4f1a\u7ed9 state \u5e26\u6765\u6027\u80fd\u95ee\u9898\u3002",(0,l.kt)("strong",{parentName:"p"},"immutable")," ",(0,l.kt)("strong",{parentName:"p"},"\u5c31\u662f\u7528\u6765\u89e3\u51b3\u6539\u95ee\u9898\u7684\u3002")),(0,l.kt)("h2",{id:"react-\u7ec4\u4ef6\u901a\u4fe1\u7684\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f"},"React \u7ec4\u4ef6\u901a\u4fe1\u7684\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"props\uff0ccallback \u56de\u8c03"),(0,l.kt)("li",{parentName:"ul"},"context"),(0,l.kt)("li",{parentName:"ul"},"ref \u4f20\u9012"),(0,l.kt)("li",{parentName:"ul"},"redux"),(0,l.kt)("li",{parentName:"ul"},"event Bus \u4e8b\u4ef6\u603b\u7ebf")),(0,l.kt)("span",null,"\n    ",(0,l.kt)("ins",{parentName:"span",className:"adsbygoogle",style:{display:"block",textAlign:"center"},"data-ad-layout":"in-article","data-ad-format":"fluid","data-ad-client":"ca-pub-3487507367729662","data-ad-slot":"3539166782"}),"\n  ",(0,l.kt)("script",{parentName:"span"},"\n     (adsbygoogle = window.adsbygoogle || []).push({});\n  ")),(0,l.kt)("h2",{id:"redux-\u662f\u5982\u4f55\u6d3e\u53d1\u6570\u636e\u7684\uff0cconnect-\u539f\u7406\uff1f"},"redux \u662f\u5982\u4f55\u6d3e\u53d1\u6570\u636e\u7684\uff0cconnect \u539f\u7406\uff1f"),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://cdn.nlark.com/yuque/0/2022/png/1535745/1645368954776-c935d722-ca45-4480-813a-514f703be219.png",alt:"https://cdn.nlark.com/yuque/0/2022/png/1535745/1645368954776-c935d722-ca45-4480-813a-514f703be219.png"})),(0,l.kt)("p",null,"state \u7684\u53d8\u5316\uff0c\u4f1a\u5bfc\u81f4 View \u7684\u53d8\u5316\uff0c\u7528\u6237\u63a5\u89e6\u4e0d\u5230state\uff0c\u53ea\u80fd\u63a5\u89e6\u5f97\u5230 View\uff0c\u6240\u4ee5 state \u7684\u53d8\u5316\uff0c\u5fc5\u987b\u662fView \u5bfc\u81f4\u7684\u3002Action \u5c31\u662f View\uff08\u4e5f\u662f\u6211\u4eec\u9875\u9762\u5448\u73b0\u7684\u7ec4\u4ef6\uff09 \u53d1\u51fa\u7684\u901a\u77e5\u5c42\u7531\u7528\u6237\u64cd\u4f5c\uff0c\u4f1a\u7528 dispatch \u53d1\u8d77\u66f4\u65b0\u52a8\u4f5c\uff0c\u7136\u540e\u5230\u4e86 reducer \u5c42\u9762\uff0c\u51fd\u6570\u6267\u884c\u6839\u636e Action \u5f97\u5230\u4e86\u4e00\u4e2a\u65b0\u7684 state\uff0c\u8fd9\u4e2a\u65b0\u7684 state \u5b58\u5230 Store \u91cc\u9762\uff0creact-redux \u7ed3\u5408 View \u548c Store \u81ea\u52a8\u66f4\u65b0 View\uff08\u4e5f\u5c31\u662f\u6211\u4eec\u7684\u7ec4\u4ef6\uff09\u3002"),(0,l.kt)("h2",{id:"connect-\u539f\u7406"},"connect \u539f\u7406"),(0,l.kt)("p",null,"connect \u5185\u90e8\u4f1a\u8fd4\u56de\u4e00\u4e2a\u9ad8\u9636\u7ec4\u4ef6 ",(0,l.kt)("inlineCode",{parentName:"p"},"wrapWithConnect"),"\uff0cHOC \u7ed9\u8fd4\u56de\u7684\u7ec4\u4ef6\u7684 props \u6dfb\u52a0\u4e0a state dispatch\uff0c\u5e76\u4e14\u4f7f\u7528 useMemo \u63a7\u5236\u6e32\u67d3\u53ea\u6709\u6539\u53d8\u7684\u65f6\u5019\u624d\u66f4\u65b0\u6e32\u67d3\u5b50\u7ec4\u4ef6\u3002"),(0,l.kt)("p",null,"\u53c2\u8003\u94fe\u63a5\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://didiheng.com/front/2019-12-20.html#connect%E5%87%BD%E6%95%B0"},"https://didiheng.com/front/2019-12-20.html#connect%E5%87%BD%E6%95%B0")),(0,l.kt)("h2",{id:"redux-\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u5f02\u6b65\uff1f\u4e3a\u4ec0\u4e48\u9700\u8981redux-thunk\uff1f"},"redux \u4e3a\u4ec0\u4e48\u4e0d\u80fd\u5f02\u6b65\uff1f\u4e3a\u4ec0\u4e48\u9700\u8981redux-thunk\uff1f"),(0,l.kt)("p",null,"\u4e0d\u9700\u8981\u5173\u5fc3\u5f02\u6b65\u7684\u7ec6\u8282"),(0,l.kt)("p",null,"\u6bd4\u5982\u5199\u4e00\u4e2a\u89e6\u53d1dispatch \u7684 action"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"loadTodo \u4e3a\u501f\u53e3\u8bf7\u6c42\u8fd4\u56de\u6570\u636e\n// redux-thunk \u6a21\u5f0f\u7f16\u5199\u5f02\u6b65\n\nexport const addTodoAsync = () => {\n    return dispatch => {\n    loadTodo().then(todo => {\n        dispatch(addFullTodo(todo))\n    })\n  }\n}\n\n// action\nexport const addFullTodo = (todo) => {\n    return {\n    type: 'ADD_TODO',\n    ...todo\n    }\n}\n\n//\u4f7f\u7528 redux-thunk \u5728\u7ec4\u4ef6\u4e2d\u5199\ndispatch(addTodoAsync()))\n\n// \u6ca1\u6709 redux-thunk \u7f16\u5199\u5f02\u6b65\u5728\u7ec4\u4ef6\u4e2d\u5199\n\nloadTodo().then(todo => {\n    dispatch(addFullTodo(todo))\n})\n\n")),(0,l.kt)("p",null,"\u533a\u522b\u4e3b\u8981\u662f\uff1a\u5728\u4e0e\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u5173\u5fc3\u662f\u5148 loadTodo \u5f97\u5230todo \u4ee5\u540e\u518d dispatch\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"dispatch(addTodoAsync()))"),"\u4e0d\u7528\u5173\u5fc3 loadTodo \uff0c\u6211\u4eec\u53ea\u77e5\u9053\u8fd9\u4e2a addTodoAsync \u53ef\u4ee5\u8fd4\u56de todo\uff0c\u5e76dispatch\u3002"),(0,l.kt)("h2",{id:"redux-thunk-\u539f\u7406"},"redux-thunk \u539f\u7406"),(0,l.kt)("p",null,"\u6bd4\u5982\u8bf4\u4e0a\u9762\u4f20\u5165\u4e00\u4e2a addTodoAsync\uff0credux-thunk \u4f1a\u5224\u65ad\u4f20\u5165\u7684 action \u662f\u5426\u4e3a\u51fd\u6570\u3002\u5982\u679c\u4e3a\u51fd\u6570\u90a3\u5c31\u662f\u5f02\u6b65\u4e86\u3002\u8d1f\u8d23\u5e2e\u5fd9\u6267\u884c\u3002"),(0,l.kt)("h2",{id:"react-\u90a3\u4e9b\u573a\u666f\u4f1a\u89e6\u53d1\u91cd\u65b0\u6e32\u67d3"},"react \u90a3\u4e9b\u573a\u666f\u4f1a\u89e6\u53d1\u91cd\u65b0\u6e32\u67d3"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/lgwebdream/FE-Interview/issues/913"},"https://github.com/lgwebdream/FE-Interview/issues/913")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"setState \u65b9\u6cd5\u88ab\u8c03\u7528"),(0,l.kt)("li",{parentName:"ul"},"setState(null) \u4e0d\u4f1a\u89e6\u53d1 render \uff08\u66f4\u65b0\u524d\u4f1a\u5224\u65ad\u65b0\u7684\u503c\u662f\u5426\u4e3a null \uff0c\u5982\u679c\u4e3anull \u76f4\u63a5return\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u7236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3"),(0,l.kt)("li",{parentName:"ul"},"forceUpdate()"),(0,l.kt)("li",{parentName:"ul"},"\u7c7b\u7ec4\u4ef6\u4e2d \u901a\u8fc7 this.forceUpdata() \u5f3a\u5236\u8c03\u7528\u66f4\u65b0\uff1b\u8c03\u7528 forceUpdate \u4f1a\u8df3\u8fc7",(0,l.kt)("inlineCode",{parentName:"li"},"shouldUpdateComponent"),"\u7684\u9650\u5236\u3002\u5168\u5c40\u4f1a\u5f00\u542f\u4e00\u4e2a hasForceUpdate \u5f00\u5173\uff0c\u5f53\u7ec4\u4ef6\u66f4\u65b0\u65f6\uff0c\u4f1a\u68c0\u67e5\u8fd9\u4e2a\u5f00\u5173\uff0c\u5982\u679c\u5f00\u542f true \u90a3\u4e48\u4f1a\u76f4\u63a5\u8df3\u8fc7 shouldUpdate\u3002\u76f8\u5f53\u4e8e\u53ef\u4ee5\u76f4\u63a5\u6253\u7834\u6e32\u67d3\u89c4\u5219\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6709\u4e9b\u53d8\u91cf\u4e0d\u5728state\u4e0a\uff0c\u5f53\u65f6\u4f60\u53c8\u60f3\u8fbe\u5230\u8fd9\u4e2a\u53d8\u91cf\u66f4\u65b0\u7684\u65f6\u5019\uff0c\u5237\u65b0render\uff1b\u6216\u8005state\u91cc\u7684\u67d0\u4e2a\u53d8\u91cf\u5c42\u6b21\u592a\u6df1\uff0c\u66f4\u65b0\u7684\u65f6\u5019\u6ca1\u6709\u81ea\u52a8\u89e6\u53d1render\u3002\u8fd9\u4e9b\u65f6\u5019\u90fd\u53ef\u4ee5\u624b\u52a8\u8c03\u7528forceUpdate\u81ea\u52a8\u89e6\u53d1render\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u51fd\u6570\u7ec4\u4ef6\u4e2d\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"  const [ignored, forceUpdate] = useReducer(x => x + 1, 0);\n\n  function handleClick() {\n    forceUpdate();\n  }\n")),(0,l.kt)("h2",{id:"\u91cd\u65b0\u6e32\u67d3-render-\u4f1a\u505a\u4e9b\u4ec0\u4e48\uff1f"},"\u91cd\u65b0\u6e32\u67d3 render \u4f1a\u505a\u4e9b\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,"diff \u7b97\u6cd5\uff0c\u5bf9\u6bd4\u65b0\u65e7\u8282\u70b9\u3002"),(0,l.kt)("h2",{id:"useeffect\u7684\u4f7f\u7528\u65b9\u6cd5\uff1fuseeffect\u7684return\u4f1a\u5728\u4ec0\u4e48\u65f6\u5019\u6267\u884c\uff1fuseeffect\u539f\u7406\u662f\u4ec0\u4e48\uff1f"},"useEffect\u7684\u4f7f\u7528\u65b9\u6cd5\uff1fuseEffect\u7684return\u4f1a\u5728\u4ec0\u4e48\u65f6\u5019\u6267\u884c\uff1fuseEffect\u539f\u7406\u662f\u4ec0\u4e48\uff1f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u51fd\u6570\u5185\u90e8\u4f5c\u4e3a\u4e00\u4e9b\u8212\u670d\u8bf7\u6c42\uff0c\u521d\u59cb\u5316\u52a8\u4f5c\uff0c\u5e76\u4e14\u63a5\u53d7\u4e00\u4e2a deps \u4f9d\u8d56\u6570\u7ec4\uff0c\u5982\u679c\u5b9a\u4e49\u5728 deps \u91cc\u9762\u7684\u53d8\u91cf\u53d1\u751f\u6539\u53d8\uff0c\u5728\u7ec4\u4ef6\u66f4\u65b0\u7684\u65f6\u5019\uff0ceffect \u51fd\u6570\u53c2\u6570\u5185\u90e8\u4f1a\u91cd\u65b0\u6267\u884c\uff0c\u51fd\u6570\u53c2\u6570\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u6267\u884c\u65f6\u95f4\u5b9e\u5728\u7ec4\u4ef6\u5378\u8f7d\u6267\u884c\uff0c\u6216\u8005\u5c31\u662f deps \u53d8\u91cf\u66f4\u65b0\uff0c\u6e05\u7406\u6267\u884c\u4e0a\u4e00\u6b21\u51fd\u6570\u53c2\u6570\u6267\u884c\u7684\u5185\u5bb9\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u539f\u7406"),"\uff1a\u6240\u6709\u7684\u51fd\u6570\u7ec4\u4ef6\u89e6\u53d1\u90fd\u5728 renderWithHook \u91cc\u9762\uff0c\u5728fiber\u8c03\u548c\u8fc7\u7a0b\u4e2d\uff0c\u9047\u5230 FunctionComponent \uff08\u51fd\u6570\u7ec4\u4ef6\uff09\u7c7b\u578b\u7684 fiber \uff0c\u5c31\u4f1a\u7528 updateFunctionComponent \u66f4\u65b0 fiber\uff0c\u5728 updateFunctionComponent \u4e2d\u8c03\u7528 renderWithHooks \u65b9\u6cd5\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5728 render \u9636\u6bb5\uff0c\u5b9e\u9645\u6ca1\u6709\u8fdb\u884c\u771f\u6b63 DOM \u5143\u7d20\u7684\u589e\u52a0\uff0c\u5220\u9664\uff0c React \u628a\u60f3\u8981\u505a\u7684\u4e0d\u7528\u64cd\u4f5c\u6253\u6210\u4e0d\u5230\u7684 effectTag\u3002\u7b49\u5230 commit \u9636\u6bb5\u7edf\u4e00\u5904\u7406\u8fd9\u4e9b\u526f\u4f5c\u7528\uff0c\u5305\u62ec DOM \u7684\u589e\u5220\u6539\u67e5\uff0c\u6267\u884c\u751f\u547d\u5468\u671f\u7b49\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u9996\u5148\u521d\u59cb\u5316\u4f1a\u6267\u884c mountEffect \u51fd\u6570\uff0c\u5185\u90e8 ",(0,l.kt)("inlineCode",{parentName:"li"},"mountWorkInProgressHook()"),"\u4ea7\u751f\u4e00\u4e2a\uff0chook\uff0c\u4e0efiber \u8fdb\u884c\u5173\u8054\uff1b\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"pushEffect"),"\u521b\u5efa\u4e00\u4e2a effect\uff0c\u5e76\u4e14\u4fdd\u5b58\u5728 hook \u7684 memoizedState \u5c5e\u6027\u4e0b\uff0c\u8fd8\u6709\u4e00\u4e2a\u91cd\u8981\u7684\u4f5c\u7528\u5c31\u662f\uff0c\u5982\u679c\u6709\u591a\u4e2a effect\u6216\u8005 layoutEffect\u4f1a\u5f62\u6210\u4e00\u4e2a\u526f\u4f5c\u7528\u94fe\u8868\uff0c\u7ed1\u5b9a\u5728\u51fd\u6570\u7ec4\u4ef6 fiber \u7684 updateQueue \u4e0a\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u66f4\u65b0\u9636\u6bb5\uff1a"),"\u5c31\u662f\u5224\u65ad deps \u9879\u6709\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff0c\u5982\u679c\u6ca1\u6709\u53d1\u751f\u53d8\u5316\uff0c\u66f4\u65b0\u526f\u4f5c\u7528\u94fe\u8868\u5c31\u53ef\u4ee5\u4e86\uff1b\u5982\u679c\u53d1\u751f\u53d8\u5316\u66f4\u65b0\u94fe\u8868\u7684\u540c\u65f6\uff0c\u6253\u6267\u884c\u526f\u4f5c\u7528\u7684\u6807\u7b7e\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"fiber-> fiberEffect , hook -> HookHasEffect"),",\u5728commit\u9636\u6bb5\u4f1a\u6839\u636e\u8fd9\u4e9b\u6807\u7b7e\u91cd\u65b0\u6267\u884c\u526f\u4f5c\u7528\u3002")),(0,l.kt)("h2",{id:"useeffect-\u548c-uselayouteffect-\u7684\u533a\u522b"},"useEffect \u548c useLayoutEffect \u7684\u533a\u522b"),(0,l.kt)("p",null,"\u53c2\u8003\u5730\u5740\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://zhuanlan.zhihu.com/p/348701319"},"https://zhuanlan.zhihu.com/p/348701319")),(0,l.kt)("h2",{id:"usememo-\u548c-usecallback\u7684\u533a\u522b\uff0c\u5b83\u4eec\u7684\u5b9e\u73b0\u539f\u7406\u662f\u4ec0\u4e48\uff1f"},"useMemo \u548c useCallback\u7684\u533a\u522b\uff0c\u5b83\u4eec\u7684\u5b9e\u73b0\u539f\u7406\u662f\u4ec0\u4e48\uff1f"),(0,l.kt)("p",null,"useMemo \u7f13\u5b58\u7684\u662f\u7ed3\u679c\uff0cuseCallback \u76f8\u5f53\u4e8e\u7f13\u5b58\u7684\u662f\u51fd\u6570\u5185\u90e8\u903b\u8f91\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u539f\u7406\uff1a"),(0,l.kt)("li",{parentName:"ul"},"useMemo \u9996\u5148\u4f1a\u6267\u884c useMemo \u7b2c\u4e00\u4e2a\u51fd\u6570\u53c2\u6570\u7684\u60f3\u8981\u7684\u8fd4\u56de\u503c\uff0c\u7136\u540e\u5c06\u503c\u7f13\u5b58\u5230 hook \u7684memoizedState \u4e2d\u3002\u66f4\u65b0\u7684\u9636\u6bb5\uff0c\u5224\u65ad deps \u503c\u662f\u5426\u76f8\u7b49\uff0c\u6ca1\u6709\u53d8\u5316\uff0c\u90a3\u4e48\u76f4\u63a5 return \u4e0a\u6b21\u4fdd\u5b58\u5728 memoizedState \u7684\u503c\u3002"),(0,l.kt)("li",{parentName:"ul"},"useCallback \u539f\u7406\uff1a\u4e5f\u662f\u5148\u8fdb\u884c\u4f9d\u8d56\u6bd4\u8f83\u3002\u5982\u679c\u65b0\u65e7\u4f9d\u8d56\u90fd\u4e00\u76f4\uff0c\u8fd4\u56de\u539f callback\u3002")),(0,l.kt)("h2",{id:"useeffect\u3001usememo\u3001usecallback\u662f\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684"},"useEffect\u3001useMemo\u3001useCallback\u662f\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684"),(0,l.kt)("p",null,"pushEffect \u8fdb\u884c\u4f9d\u8d56\u6536\u96c6\u3002\u5982\u679c\u6709\u591a\u4e2a effect\u6216\u8005 layoutEffect \u4f1a\u5f62\u6210\u4e00\u4e2a\u526f\u4f5c\u7528\u94fe\u8868\uff0c\u7ed1\u5b9a\u5728\u51fd\u6570\u7ec4\u4ef6 fiber \u7684 updateQueue \u4e0a\u3002"),(0,l.kt)("p",null,"\u7ed3\u6784\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://cdn.nlark.com/yuque/0/2022/png/1535745/1645612486694-e47d4d60-426c-432e-a271-dd582e7f89ec.png",alt:"https://cdn.nlark.com/yuque/0/2022/png/1535745/1645612486694-e47d4d60-426c-432e-a271-dd582e7f89ec.png"})),(0,l.kt)("h2",{id:"react-hook-\u4f18\u52a3\u52bf\uff08\u5bf9\u6bd4component\uff09"},"React Hook \u4f18\u52a3\u52bf\uff08\u5bf9\u6bd4Component\uff09"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4f18\u70b9\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u66f4\u5bb9\u6613\u590d\u7528\u903b\u8f91"),(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u8c03\u7528\u4e00\u6b21 useHook \u90fd\u4f1a\u751f\u6210\u4e00\u4efd\u72ec\u7acb\u7684\u72b6\u6001\uff08\u56e0\u4e3a hook \u5199\u5728\u4e00\u4e2a\u51fd\u6570\u6a21\u5757\u5185\uff09\uff0c\u51fd\u6570\u6bcf\u6b21\u8c03\u7528\u90fd\u4f1a\u751f\u6210\u4e00\u4efd\u72ec\u7acb\u7684\u7a7a\u95f4\uff08\u72b6\u6001\u548c\u903b\u8f91\u4e5f\u66f4\u72ec\u7acb\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u867d\u7136\u72b6\u6001 useState \u548c useEffect \u7b49\u8fd9\u4e9b\u4f9d\u8d56\u7ec4\u4ef6\uff0c\u4f46\u4ed6\u53ef\u4ee5\u5728\u7ec4\u4ef6\u5916\u90e8\u5b9a\u4e49\uff0c\u8fd9\u4e00\u70b9\u662f \u7c7b\u7ec4\u4ef6\u505a\u4e0d\u5230\u7684\uff0c\u7c7b\u7ec4\u4ef6\u58f0\u660e\u4e00\u4e9b\u526f\u4f5c\u7528\uff0c\u6216\u8005 state\uff0c\u4e0d\u80fd\u5728\u7c7b\u7ec4\u4ef6\u5916\u90e8\u5b9a\u4e49\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u4e0a\u9762\u4e24\u70b9\u867d\u7136\u8bf4\u9ad8\u9636\u7ec4\u4ef6\uff08HOC\uff09\u80fd\u5b9e\u73b0\u3002\u4f46\u662f\u9ad8\u9636\u7ec4\u4ef6\u7684\u7f3a\u70b9\u662f\uff1a"),(0,l.kt)("li",{parentName:"ul"},"1\u3001\u6765\u6e90\u4e0d\u6e05\u6670\uff1a\u9ad8\u9636\u7ec4\u4ef6\u662f\u901a\u8fc7\u589e\u5f3a\u7ec4\u4ef6\u7684 props\uff08\u8d4b\u4e88\u4e00\u4e2a\u65b0\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u5230\u7ec4\u4ef6\u7684props\u5c5e\u6027\u4e0a\u3002\uff09\u5b9e\u73b0\u8d77\u6765\u6bd4\u8f83\u9690\u5f0f\uff0c\u96be\u6613\u533a\u522b\u8fd9\u4e2aprops\u6765\u7740\u54ea\u4e2a\u9ad8\u9636\u7ec4\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},"2\u3001\u9ad8\u9636\u7ec4\u4ef6\u9700\u8981\u5b9e\u4f8b\u5316\u4e00\u4e2a\u7236\u7ec4\u4ef6\uff0c\u4e0d\u7ba1\u5728\u4ee3\u7801\u4e0a\u8fd8\u662f\u6027\u80fd\u4e0a\uff0c\u90fd\u4e0d\u5982 hooks\u3002"),(0,l.kt)("li",{parentName:"ul"},"3\u3001\u547d\u540d\u51b2\u7a81\uff1a\u591a\u4e2a\u9ad8\u9636\u7ec4\u4ef6\uff0c\u547d\u540d\u5bb9\u6613\u53d1\u751f\u51b2\u7a81\u3002"),(0,l.kt)("li",{parentName:"ul"},"4\u3001\u4e00\u822c\u65e0\u6cd5\u76f4\u63a5\u83b7\u53d6\u539f\u59cb\u7ec4\u4ef6\u7684\u72b6\u6001\uff0c\u5982\u679c\u8981\u83b7\u53d6\uff0c\u9700\u8981 ref \u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b\u3002"),(0,l.kt)("li",{parentName:"ul"},"5\u3001\u56e0\u4e3a\u672c\u8d28\u4e0a\u4ea7\u751f\u4e86\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6\uff0c\u6240\u4ee5\u9700\u8981\u914d\u5408 forwardRef \u6765\u8f6c\u53d1 Ref\u3002"),(0,l.kt)("li",{parentName:"ul"},"6\u3001\u5982\u679c\u591a\u4e2a\u9ad8\u9636\u7ec4\u4ef6\u5d4c\u5957\u5728\u4e00\u8d77\uff0c\u5f53\u524d\u72b6\u6001\u4f1a\u8986\u76d6\u4e0a\u4e00\u4e2a\u72b6\u6001\uff0c\u6bd4\u5982\u8bf4 \u591a\u4e2acomponentDidMount\uff0c\u5f53\u524d componentDidMount \u4f1a\u8986\u76d6\u4e0a\u4e00\u4e2a componentDidMount\uff0c\u8fd9\u6837\u526f\u4f5c\u7528\u4e32\u8054\u8d77\u6765\uff0c\u5f71\u54cd\u5f88\u5927\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u4e0b\u9762\u4f1a\u8bf4\u8bf4 HOC \u7684\u4f18\u70b9\ud83d\udc47\ud83c\udffb\u3002")),(0,l.kt)("li",{parentName:"ul"},"Hook \u5c06\u7ec4\u4ef6\u4e2d\u4e92\u76f8\u5173\u8054\u7684\u90e8\u5206\u62c6\u5206\u6210\u66f4\u5c0f\u7684\u51fd\u6570\u3002\u590d\u6742\u7684\u7c7b\u7ec4\u4ef6\u4f1a\u53d8\u5f97\u96be\u4ee5\u7406\u89e3\uff0c\u4f8b\u5982 \u7ecf\u5e38\u5728 componentDidMount \u548c componentDidUpdate \u83b7\u53d6\u6570\u636e\uff0c\u4f46\u540c\u4e00\u4e2a componentDidMount \u5305\u542b\u5f88\u591a\u903b\u8f91\uff0c\u5982\u8bbe\u7f6e\u4e8b\u4ef6\u76d1\u542c\uff0c\u800c\u4e4b\u540e\u9700\u8981\u5728 componentWillUnmount \u4e2d\u6e05\u9664\u3002\u76f8\u4e92\u5173\u8054\u4e14\u9700\u8981\u5bf9\u7167\u4fee\u6539\u7684\u4ee3\u7801\u88ab\u8fdb\u884c\u4e86\u62c6\u5206\uff0c\u800c\u5b8c\u5168\u4e0d\u76f8\u5173\u7684\u4ee3\u7801\u5374\u5728\u540c\u4e00\u4e2a\u65b9\u6cd5\u4e2d\u7ec4\u5408\u5728\u4e00\u8d77\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u51fd\u6570\u7ec4\u4ef6\u58f0\u660e\u66f4\u7b80\u6d01\uff0c\u7c7b\u7ec4\u4ef6\u58f0\u660e\u7eaf\u5728\u5927\u91cf\u7684\u6a21\u677f\u4ee3\u7801\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u4e0d\u7528\u8003\u8651 this \u6307\u5411\u95ee\u9898\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7f3a\u70b9\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u54cd\u5e94\u5f0f\u7684 useEffect"),(0,l.kt)("li",{parentName:"ul"},"\u4f60\u5fc5\u987b\u641e\u6e05\u695a useEffect \u548c useCallback \u7b49\u4f9d\u8d56\u9879\u6570\u7ec4\u6539\u53d8\u7684\u52a8\u673a\u3002\u6709\u65f6\u5019\uff0c\u4f60\u7684useEffect\u4f9d\u8d56\u67d0\u4e2a\u51fd\u6570\u7684\u4e0d\u53ef\u53d8\u6027\uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u4e0d\u53ef\u53d8\u6027\u53c8\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u51fd\u6570\u7684\u4e0d\u53ef\u53d8\u6027\uff0c\u8fd9\u6837\u4fbf\u5f62\u6210\u4e86\u4e00\u6761\u4f9d\u8d56\u94fe\u3002\u4e00\u65e6\u8fd9\u6761\u4f9d\u8d56\u94fe\u7684\u67d0\u4e2a\u8282\u70b9\u610f\u5916\u5730\u88ab\u6539\u53d8\u4e86\uff0c\u4f60\u7684useEffect\u5c31\u88ab\u610f\u5916\u5730\u89e6\u53d1\u4e86\u3002\u6240\u4ee5\u5bf9\u6bd4 componentDidmMount \u548c componentDidUpdate\uff0cuseEffect \u5e26\u6765\u7684\u5fc3\u667a\u8d1f\u62c5\u66f4\u5927\u3002"),(0,l.kt)("li",{parentName:"ul"},"Hook \u4e0d\u64c5\u5f02\u6b65\u4ee3\u7801\uff0c\u51fd\u6570\u7684\u8fd0\u884c\u662f\u72ec\u7acb\u7684\uff0c\u6bcf\u4e2a\u51fd\u6570\u90fd\u6709\u4e00\u4efd\u72ec\u7acb\u7684\u4f5c\u7528\u57df\u3002\u51fd\u6570\u7684\u53d8\u91cf\u662f\u4fdd\u5b58\u5728\u8fd0\u884c\u65f6\u7684\u4f5c\u7528\u57df\u91cc\u9762\u3002\u5f53\u6211\u4eec\u6709",(0,l.kt)("strong",{parentName:"li"},"\u5f02\u6b65"),"\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u7ecf\u5e38\u4f1a\u78b0\u5230\u5f02\u6b65\u56de\u8c03\u7684\u53d8\u91cf\u5f15\u7528\u662f\u4e4b\u524d\u7684\uff0c\u4e5f\u5c31\u662f\u65e7\u7684\uff08\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u7406\u89e3\u6210\u95ed\u5305\uff09\u3002\u6bd4\u5982\u4e0b\u9762\u7684\u4e00\u4e2a\u4f8b\u5b50(",(0,l.kt)("a",{parentName:"li",href:"https://codesandbox.io/s/charming-diffie-tsj8e"},"codesandbox"),")\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React, { useState } from "react";\n\nconst Counter = () => {\n  const [counter, setCounter] = useState(0);\n\n  const onAlertButtonClick = () => {\n    setTimeout(() => {\n      alert("Value: " + counter);\n    }, 3000);\n  };\n\n  return (\n    <div>\n      <p>You clicked {counter} times.</p>\n      <button onClick={() => setCounter(counter + 1)}>Click me</button>\n      <button onClick={onAlertButtonClick}>\n        Show me the value in 3 seconds\n      </button>\n    </div>\n  );\n};\n\nexport default Counter;\n')),(0,l.kt)("p",null,"\u5f53\u4f60\u70b9\u51fbShow me the value in 3 seconds\u7684\u540e\uff0c\u7d27\u63a5\u7740\u70b9\u51fbClick me\u4f7f\u5f97counter\u7684\u503c\u4ece0\u53d8\u62101\u3002\u4e09\u79d2\u540e\uff0c\u5b9a\u65f6\u5668\u89e6\u53d1\uff0c\u4f46alert\u51fa\u6765\u7684\u662f0\uff08\u65e7\u503c\uff09\uff0c\u4f46\u6211\u4eec\u5e0c\u671b\u7684\u7ed3\u679c\u662f\u5f53\u524d\u7684\u72b6\u60011\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u95ee\u9898\u5728class component\u4e0d\u4f1a\u51fa\u73b0\uff0c\u56e0\u4e3aclass component\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u90fd\u5b58\u653e\u5728\u4e00\u4e2ainstance\u4e0a\uff0c\u8c03\u7528\u65b9\u5f0f\u662f\uff1athis.state.xxx\u548cthis.method()\u3002\u56e0\u4e3a\u6bcf\u6b21\u90fd\u662f\u4ece\u4e00\u4e2a\u4e0d\u53d8\u7684instance\u4e0a\u8fdb\u884c\u53d6\u503c\uff0c\u6240\u4ee5\u4e0d\u5b58\u5728\u5f15\u7528\u662f\u65e7\u7684\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u5176\u5b9e\u89e3\u51b3\u8fd9\u4e2ahooks\u7684\u95ee\u9898\u4e5f\u53ef\u4ee5\u53c2\u7167\u7c7b\u7684instance\u3002\u7528useRef\u8fd4\u56de\u7684immutable RefObject\uff08\u628a\u503c\u4fdd\u5b58\u5728current\u5c5e\u6027\u4e0a\uff09\u6765\u4fdd\u5b58state\uff0c\u7136\u540e\u53d6\u503c\u65b9\u5f0f\u4ececounter\u53d8\u6210\u4e86\uff1a counterRef.current\u3002\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import React, { useState, useRef, useEffect } from "react";\n\nconst Counter = () => {\n  const [counter, setCounter] = useState(0);\n  const counterRef = useRef(counter);\n\n  const onAlertButtonClick = () => {\n    setTimeout(() => {\n      alert("Value: " + counterRef.current);\n    }, 3000);\n  };\n\n  useEffect(() => {\n    counterRef.current = counter;\n  });\n\n  return (\n    <div>\n      <p>You clicked {counter} times.</p>\n      <button onClick={() => setCounter(counter + 1)}>Click me</button>\n      <button onClick={onAlertButtonClick}>\n        Show me the value in 3 seconds\n      </button>\n    </div>\n  );\n};\n\nexport default Counter;\n')),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://link.zhihu.com/?target=https%3A//codesandbox.io/s/shy-wood-bxb7f"},"\u7ed3\u679c"),"\u5982\u6211\u4eec\u6240\u671f\u5f85\uff0calert\u7684\u662f\u5f53\u524d\u7684\u503c1\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u628a\u8fd9\u4e2a\u8fc7\u7a0b\u5c01\u88c5\u6210\u4e00\u4e2acustom hook\uff0c\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'import { useEffect, useRef, useState } from "react";\n\nconst useRefState = <T>(\n  initialValue: T\n): [T, React.MutableRefObject<T>, React.Dispatch<React.SetStateAction<T>>] => {\n  const [state, setState] = useState<T>(initialValue);\n  const stateRef = useRef(state);\n  useEffect(() => {\n    stateRef.current = state;\n  }, [state]);\n  return [state, stateRef, setState];\n};\n\nexport default useRefState;\n\n')),(0,l.kt)("h2",{id:"hoc-\u9ad8\u9636\u7ec4\u4ef6\u7684\u4f18\u70b9"},"HOC \u9ad8\u9636\u7ec4\u4ef6\u7684\u4f18\u70b9"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u9ad8\u9636\u7ec4\u4ef6\u5728\u54ea\u4e9b\u573a\u666f\u4f7f\u7528\uff0c\u5b9e\u73b0\u9ad8\u9636\u7ec4\u4ef6\u7684\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9ad8\u9636\u51fd\u6570\u5c06\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u5e76\u4e14\u8fd4\u56de\u503c\u4e5f\u662f\u4e00\u4e2a\u51fd\u6570\u3002\u9ad8\u9636\u7ec4\u4ef6\u662f\u5c06\u7ec4\u4ef6\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u7ec4\u4ef6\u7684\u53c2\u6570\u3002\u8fd4\u56de\u7684\u7ec4\u4ef6\u628a\u4f20\u8fdb\u53bb\u7684\u7ec4\u4ef6\u8fdb\u884c\u529f\u80fd\u5f3a\u5316\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5c5e\u6027\u7ee7\u627f"),(0,l.kt)("li",{parentName:"ul"},"\u53cd\u5411\u7ee7\u627f\uff08\u8fd4\u56de\u7ec4\u4ef6\u7ee7\u627f\u53c2\u6570\u7ec4\u4ef6\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u6e32\u67d3\u52ab\u6301\uff08\u7ee7\u627f\u53c2\u6570\u7ec4\u4ef6\u4e4b\u540e\uff0c\u901a\u8fc7\u5224\u65ad\u662f\u5426\u6e32\u67d3 super.render \u7684\u5185\u5bb9\uff0c\u5426\u5219\u6211\u6e32\u67d3\u5176\u4ed6\u5185\u5bb9\u3002\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u4fee\u6539\u6e32\u67d3\u6811\uff08\u901a\u8fc7 react.cloneElelement, \u521b\u5efa\u65b0\u7684\u6e32\u67d3\u6811\uff0c\u53ef\u4ee5\u4f7f\u7528 react.createElement\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u6743\u9650\u62e6\u622a")),(0,l.kt)("h2",{id:"context-\u539f\u7406\uff1f\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684\uff1f"},"Context \u539f\u7406\uff1f\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684\uff1f"),(0,l.kt)("p",null,"1\u3001\u8c03\u7528 createContext \u521b\u5efa context \u5bf9\u8c61\uff0ccontext \u5bf9\u8c61\u4e0a\u7684 $$typeof \u6807\u8bb0 Provider\uff08REACRT_PROVIDER_TPYE\uff09 \u548c Context\uff08REACRT_CONTEXT_TPYE\uff09\uff0c__contextValue \u4fdd\u5b58 Provider \u4f20\u9012\u7684 value\u3002"),(0,l.kt)("p",null,"2\u3001\u4f1a\u53d8\u6210 ContextProvider \u7684 fiber \u7c7b\u578b\uff0c\u5728 fiber \u8c03\u548c\u8d70\u5230 beginwork\u3002\u8fd9\u4e2a\u9636\u6bb5\u4f1a\u53d1\u751f\u4e24\u4ef6\u4e8b\uff1a"),(0,l.kt)("p",null,"2.1\u3001\u5982\u679c\u5f53\u524d\u7c7b\u578b\u7684 fiber \u4e0d\u9700\u8981\u66f4\u65b0\uff0c\u90a3\u4e48\u4f1a FinishedWork \u4e2d\u6b62\u5f53\u524d\u8282\u70b9\u548c\u5b50\u8282\u70b9\u7684\u66f4\u65b0\u3002"),(0,l.kt)("p",null,"2.2\u3001\u5982\u679c\u5f53\u524d\u7c7b\u578b fiber \u9700\u8981\u66f4\u65b0\uff0c\u90a3\u4e48\u4f1a\u8c03\u7528\u4e0d\u540c\u7c7b\u578b fiber \u7684\u5904\u7406\u65b9\u6cd5\u3002\u5f53\u7136 ContextProvider \u4e5f\u6709\u7279\t\t\t  \u6709\u7684 fiber \u66f4\u65b0\u65b9\u6cd5 \u2014\u2014 updateContextProvider\u3002"),(0,l.kt)("p",null,"2\u3001updateContextProvider \u66f4\u65b0\u8d70\u8c03\u7528 ",(0,l.kt)("strong",{parentName:"p"},"propagateContextChange \uff0c"),"\u5728\u7c7b\u7ec4\u4ef6\u91cc\u9762c ontext \u66f4\u65b0\u4f1a\u5f3a\u5236\u8df3\u8fc7 PureComponent \u548c shouldUpdateComponent\uff0c\u4e5f\u5c31\u662f\u8d70 forceUpdate \u903b\u8f91\u3002"),(0,l.kt)("h2",{id:"\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684"},"\u5982\u4f55\u505a\u4f9d\u8d56\u6536\u96c6\u7684"),(0,l.kt)("p",null,"\u6df1\u5ea6\u904d\u5386\u6240\u6709\u7684\u5b50\u4ee3 fiber \uff0c\u7136\u540e\u627e\u5230\u91cc\u9762\u5177\u6709 dependencies \u7684\u5c5e\u6027\u3002\u5bf9\u6bd4 dependencies \u4e2d\u7684 context \u548c\u5f53\u524d Provider \u7684 context \u662f\u5426\u662f\u540c\u4e00\u4e2a\uff0c\u5982\u679c\u662f\u540c\u4e00\u4e2a\uff0c\u90a3\u4e48\u5982\u679c\u5f53\u524d fiber \u662f\u7c7b\u7ec4\u4ef6\uff0c\u90a3\u4e48\u4f1a\u7ed9\u7ed1\u5b9a\u4e00\u4e2a forceUpdate \u6807\u8bc6 \u3002dependencies \u5c5e\u6027\u5c31\u662f\u672c\u8eab\u662f\u4e00\u4e2a\u94fe\u8868\u7ed3\u6784\uff0c\u4f7f\u7528 contextType useContext \u7ec4\u4ef6\u7684 fiber \uff0c\u548c Consumer \u7c7b\u578b\u7684 fiber \u4f1a\u548c dependencies \u5c5e\u6027\u5efa\u7acb\u8054\u7cfb\u3002\u4f1a\u628a\u6d88\u8d39\u8005 context \u653e\u5230 dependencies \u4e2d\u3002"),(0,l.kt)("h2",{id:"react-\u751f\u547d\u5468\u671f"},"React \u751f\u547d\u5468\u671f"),(0,l.kt)("p",null,"\u751f\u547d\u5468\u671f\u5927\u6982\u53ef\u4ee5\u5206\u4e3a\u4e09\u4e2a\u6d41\u7a0b\uff0c\u5206\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u7ec4\u4ef6\u521d\u59cb\u5316\uff0c\u7ec4\u4ef6\u66f4\u65b0\uff0c\u7ec4\u4ef6\u9500\u6bc1\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u521d\u59cb\u5316\u9636\u6bb5\uff1a")," constructor\u6267\u884c=>"),(0,l.kt)("li",{parentName:"ul"},"\u6267\u884c static getDerivedStateFromProps\uff08\u8fd4\u56de\u503c\u5c06\u548c\u4e4b\u524d\u7684 state \u5408\u5e76\uff0c\u4f5c\u4e3a\u65b0\u7684 state\uff09,\u5c31\u662f\u63a5\u6536\u5230\u7684 props \u5408\u5e76\u5230state \u4e2d\u3002"),(0,l.kt)("li",{parentName:"ul"},"=> componentWillMount \u6267\u884c\uff08\u5982\u679c\u5b58\u5728 getDerivedStateFromProps \u548c getSnapshotBeforeUpdate \u5c31\u4e0d\u4f1a\u6267\u884c\u751f\u547d\u5468\u671fcomponentWillMount\u3002\uff09"),(0,l.kt)("li",{parentName:"ul"},"=> render \u51fd\u6570\u6267\u884c\uff08mountClassInstancec \u5f62\u6210children\uff0c\u8c03\u7528 reconcileChildren \u65b9\u6cd5\u6df1\u5ea6\u8c03\u548c children\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},"=> componentDidMount \u6267\u884c\uff08\u4e0a\u9762\u90fd\u662f\u5728render\u9636\u6bb5\u6267\u884c\uff0cMount \u5728commit\u9636\u6bb5\u6267\u884c\u7684\u3002\uff09"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u66f4\u65b0\u9636\u6bb5\uff1a")),(0,l.kt)("li",{parentName:"ul"},"\u6267\u884c componentWillReceiveProps(newProps\uff0c newContext)\u751f\u547d\u5468\u671f\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u6267\u884c\u5728\u7ec4\u4ef6\u66f4\u65b0\u9636\u6bb5\uff0c\u7236\u7ec4\u4ef6\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u7684 props \u66f4\u65b0\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u624d\u4f1a\u6267\u884c\u3002"),(0,l.kt)("li",{parentName:"ul"},"=> \u6267\u884c getDerivedStateFromPorps \u8fd4\u56de\u503c\u7528\u4e8e\u5408\u5e76 state\uff0c\u751f\u6210\u65b0\u7684state"),(0,l.kt)("li",{parentName:"ul"},"=> \u6267\u884c shouldCcomponentUpdate,\u4f20\u5165\u65b0\u7684 props \uff0c\u65b0\u7684 state\uff0c\u548c\u65b0\u7684 context\uff0c\u8fd4\u56de\u503c\u51b3\u5b9a\u662f\u5426\u7ee7\u7eed\u6267\u884c render \u51fd\u6570\u3002"),(0,l.kt)("li",{parentName:"ul"},"=> \u6267\u884c componentWillUpdate\u3002"),(0,l.kt)("li",{parentName:"ul"},"=> \u6267\u884c render \u51fd\u6570\u3002"),(0,l.kt)("li",{parentName:"ul"},"=> \u6267\u884c getSnapshotBeforeUpdate\uff0c\u53ef\u4ee5\u83b7\u53d6DOM\u66f4\u65b0\u524d\u7684\u72b6\u6001\u3002\u5b83\u7684\u8fd4\u56de\u503c\uff0ccomponentDidUpdate(_,__,snapshot),snapshot \u7b2c\u4e09\u4e2a\u53c2\u6570\u5c31\u662f\u8fd4\u56de\u503c\u3002\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u9700\u8981\u914d\u5408 componentDidUpdate \u4f7f\u7528\uff0c\u5982\u679c\u6ca1\u6709 \u58f0\u660e componentDidUpdate \u751f\u547d\u5468\u671f\uff0c\u90a3\u4e48\u58f0\u660e getSnapshotBeforeUpdate \u5c31\u4f1a\u62a5\u9519\u8bef\u3002"),(0,l.kt)("li",{parentName:"ul"},"=> \u6267\u884c componentDidUpdate"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u9500\u6bc1\u9636\u6bb5\uff1a")),(0,l.kt)("li",{parentName:"ul"},"\u6267\u884c componentWillUnMount \u5378\u8f7d\u7ec4\u4ef6\uff0c\u4ee5\u53ca DOM\u5143\u7d20\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5f53 props \u4e0d\u53d8\u7684\u524d\u63d0\u4e0b\uff0cPureComponent \u7ec4\u4ef6\u80fd\u5426\u963b\u6b62 componentWillReceiveProps \u6267\u884c"))),(0,l.kt)("p",null,"\u7b54\u6848\u662f\u5426\u5b9a\u7684\uff0ccomponentWillReceiveProps \u751f\u547d\u5468\u671f\u7684\u6267\u884c\uff0c\u548c\u7eaf\u7ec4\u4ef6\u6ca1\u6709\u5173\u7cfb\uff0c\u7eaf\u7ec4\u4ef6\u662f\u5728 componentWillReceiveProps \u6267\u884c\u4e4b\u540e\u6d45\u6bd4\u8f83 props \u662f\u5426\u53d1\u751f\u53d8\u5316\u3002\u6240\u4ee5 PureComponent \u4e0b\u4e0d\u4f1a\u963b\u6b62\u8be5\u751f\u547d\u5468\u671f\u7684\u6267\u884c\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"\u5728v16\u7248\u672c\u540e\uff0c\u4e3a\u4ec0\u4e48componentWillxxx \u94a9\u5b50\u524d\u589e\u52a0\u4e86 UNSAFE_ \u524d\u7f00"))),(0,l.kt)("p",null,"\u662f\u56e0\u4e3a stack renconciler \u91cd\u6784\u4e3a fiber reconciler \u540e\uff0crender \u9636\u6bb5\u7684\u4efb\u52a1\u53ef\u80fd\u4e2d\u65ad/\u91cd\u65b0\u5f00\u59cb\uff0c\u5bf9\u5e94\u7684\u7ec4\u4ef6\u5728render \u6781\u7aef\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\uff08\u5373 componentWillXXX\uff09\u53ef\u80fd\u4f1a\u89e6\u53d1\u591a\u6b21\u3002"),(0,l.kt)("h2",{id:"purecomponent-\u548c-component-\u6709\u4ec0\u4e48\u533a\u522b\uff1f"},"PureComponent \u548c Component \u6709\u4ec0\u4e48\u533a\u522b\uff1f"),(0,l.kt)("p",null,"PureComponent \u4f1a\u6d45\u6bd4\u8f83\uff08shallowEqual\uff09\u5bf9\u6bd4 state \u548c props \u662f\u5426\u76f8\u7b49\u3002Component \u9700\u8981\u624b\u52a8\u5728 shouldComponentUpdate \u94a9\u5b50\u51fd\u6570\u4e2d\u81ea\u5df1\u5199 render \u903b\u8f91\u3002"),(0,l.kt)("p",null,"extends PureComponent \u4e4b\u540e\u6e90\u7801 ",(0,l.kt)("inlineCode",{parentName:"p"},"pureComponentPrototype.isPureReactComponent = true;")," \u5c06 isPureReactComponent \u5c5e\u6027\u8bbe\u7f6e\u4e3a true\u3002isPureReactComponent \u8fd9\u4e2a\u5c5e\u6027\u5728\u66f4\u65b0\u7ec4\u4ef6 updateClassInstance \u65b9\u6cd5\u4e2d\u4f7f\u7528\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"shallowEqual"),"\u6d45\u6bd4\u8f83\u6d41\u7a0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u6b65\uff0c\u9996\u5148\u4f1a\u76f4\u63a5\u6bd4\u8f83\u65b0\u8001 props \u6216\u8005\u65b0\u8001 state \u662f\u5426\u76f8\u7b49\u3002\u5982\u679c\u76f8\u7b49\u90a3\u4e48\u4e0d\u66f4\u65b0\u7ec4\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u6b65\uff0c\u5224\u65ad\u65b0\u8001 state \u6216\u8005 props \uff0c\u6709\u4e0d\u662f\u5bf9\u8c61\u6216\u8005\u4e3a null \u7684\uff0c\u90a3\u4e48\u76f4\u63a5\u8fd4\u56de false \uff0c\u66f4\u65b0\u7ec4\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u4e09\u6b65\uff0c\u901a\u8fc7 Object.keys \u5c06\u65b0\u8001 props \u6216\u8005\u65b0\u8001 state \u7684\u5c5e\u6027\u540d key \u53d8\u6210\u6570\u7ec4\uff0c\u5224\u65ad\u6570\u7ec4\u7684\u957f\u5ea6\u662f\u5426\u76f8\u7b49\uff0c\u5982\u679c\u4e0d\u76f8\u7b49\uff0c\u8bc1\u660e\u6709\u5c5e\u6027\u589e\u52a0\u6216\u8005\u51cf\u5c11\uff0c\u90a3\u4e48\u66f4\u65b0\u7ec4\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7b2c\u56db\u6b65\uff0c\u904d\u5386\u8001 props \u6216\u8005\u8001 state \uff0c\u5224\u65ad\u5bf9\u5e94\u7684\u65b0 props \u6216\u65b0 state \uff0c\u6709\u6ca1\u6709\u4e0e\u4e4b\u5bf9\u5e94\u5e76\u4e14\u76f8\u7b49\u7684\uff08\u8fd9\u4e2a\u76f8\u7b49\u662f\u6d45\u6bd4\u8f83\uff09\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u4e0d\u5bf9\u5e94\u6216\u8005\u4e0d\u76f8\u7b49\uff0c\u90a3\u4e48\u76f4\u63a5\u8fd4\u56de false \uff0c\u66f4\u65b0\u7ec4\u4ef6\u3002")),(0,l.kt)("h2",{id:"\u5982\u679c\u5728map\u5faa\u73af\u4e2d\u6ca1\u6709\u8bbe\u7f6ekey\u503c\uff0c\u90a3\u4e48\u4ece-a-b-c-d-\u56db\u4e2a\u8282\u70b9\u53d8\u6210-b-c-d\u4e09\u4e2a\u8282\u70b9\uff0c\u5b83\u4f1a\u4ee5\u4ec0\u4e48\u6837\u7684\u65b9\u5f0f\u53d8\u5316\uff1f"},"\u5982\u679c\u5728map\u5faa\u73af\u4e2d\u6ca1\u6709\u8bbe\u7f6ekey\u503c\uff0c\u90a3\u4e48\u4ece A B C D \u56db\u4e2a\u8282\u70b9\u53d8\u6210 B C D\u4e09\u4e2a\u8282\u70b9\uff0c\u5b83\u4f1a\u4ee5\u4ec0\u4e48\u6837\u7684\u65b9\u5f0f\u53d8\u5316\uff1f"),(0,l.kt)("p",null,"\u5f53\u540c\u4e00\u5c42\u7ea7\u7684\u67d0\u4e2a\u8282\u70b9\u6dfb\u52a0\u4e86\u5bf9\u4e8e\u5176\u4ed6\u540c\u7ea7\u8282\u70b9\u552f\u4e00\u7684key\u5c5e\u6027\uff0c\u5f53\u5b83\u5728\u5f53\u524d\u5c42\u7ea7\u7684\u4f4d\u7f6e\u53d1\u751f\u4e86\u53d8\u5316\u540e\u3002react diff\u7b97\u6cd5\u901a\u8fc7\u65b0\u65e7\u8282\u70b9\u6bd4\u8f83\u540e\uff0c\u5982\u679c\u53d1\u73b0\u4e86key\u503c\u76f8\u540c\u7684\u65b0\u65e7\u8282\u70b9\uff0c\u5c31\u4f1a\u6267\u884c\u79fb\u52a8\u64cd\u4f5c\uff08\u7136\u540e\u4f9d\u7136\u6309\u539f\u7b56\u7565\u6df1\u5165\u8282\u70b9\u5185\u90e8\u7684\u5dee\u5f02\u5bf9\u6bd4\u66f4\u65b0\uff09\uff0c\u800c\u4e0d\u4f1a\u6267\u884c\u539f\u7b56\u7565\u7684\u5220\u9664\u65e7\u8282\u70b9\uff0c\u521b\u5efa\u65b0\u8282\u70b9\u7684\u64cd\u4f5c\u3002\u8fd9\u65e0\u7591\u5927\u5927\u63d0\u9ad8\u4e86React\u6027\u80fd\u548c\u6e32\u67d3\u6548\u7387\u3002"),(0,l.kt)("p",null,"\u7b2c\u4e00\u6b65\u5c31\u662f\u590d\u7528\u8001\u7684 oldFiber\uff1b\u590d\u5236\u5b8c\u6210\uff0c\u65b0\u7684 newChildren \u751f\u6210\uff0cA \u8282\u70b9\u4ee5\u53ca\u6ca1\u6709\u7528\u4e86\u5c31\u5220\u9664\u8282\u70b9\uff1b\u7b2c\u4e09\u6b65\u521b\u5efa newFiber\u3002"),(0,l.kt)("p",null,"\u5b98\u7f51\u5730\u5740\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://zh-hans.reactjs.org/docs/reconciliation.html#recursing-on-children"},"https://zh-hans.reactjs.org/docs/reconciliation.html#recursing-on-children"),"\u3002"),(0,l.kt)("h2",{id:"react-diff-\u7b97\u6cd5\u548c-vue-diff-\u7b97\u6cd5\u6709\u4ec0\u4e48\u533a\u522b\uff1f"},"React diff \u7b97\u6cd5\u548c Vue diff \u7b97\u6cd5\u6709\u4ec0\u4e48\u533a\u522b\uff1f"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://juejin.cn/post/6978370715573714952"},"\u53c2\u8003\u5730\u5740")),(0,l.kt)("h2",{id:"\u865a\u62df-dom\uff0c\u865a\u62df-dom-\u7684\u597d\u5904\u3002"},"\u865a\u62df DOM\uff0c\u865a\u62df DOM \u7684\u597d\u5904\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u53c2\u8003\u5730\u5740\uff1a",(0,l.kt)("a",{parentName:"li",href:"https://github.com/mqyqingfeng/frontend-interview-question-and-answer/issues/3"},"https://github.com/mqyqingfeng/frontend-interview-question-and-answer/issues/3")),(0,l.kt)("li",{parentName:"ul"},"dom\u548cjs \u5f15\u64ce\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u4f46\u662f\u53c8\u5de5\u4f5c\u5728\u540c\u4e00\u7ebf\u7a0b\uff08\u4e3b\u7ebf\u7a0b\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u9891\u7e41\u8c03\u7528 dom api \u4e0d\u4f1a\u8fdb\u884c\u6279\u91cf\u64cd\u4f5c\uff0c\u5bfc\u81f4\u91cd\u6392\u91cd\u7ed8\uff0c\u9875\u9762\u5361\u987f\u7684\u60c5\u51b5\u51fa\u73b0\uff08\u91cd\u65b0\u8ba1\u7b97\u5e03\u5c40\u3001\u91cd\u65b0\u7ed8\u5236\u56fe\u50cf\u4f1a\u5f15\u8d77\u66f4\u5927\u7684\u6027\u80fd\u6d88\u8017\uff09\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u865a\u62dfDOM\u7684\u52a3\u52bf\uff1f")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u865a\u62dfDOM\u4e0d\u4f1a\u7acb\u9a6c\u8fdb\u884c\u91cd\u6392\u548c\u91cd\u7ed8")),(0,l.kt)("h2",{id:"react-dom\u7ed1\u5b9a\u4e8b\u4ef6\u548c\u539f\u751f\u4e8b\u4ef6\u6709\u4ec0\u4e48\u533a\u522b\uff1f"},"React dom\u7ed1\u5b9a\u4e8b\u4ef6\u548c\u539f\u751f\u4e8b\u4ef6\u6709\u4ec0\u4e48\u533a\u522b\uff1f"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5f53\u7528\u6237\u5728\u4e3aonClick\u6dfb\u52a0\u51fd\u6570\u65f6\uff0cReact\u5e76\u6ca1\u6709\u5c06Click\u7ed1\u5b9a\u5230DOM\u4e0a\u9762"),(0,l.kt)("li",{parentName:"ol"},"React \u6709\u4e00\u79cd\u4e8b\u4ef6\u63d2\u4ef6\u673a\u5236\uff0c\u6bd4\u5982 onClick\uff0conChange \uff0c\u4f1a\u6709\u4e0d\u540c\u7684\u4e8b\u4ef6\u63d2\u4ef6 SimpleEventPlugin \uff0cChangeEventPlugin \u5904\u7406\uff08\u56e0\u6b64\u4e8b\u4ef6\u548c\u4e8b\u4ef6\u6e90\u90fd\u662f react \u81ea\u5df1\u7684\u3002\uff09\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u4e8b\u4ef6\u7ed1\u5b9a\uff0c\u4e5f\u662f\u901a\u8fc7 addEventListener \u6ce8\u518c\u7684\uff0c\u4f46\u662f\u4f1a\u4fdd\u5b58\u5230\u5bf9\u5e94 DOM \u5143\u7d20\u7c7b\u578b fiber \u5bf9\u8c61\uff08hostComponet\uff09\u7684memoizedProps\u5c5e\u6027\u4e0a\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u6240\u4ee5\u5f53\u4e8b\u4ef6\u89e6\u53d1\u7684\u65f6\u5019, \u5bf9\u4f7f\u7528\u7edf\u4e00\u7684\u5206\u53d1\u51fd\u6570 dispatchEvent \u5c06\u6307\u5b9a\u51fd\u6570\u6267\u884c\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u7ed1\u5b9a\u7684\u65f6\u95f4\u548c\u5192\u6ce1\u4f1a\u5f62\u6210\u4e8b\u4ef6\u961f\u5217\u3002e.stopPropagation() \u963b\u6b62\u5192\u6ce1\uff0c\u4e8b\u4ef6\u6e90\u72b6\u6001\u91cc\u9762\u8bc1\u660e\u4e8b\u4ef6\u505c\u6b62\u5192\u6ce1\uff0c\u4e0b\u6b21\u904d\u5386\u7684\u65f6\u5019 event.isPropagationStopped() \u5c31\u662f true\uff0c\u6240\u4ee5\u8df3\u51fa\u5faa\u73af\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function runEventsInBatch(){\n    const dispatchListeners = event._dispatchListeners;\n    if (Array.isArray(dispatchListeners)) {\n    for (let i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) { /* \u5224\u65ad\u662f\u5426\u5df2\u7ecf\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1 */\n        break;\n      }\n      dispatchListeners[i](event) /* \u6267\u884c\u771f\u6b63\u7684\u5904\u7406\u51fd\u6570 \u53cahandleClick1... */\n    }\n  }\n}\n")),(0,l.kt)("h2",{id:"hooks-\u5b9e\u73b0\u539f\u7406"},"Hooks \u5b9e\u73b0\u539f\u7406"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"hooks \u4e0e fiber \u5efa\u7acb\u8054\u7cfb\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u521b\u5efa hook \u5bf9\u8c61\u7528memoizedState\u5c5e\u6027\u4fdd\u5b58 hooks \u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u591a\u4e2ahook\u7684\u8bdd\u6bcf\u4e00\u4e2a hook \u901a\u8fc7 next \u548c\u4e0b\u4e00\u4e2a hooks \u5173\u8054\u3002"),(0,l.kt)("li",{parentName:"ul"},"hooks \u66f4\u65b0\u4e5f\u540c\u6837\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"li"},"\u53cc\u7f13\u6811\u66f4\u65b0")," \u6280\u672f\uff0c\u66f4\u65b0\u8c03\u7528dispatchAction\u65b9\u6cd5\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u526f\u4f5c\u7528\u4fdd\u5b58 updateQueue \u4e2d\u5f62\u6210\u526f\u4f5c\u7528\u5217\u8868\u3002commit \u9636\u6bb5\u7edf\u4e00\u6267\u884c\u3002\u4e0d\u540c\u7684\u526f\u4f5c\u7528\u6253\u4e0a\u4e0d\u540c\u7684 effectTag\u3002")),(0,l.kt)("h2",{id:"\u7ed9\u4f60\u5982\u4f55\u53bb\u8bbe\u8ba1\u4e00\u4e2a-usestate\uff1f"},"\u7ed9\u4f60\u5982\u4f55\u53bb\u8bbe\u8ba1\u4e00\u4e2a useState\uff1f"),(0,l.kt)("h2",{id:"fiber-\u8c03\u548c\uff1f"},"fiber \u8c03\u548c\uff1f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"fiber \u7528\u6765\u89e3\u51b3 \u5927\u578b react \u5e94\u7528\u5361\u987f\uff0cfiber \u662f react \u4e2d\u6700\u5c0f\u6267\u884c\u5355\u5143\u3002\u53ef\u4ee5\u628a\u5b83\u7406\u89e3\u6210\u865a\u62df DOM\u3002"),(0,l.kt)("li",{parentName:"ul"},"react v15 \u4e4b\u524d\u7684\u7248\u672c\uff0c\u4f7f\u7528\u9012\u5f52\u904d\u5386\u8282\u70b9\uff0c\u65e0\u6cd5\u4e2d\u65ad\uff0c\u4f1a\u963b\u585e\u6d4f\u89c8\u5668\u7684\u6e32\u67d3\uff0c\u5982\u679c\u968f\u7740\u9879\u76ee\u8d8a\u6765\u8d8a\u5927\uff0c\u8d8a\u6765\u8d8a\u590d\u6742\uff0c\u5c42\u7ea7\u4e5f\u8d8a\u6765\u8d8a\u6df1\uff0c\u5bfc\u81f4\u66f4\u65b0\u65f6\u95f4\u8d8a\u6765\u8d8a\u957f\uff0c\u524d\u7aef\u4ea4\u4e92\u4e0a\u7684\u4f53\u9a8c\u5c31\u662f\u5361\u987f\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7136\u540e\u8bf4 fiber \u548c elelement dom \u7684\u4e09\u8005\u4e4b\u95f4\u7684\u5173\u7cfb\u3002"),(0,l.kt)("li",{parentName:"ul"},"fiber \u4e4b\u524d return \u6307\u5411\u7236\u7ec4\u4ef6\uff0cchild \u6307\u5411\u5b50\u7ec4\u4ef6\uff0csibling"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u4f55\u627e\u5230\u66f4\u65b0\u7684 fiber \uff1f"),(0,l.kt)("li",{parentName:"ul"},"\u5411\u4e0a\u9012\u5f52\u7236\u7ea7\u94fe\u8868\u7684 childlanes \uff0c\u63a5\u4e0b\u6765\u5411\u4e0b\u8c03\u548c\u7684\u65f6\u5019 childlanes \u4e0e updatesLanes \u5bf9\u6bd4\u662f\u5426\u76f8\u7b49\u3002")),(0,l.kt)("h2",{id:"\u4ec0\u4e48\u662ffiber\uff1f"},(0,l.kt)("strong",{parentName:"h2"},"\u4ec0\u4e48\u662ffiber\uff1f")),(0,l.kt)("h2",{id:"react-router-\u8def\u7531\u7684\u539f\u7406"},"React Router \u8def\u7531\u7684\u539f\u7406"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://juejin.cn/book/6945998773818490884/section/6959721297911742504"},"\u53c2\u8003\u5730\u5740")),(0,l.kt)("p",null,"\u8def\u7531\u6a21\u5f0f\u5206\u4e3a\u4e24\u79cd\uff1ahistory \u6a21\u5f0f\uff0chash \u6a21\u5f0f\u3002\u901a\u8fc7 createHistory \u521b\u5efa\u4e0d\u540c\u6a21\u5f0f\u7684\u8def\u7531\u3002"),(0,l.kt)("p",null,"history\u6a21\u5f0f\uff1a \u4e3b\u8981\u662f\u901a\u8fc7 popstate \u76d1\u542c\uff0cpushState \u8fdb\u884c\u524d\u8fdb\uff0c\u4f7f\u7528history.back, history.forword, history.go()\uff0c\u90fd\u80fd\u88ab popState \u76d1\u542c\u3002"),(0,l.kt)("p",null,"hash\u6a21\u5f0f\uff1a\u4e3b\u8981\u901a\u8fc7 hashChange \u76d1\u542c\u8def\u6709\u53d8\u5316\u3002"),(0,l.kt)("p",null,"\u5b9e\u73b0\u539f\u7406\uff1asetState \u5b9a\u4e49 location \uff0ccontext \u4e0a\u4e0b\u6587\u6a21\u5f0f\u6765\u4f20\u9012\u8def\u7531\u4fe1\u606f\uff0c\u544a\u8bc9\u5207\u6362\u4e86\u8def\u7531\u663e\u793a\u5bf9\u5e94\u7ec4\u4ef6\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"Route"),"\u901a\u8fc7\u6d88\u8d39\uff0c\u62ff\u5230\u4fe1\u606f\uff0c\u663e\u793a\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"context"),"\u7684value \u53d8\u5316\u4e86\u4f1a\u66f4\u65b0\u6240\u6709\u5b50\u7ec4\u4ef6\u3002\u8fd9\u5c31\u660e\u767d\u4e86\u4e3a\u4ec0\u4e48\u8def\u7531\u53d8\u5316\u4f1a\u5207\u6362\u5230\u5bf9\u5e94\u7ec4\u4ef6\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982 \u5982\u679c\u5b9a\u4e49\u591a\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},'<Route path="/child"/>'),"\u90a3\u4e48\u4e0d\u7ba1\u4f60\u5339\u914d\u5230\u5bf9\u5e94\u7ec4\u4ef6\uff0c\u90a3\u4e48\u90fd\u4f1a\u5168\u90e8\u52a0\u8f7d\u7ec4\u4ef6\u3002"),(0,l.kt)("p",null,"\u56e0\u6b64\u6211\u4eec\u9996\u5c4f\u4f18\u5316\u60f3\u8981\u66f4\u5feb\u53ef\u4ee5\u901a\u8fc7 \u8def\u7531\u61d2\u52a0\u8f7d\u3002"),(0,l.kt)("p",null,"v6 \u4e4b\u524d\u9700\u8981\u5305\u88f9 ",(0,l.kt)("inlineCode",{parentName:"p"},"Swtich"),"\u7ec4\u4ef6\u6765\u8fdb\u884c\u8def\u7531\u5339\u914d\u3002"),(0,l.kt)("p",null,"\u6ce8\u610f Switch \u5305\u88f9\u7684 Redirect \u8981\u653e\u5728\u6700\u4e0b\u9762\uff0c\u5426\u5219\u4f1a\u88ab Switch \u4f18\u5148\u6e32\u67d3 Redirect \uff0c\u5bfc\u81f4\u8def\u7531\u9875\u9762\u65e0\u6cd5\u5c55\u793a\u3002"),(0,l.kt)("h2",{id:""}),(0,l.kt)("h2",{id:"\u6bd4\u8f83-react-v5-vs-react-v6-\u6709\u4ec0\u4e48\u53d8\u5316\u3002"},"\u6bd4\u8f83 react v5 VS react v6 \u6709\u4ec0\u4e48\u53d8\u5316\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4ece",(0,l.kt)("inlineCode",{parentName:"li"},"<Swtich>"),"\u7ec4\u4ef6 => \u7528",(0,l.kt)("inlineCode",{parentName:"li"},"<Router>"),"\u4ee3\u66ff\u3002"),(0,l.kt)("li",{parentName:"ul"},"v5 \u4e4b\u524d\u5b50\u8def\u7531\u9700\u8981\u5199\u5728\u5b50\u7ec4\u4ef6\u91cc\u9762\u6dfb\u52a0 ",(0,l.kt)("inlineCode",{parentName:"li"},'<Route path="parent/child"/>'),"\uff0c\u73b0\u5728\u76f4\u63a5\u5d4c\u5957\u5c31\u53ef\u4ee5\u4e86",(0,l.kt)("inlineCode",{parentName:"li"},'<Route path="parent"><Route/>'),"\uff0c\u7236\u7ec4\u4ef6\u4e2d\u518d\u9700\u8981\u6dfb\u52a0 ",(0,l.kt)("inlineCode",{parentName:"li"},"<Outlet />"),"\u5373\u53ef\u663e\u793a\u5b50\u8def\u7531\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u8def\u7531\u8df3\u8f6c\u63d0\u9ad8\u4e86\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"useNavigate"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u83b7\u53d6\u8def\u7531\u53c2\u6570\u548c\u8bbe\u7f6e\u53c2\u6570\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"useSearchParams")),(0,l.kt)("li",{parentName:"ul"},"\u4ee5\u524d\u6211\u4eec\u9700\u8981\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"react-router-config"),"\u7684 renderRoutes \u65b9\u6cd5\u914d\u7f6e options \u8def\u7531\uff1bv6 \u7248\u672c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"useRoutes"),"\u5c31\u53ef\u4ee5\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u66f4\u5168\u9762\u62e5\u62b1 hooks\u3002")),(0,l.kt)("p",null,"\u539f\u7406\u533a\u522b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u65b0\u7248\u672c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"useLayoutEffect")," \u5904\u7406\u76d1\u542c\u8def\u7531\u53d8\u5316")),(0,l.kt)("h2",{id:"\u624b\u5199-react-hook-\uff0chooks-\u5b9e\u73b0\u539f\u7406\uff1f"},"\u624b\u5199 React HOOK \uff0c",(0,l.kt)("strong",{parentName:"h2"},"hooks \u5b9e\u73b0\u539f\u7406\uff1f")),(0,l.kt)("p",null,"\u5b66\u4e60\u94fe\u63a5\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://cloud.tencent.com/developer/article/1784501"},"https://cloud.tencent.com/developer/article/1784501")),(0,l.kt)("p",null,"react\u6280\u672f\u63ed\u79d8\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://react.iamkasong.com/hooks/create.html#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"},"https://react.iamkasong.com/hooks/create.html#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86")),(0,l.kt)("h2",{id:"react-\u6027\u80fd\u4f18\u5316"},"React \u6027\u80fd\u4f18\u5316"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://juejin.cn/post/6844903924302888973"},"\u53c2\u8003\u5730\u5740")),(0,l.kt)("h2",{id:"\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u524d\u7aef\u901a\u7528\u7ec4\u4ef6\uff1f"},"\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u524d\u7aef\u901a\u7528\u7ec4\u4ef6\uff1f"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://juejin.cn/post/6844903847874265101"},"\u8bbe\u8ba1\u4e00\u4e2a\u901a\u7528\u7ec4\u4ef6\u5e93")),(0,l.kt)("p",null,"\u6700\u91cd\u8981\u7684\u5c31\u662f\u7ec4\u4ef6\u4e2d\u7684\u6570\u636e\u548c UI \u89e3\u8026\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u524d\u7aef\u7ec4\u4ef6\u8bbe\u8ba1\u7684\u539f\u5219"),(0,l.kt)("li",{parentName:"ul"},"\u5355\u4e00\u804c\u8d23\uff1a\u4e00\u4e2a\u7ec4\u4ef6\u53ea\u4e13\u6ce8\u4e00\u4ef6\u4e8b\u60c5\uff0c\u8fd9\u6837\u80fd\u591f\u66f4\u597d\u7684\u590d\u7528\u7ec4\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u8fc7\u5ea6\u5355\u4e00\u804c\u8d23\u7684\u7ec4\u4ef6\uff0c\u53ef\u80fd\u5bfc\u81f4\u8fc7\u5ea6\u62bd\u8c61\uff0c\u9020\u6210\u7ec4\u4ef6\u5e93\u788e\u7247\u5316\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u901a\u7528\u6027\uff1a\u653e\u5f03\u5bf9 dom \u7684\u638c\u63a7\uff0c\u53ea\u63d0\u4f9b\u6700\u57fa\u7840\u7684 dom \u548c\u4ea4\u4e92\u903b\u8f91\u3002\u5c06 dom \u7ed3\u6784\u8f6c\u79fb\u7ed9\u5f00\u53d1\u8005\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5c01\u88c5\uff1a\u9690\u85cf\u5185\u90e8\u5b9e\u73b0\u7ec6\u8282\u548c\u5b9e\u73b0\u610f\u4e49\u3002\u5e76\u901a\u8fc7 props \u63a7\u5236\u884c\u4e3a\u548c\u8f93\u51fa\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u591a\u4e2a\u529f\u80fd\u7684\u7ec4\u4ef6\u5e94\u8be5\u8f6c\u4e3a\u591a\u4e2a\u5c0f\u7ec4\u4ef6\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u547d\u540d\u89c4\u8303\uff1a\u6709\u610f\u4e49\u7684\u51fd\u6570\u548c\u53d8\u91cf\u540d\uff0c\u8ba9\u4ee3\u7801\u66f4\u5177\u6709\u53ef\u8bfb\u6027\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u9002\u5f53\u7684\u6ce8\u91ca"),(0,l.kt)("li",{parentName:"ul"},"\u6241\u5e73\u5316 state \u548c props"),(0,l.kt)("li",{parentName:"ul"},"\u7ed9\u7ec4\u4ef6\u4f20\u9012 props \u5efa\u8bae\u7528\u66f4\u6241\u5e73\u5316\u7684 props \uff0c\u800c\u4e0d\u662f\u7528\u5d4c\u5957\u7684\u5bf9\u8c61\u6216\u6570\u7ec4\u3002"),(0,l.kt)("li",{parentName:"ul"},"react \u4e2d\uff0c\u5982\u679c\u4fee\u6539\u5bf9\u8c61\u6216\u8005\u6570\u7ec4\uff0c\u5fc5\u987b\u521b\u5efa\u4e00\u4e2a\u526f\u672c\uff1b\u53ef\u80fd\u4f1a\u56e0\u4e3a\u6d45\u590d\u5236\u800c\u9020\u6210\u9875\u9762\u7684\u6e32\u67d3\u3002")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://juejin.cn/post/6844904032700481550"},"https://juejin.cn/post/6844904032700481550")),(0,l.kt)("h2",{id:"react-\u5e94\u7528\u5361\u987f\u5982\u4f55\u6392\u67e5\uff1f"},"React \u5e94\u7528\u5361\u987f\u5982\u4f55\u6392\u67e5\uff1f"),(0,l.kt)("p",null,"1\u3001\u4f7f\u7528 Performance \u5f55\u5236\u5e94\u7528\u5feb\u7167\uff0c\u67e5\u770b\u8c03\u7528\u60c5\u51b5"),(0,l.kt)("p",null,"2\u3001\u67e5\u770bnetwork\u4e2d\u7f51\u7edc\u8bf7\u6c42\u60c5\u51b5\uff0c\u662f\u5426\u6709\u8d44\u6e90\u56e0\u8fc7\u5927\u8bf7\u6c42\u963b\u585e\uff0c\u5bfc\u81f4\u540e\u7eed\u8d44\u6e90\u65e0\u6cd5\u52a0\u8f7d\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e00\u822c\u9009\u62e9\u5206\u5305\u6216\u56fa\u5b9a\u8d44\u6e90\u9009\u62e9cdn\u5206\u62c5\uff08\u591a\u57df\u540d\u3002\u6d4f\u89c8\u5668\u8bbe\u7f6e\u7684http2.0\u4ee5\u4e0b\u540c\u57df\u540d\u4ec5\u5141\u8bb8\u540c\u65f6\u6700\u591a6\u4e2atcp\u7684\u9650\u5236\uff09"),(0,l.kt)("p",null,"3\u3001\u53ef\u4ee5\u901a\u8fc7 React Developer Tools \u7684 Profiler \u7684 Flamegraph\uff08\u706b\u7130\u56fe\uff09\u6216 Ranked\uff08\u6e32\u67d3\u65f6\u957f\u6392\u884c\u699c\uff09 \u67e5\u770b\u5404\u7ec4\u4ef6\u7684\u6e32\u67d3\u65f6\u957f\uff0c\u6839\u636e\u5bf9\u5e94\u7684\u7ec4\u4ef6\u53ef\u4ee5\u8fdb\u884c\u6392\u67e5\u6e32\u67d3\u95ee\u9898\uff0c\u4ee5\u4e0b\u4f5c\u7b54\uff1a"),(0,l.kt)("p",null,"a). \u901a\u8fc7\u68c0\u67e5\u4ee3\u7801\u4e2d\u662f\u5426\u6709\u91cd\u590d\u89e6\u53d1\u7684 useEffect"),(0,l.kt)("p",null,"b). \u68c0\u67e5\u662f\u5426\u6709\u591a\u6b21\u4e0d\u540c\u6e32\u67d3\u5468\u671f\u4e2d\u89e6\u53d1\u7684setState\u5bfc\u81f4\u7684\u6e32\u67d3\uff08\u6bd4\u5982\u5728\u4e00\u4e2a\u4e8b\u4ef6\u4e2d\u5bfc\u81f4\u7684state\u66f4\u65b0\uff0c\u5bfc\u81f4\u4f9d\u8d56\u4e8e\u8be5state\u7684useEffect\u89e6\u53d1\uff0c\u800c\u8be5effect\u4e2d\u53c8\u6709\u5176\u4ed6\u7684setState\uff0c\u5bfc\u81f4\u591a\u4e2a\u6709\u4f9d\u8d56\u9879\u7684useEffect\u4e0d\u540c\u6279\u6b21\u8fde\u73af\u89e6\u53d1\uff09"),(0,l.kt)("p",null,"c). \u68c0\u67e5\u662f\u5426\u5728\u67d0\u4e2a\u8d85\u5927\u7ec4\u4ef6\u4e2d\u9700\u8981\u6e32\u67d3\u7684\u5143\u7d20\u8fc7\u591a\uff0c\u53ef\u4f7f\u7528\u5b50\u7ec4\u4ef6\u53ef\u8003\u8651\u4f7f\u7528 pureComponent\uff0c\u6216 React.mome \uff0c\u6216\u4f7f\u7528useMome\u6765\u6839\u636e\u4f9d\u8d56\u9879\u66f4\u65b0\u5b50\u7ec4\u4ef6\uff0c\u6216\u5728\u7236\u7ec4\u4ef6\u4e2d\u5c06\u5b50\u7ec4\u4ef6\u9700\u8981\u7684props\u901a\u8fc7\u4f7f\u7528useMome\u6216useCallback\u7f13\u5b58\uff0c \u6216\u5728\u5b50\u7ec4\u4ef6\u4e2d\u4f7f\u7528 shouldComponentUpdate \u4e2d\u6821\u9a8c\u662f\u5426\u9700\u8981\u66f4\u65b0\u6765\u51cf\u5c11\u66f4\u65b0"),(0,l.kt)("p",null,"d). \u68c0\u67e5\u662f\u5426\u5b58\u5728\u62d6\u62fd\u4e1a\u52a1\uff0c\u8fd9\u7c7b\u4e1a\u52a1\u4e00\u822c\u4f1a\u5bfc\u81f4\u5927\u91cf\u7684diff\u5b58\u5728\uff0c\u53ef\u4ee5\u7684\u8bdd\u53ef\u4ee5\u8003\u8651\u4e0d\u4f7f\u7528React\u7684\u65b9\u5f0f\u53bb\u5b9e\u73b0\uff0c\u4f7f\u7528\u7b2c\u4e09\u65b9\u975eReact\u7684JS\u5e93\u53bb\u5b9e\u73b0\u3002"),(0,l.kt)("p",null,"e). \u540c\u4e0a\u60c5\u51b5\uff0c\u5b58\u5728\u5927\u91cf\u589e\u5220\u6539\u67e5\u903b\u8f91\uff0c\u4f1a\u5bfc\u81f4\u5927\u91cf\u7684\u7684diff\u53ef\u4ee5\u68c0\u67e5\u5217\u8868\u5143\u7d20\u662f\u5426\u5b58\u5728\u552f\u4e00\u7684key\uff0c\u901a\u8fc7key\u53ef\u4ee5\u8ba9React\u590d\u7528Fiber\u4ece\u800c\u907f\u514d\u91cd\u590d\u521b\u5efa Fiber\u8282\u70b9\u4e0e Dom \u8282\u70b9"),(0,l.kt)("p",null,"f). \u5b58\u5728\u672a\u6e05\u9664\u6389\u7684\u5b9a\u65f6\u5668\u6216dom\u76d1\u542c\u4e8b\u4ef6"),(0,l.kt)("h2",{id:"react-18-\u66f4\u65b0\u7684\u5185\u5bb9\uff1f"},"React 18 \u66f4\u65b0\u7684\u5185\u5bb9\uff1f"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/bGf8VQpfPv0rgHxnOo7WUQ"},"https://mp.weixin.qq.com/s/bGf8VQpfPv0rgHxnOo7WUQ")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=ytudH8je5ko"},"https://www.youtube.com/watch?v=ytudH8je5ko")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5408\u5e76\u66f4\u65b0"),(0,l.kt)("li",{parentName:"ul"},"\u63d0\u4f9b\u4e86\u4e09\u4e2a\u65b0\u7684 API"),(0,l.kt)("li",{parentName:"ul"},"startTransition\uff1a\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u8be5\u4f5c\u7528\u5c31\u662f\u975e\u7d27\u6025\u66f4\u65b0\uff0c\u5c31\u662f\u4f1a\u5148\u6267\u884c\u4f18\u5148\u7ea7\u66f4\u65b0\u9ad8\u7684\u3002"),(0,l.kt)("li",{parentName:"ul"},"useDeferredValue\uff1a \u8bbe\u7f6e\u5ef6\u8fdf\u503c\u3002"),(0,l.kt)("li",{parentName:"ul"},"useTransition"),(0,l.kt)("li",{parentName:"ul"},"Suspense\uff1a \u670d\u52a1\u7aef SSR \u6e32\u67d3\u4e5f\u53ef\u4ee5\u5b9e\u73b0 ",(0,l.kt)("inlineCode",{parentName:"li"},"<Suspense>")),(0,l.kt)("li",{parentName:"ul"},"render -> createRoot\uff08\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6bd4\u5982\u8fd4\u56de root\uff0croot.render \u624d\u4f1a\u53bb\u6e32\u67d3\uff09"),(0,l.kt)("li",{parentName:"ul"},"useId() -> \u751f\u6210\u7ec4\u4ef6\u552f\u4e00 id")),(0,l.kt)("h2",{id:"\u9ad8\u8026\u5408\u4f4e\u5185\u805a"},"\u9ad8\u8026\u5408\u4f4e\u5185\u805a"),(0,l.kt)("p",null,"\u7ec4\u4ef6\u4e4b\u95f4\u6ca1\u6709\u5173\u8054\u7684\uff0c\u6709\u5173\u8054\u53ea\u4f1a\u662f\u6570\u636e\u4e4b\u95f4\u7684\u76f8\u4e92\u4f20\u9012\u3002\u7ec4\u4ef6\u7684\u5185\u90e8\u903b\u8f91\u4e0d\u4f1a\u4e0e\u5176\u4ed6\u7ec4\u4ef6\u5173\u8054\u3002"),(0,l.kt)("p",null,"\u7ec4\u4ef6\u5185\u7684\u65b9\u6cd5\u53ea\u66b4\u9732\u4e00\u90e8\u5206\uff0c\u6bd4\u5982\u56de\u8c03\u51fd\u6570\uff0c\u901a\u4fe1\u6570\u636e\u3002"),(0,l.kt)("h2",{id:"\u4ec0\u4e48\u662f-css-in-js\uff1f"},"\u4ec0\u4e48\u662f CSS-IN-JS\uff1f"),(0,l.kt)("h2",{id:"\u51fd\u6570\u7ec4\u4ef6\u7684\u5de5\u4f5c\u539f\u7406\uff1f"},(0,l.kt)("strong",{parentName:"h2"},"\u51fd\u6570\u7ec4\u4ef6\u7684\u5de5\u4f5c\u539f\u7406\uff1f")),(0,l.kt)("h2",{id:"\u9664\u4e86-redux-\u4f60\u8fd8\u7528\u8fc7\u90a3\u4e9b\uff1f\u5b83\u662f\u4e3a\u4e86\u89e3\u51b3\u4ec0\u4e48\u7684\uff1f"},(0,l.kt)("strong",{parentName:"h2"},"\u9664\u4e86 redux \u4f60\u8fd8\u7528\u8fc7\u90a3\u4e9b\uff1f\u5b83\u662f\u4e3a\u4e86\u89e3\u51b3\u4ec0\u4e48\u7684\uff1f")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"mobx"),(0,l.kt)("li",{parentName:"ul"},"dva\uff08redux \u5c01\u88c5\uff09"),(0,l.kt)("li",{parentName:"ul"},"Rxjs"),(0,l.kt)("li",{parentName:"ul"},"pullstate \uff08\u4f9d\u8d56 Immer\uff09"),(0,l.kt)("li",{parentName:"ul"},"recoil\uff08atom\uff09")),(0,l.kt)("h2",{id:"react-\u6027\u80fd\u4f18\u5316-1"},"react \u6027\u80fd\u4f18\u5316"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"profiber \u67e5\u770b\u7ec4\u4ef6\u52a0\u8f7d\u901f\u5ea6"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.zhangshuai.xyz/articles/view/89"},"https://www.zhangshuai.xyz/articles/view/89"))),(0,l.kt)("h2",{id:"react-\u548c-react-dom-\u4e24\u4e2a\u5e93\u6709\u4ec0\u4e48\u533a\u522b-\u5404\u81ea\u662f\u505a\u4ec0\u4e48\u7684\uff1f"},"react \u548c react-dom \u4e24\u4e2a\u5e93\u6709\u4ec0\u4e48\u533a\u522b \u5404\u81ea\u662f\u505a\u4ec0\u4e48\u7684\uff1f"),(0,l.kt)("span",null,"\n    ",(0,l.kt)("ins",{parentName:"span",className:"adsbygoogle",style:{display:"block",textAlign:"center"},"data-ad-layout":"in-article","data-ad-format":"fluid","data-ad-client":"ca-pub-3487507367729662","data-ad-slot":"1964508460"}),"\n  ",(0,l.kt)("script",{parentName:"span"},"\n     (adsbygoogle = window.adsbygoogle || []).push({});\n  ")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"react")," \u4e3b\u8981\u8d1f\u8d23\u63cf\u8ff0\u7279\u6027\uff0c\u63d0\u4f9breact api"),(0,l.kt)("li",{parentName:"ul"},"\u5c31\u662f\u7c7b\u7ec4\u4ef6\uff0c\u51fd\u6570\u7ec4\u4ef6 \uff0ccontext\uff0chook \uff0crefs \u8fd9\u4e9b\u7279\u6027\uff0creact \u6a21\u5757\u53ea\u63cf\u8ff0\u7279\u6027\u957f\u4ec0\u4e48\u6837\uff0c\u600e\u4e48\u7528\uff0c\u5e76\u4e0d\u8d1f\u8d23\u7279\u6027\u5177\u4f53\u5b9e\u73b0\u3002"),(0,l.kt)("li",{parentName:"ul"},"react-dom \u4e3b\u8981\u8d1f\u8d23\u5b9e\u73b0\u7279\u6027\uff0c\u6bd4\u5982\u6d4f\u89c8\u5668\u4e0a\u6e32\u67d3dom\uff0c\u54cd\u5e94\u70b9\u51fb\u4e8b\u4ef6\u7b49\u7b49\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://segmentfault.com/a/1190000037534946"},"https://segmentfault.com/a/1190000037534946"))))}s.isMDXComponent=!0}}]);