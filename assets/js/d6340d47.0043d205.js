(self.webpackChunkzxuqian_cn=self.webpackChunkzxuqian_cn||[]).push([[9111],{2122:function(e,n,t){"use strict";function l(){return(l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e}).apply(this,arguments)}t.d(n,{Z:function(){return l}})},9756:function(e,n,t){"use strict";function l(e,n){if(null==e)return{};var t,l,a={},i=Object.keys(e);for(l=0;l<i.length;l++)t=i[l],n.indexOf(t)>=0||(a[t]=e[t]);return a}t.d(n,{Z:function(){return l}})},3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return c},kt:function(){return m}});var l=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,l,a=function(e,n){if(null==e)return{};var t,l,a={},i=Object.keys(e);for(l=0;l<i.length;l++)t=i[l],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)t=i[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var o=l.createContext({}),d=function(e){var n=l.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},c=function(e){var n=d(e.components);return l.createElement(o.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},u=l.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),u=d(t),m=a,g=u["".concat(o,".").concat(m)]||u[m]||s[m]||i;return t?l.createElement(g,r(r({ref:n},c),{},{components:t})):l.createElement(g,r({ref:n},c))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,r=new Array(i);r[0]=u;var p={};for(var o in n)hasOwnProperty.call(n,o)&&(p[o]=n[o]);p.originalType=e,p.mdxType="string"==typeof e?e:a,r[1]=p;for(var d=2;d<i;d++)r[d]=t[d];return l.createElement.apply(null,r)}return l.createElement.apply(null,t)}u.displayName="MDXCreateElement"},5127:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return r},contentTitle:function(){return p},metadata:function(){return o},toc:function(){return d},default:function(){return s}});var l=t(2122),a=t(9756),i=(t(7294),t(3905)),r={title:"JS DOM\u64cd\u4f5c\u5e38\u7528API",date:new Date("2019-12-21T00:00:00.000Z"),sidebar:"auto",categories:["\u524d\u7aef\u57fa\u7840"],tags:["JavaScript"],publish:!0,showSponsor:!0},p=void 0,o={unversionedId:"skill/js/js5",id:"skill/js/js5",isDocsHomePage:!1,title:"JS DOM\u64cd\u4f5c\u5e38\u7528API",description:"\u4e3b\u8981\u5185\u5bb9\u6db5\u76d6\u589e\u5220\u6539\u67e5\u56db\u4e2a\u90e8\u5206\u3002",source:"@site/docs/skill/js/js5.md",sourceDirName:"skill/js",slug:"/skill/js/js5",permalink:"/docs/skill/js/js5",version:"current",frontMatter:{title:"JS DOM\u64cd\u4f5c\u5e38\u7528API",date:"2019-12-21T00:00:00.000Z",sidebar:"auto",categories:["\u524d\u7aef\u57fa\u7840"],tags:["JavaScript"],publish:!0,showSponsor:!0},sidebar:"skill",previous:{title:"JS \u8fd0\u7b97\u7b26\u548c\u8bed\u53e5",permalink:"/docs/skill/js/js4"},next:{title:"JS window \u5bf9\u8c61",permalink:"/docs/skill/js/js6"}},d=[{value:"\u67e5\u627e\u64cd\u4f5c",id:"\u67e5\u627e\u64cd\u4f5c",children:[{value:"getElementById",id:"getelementbyid",children:[]},{value:"getElementsByTagName",id:"getelementsbytagname",children:[]},{value:"getElementsByClassName",id:"getelementsbyclassname",children:[]},{value:"querySelector",id:"queryselector",children:[]},{value:"querySelectorAll",id:"queryselectorall",children:[]},{value:"parentNode",id:"parentnode",children:[]},{value:"childNodes",id:"childnodes",children:[]},{value:"previousSibling \u548c nextSibling",id:"previoussibling-\u548c-nextsibling",children:[]}]},{value:"\u521b\u5efa\u548c\u65b0\u589e\u64cd\u4f5c",id:"\u521b\u5efa\u548c\u65b0\u589e\u64cd\u4f5c",children:[{value:"createELement",id:"createelement",children:[]},{value:"cloneNode",id:"clonenode",children:[]},{value:"createDocumentFragment",id:"createdocumentfragment",children:[]},{value:"appendChild",id:"appendchild",children:[]},{value:"insertBefore",id:"insertbefore",children:[]}]},{value:"\u5220\u9664\u64cd\u4f5c",id:"\u5220\u9664\u64cd\u4f5c",children:[{value:"removeChild",id:"removechild",children:[]},{value:"remove",id:"remove",children:[]}]},{value:"\u4fee\u6539\u64cd\u4f5c",id:"\u4fee\u6539\u64cd\u4f5c",children:[{value:"replaceChild",id:"replacechild",children:[]}]}],c={toc:d};function s(e){var n=e.components,t=(0,a.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,l.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"\u4e3b\u8981\u5185\u5bb9\u6db5\u76d6",(0,i.kt)("inlineCode",{parentName:"p"},"\u589e\u5220\u6539\u67e5"),"\u56db\u4e2a\u90e8\u5206\u3002"),(0,i.kt)("h2",{id:"\u67e5\u627e\u64cd\u4f5c"},"\u67e5\u627e\u64cd\u4f5c"),(0,i.kt)("h3",{id:"getelementbyid"},"getElementById"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"getElementById()"),"\u8fd4\u56de\u4e00\u4e2a\u5339\u914d\u7279\u5b9a ID\u7684\u5143\u7d20\u3002\u7531\u4e8e\u5143\u7d20\u7684 ID \u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u8981\u6c42\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u81ea\u7136\u800c\u7136\u5730\u6210\u4e3a\u4e86\u4e00\u4e2a\u9ad8\u6548\u67e5\u627e\u7279\u5b9a\u5143\u7d20\u7684\u65b9\u6cd5,\u5982\u679c\u9875\u9762\u6709\u591a\u4e2a\u76f8\u540c\u7684 id\uff0c\u90a3\u4e48\u53ea\u4f1a\u8fd4\u56de\u7b2c\u4e00\u4e2a\uff0c\u540e\u9762\u7684\u4f1a\u81ea\u52a8\u5ffd\u7565\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<div id="div1">div1 - 1</div>    \n<div id="div1">div1 - 2</div>    \n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"console.log(document.getElementById('div1').textContent)\n")),(0,i.kt)("h3",{id:"getelementsbytagname"},"getElementsByTagName"),(0,i.kt)("p",null,"\u8fd4\u56de\u4e00\u4e2a\u5305\u62ec\u6240\u6709\u7ed9\u5b9a\u6807\u7b7e\u540d\u79f0\u7684\u5143\u7d20\u7684 HTML \u96c6\u5408 ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCollection"},"HTMLCollection"),"\u3002\u6574\u4e2a\u6587\u4ef6\u7ed3\u6784\u90fd\u4f1a\u88ab\u641c\u7d22\uff0c\u5305\u62ec\u6839\u8282\u70b9\u3002\u8fd4\u56de\u7684 HTML \u96c6\u5408\u662f\u52a8\u6001\u7684\uff0c\u610f\u5473\u7740\u5b83\u53ef\u4ee5\u81ea\u52a8\u66f4\u65b0\u81ea\u5df1\u6765\u4fdd\u6301\u548c DOM \u6811\u7684\u540c\u6b65\u800c\u4e0d\u7528\u518d\u6b21\u8c03\u7528 document.getElementsByTagName()\u3002\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u4e2d,\u6211\u4eec\u5c31\u662f\u5728id\u4e3adiv1\u7684div\u5143\u7d20\u4e2d\u5bfb\u627ep\u6807\u7b7e.\u5f53\u7136,\u6807\u7b7e\u540d\u53ef\u4ee5\u4f20\u5165 * \u4ee3\u8868\u6240\u6709\u5143\u7d20."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<div id="div1">\n    <p class="p1">1</p>\n    <p class="p1">2</p>\n</div>\n')),(0,i.kt)("span",null,"\n    ",(0,i.kt)("ins",{parentName:"span",className:"adsbygoogle",style:{display:"block",textAlign:"center"},"data-ad-layout":"in-article","data-ad-format":"fluid","data-ad-client":"ca-pub-3487507367729662","data-ad-slot":"3539166782"}),"\n  ",(0,i.kt)("script",{parentName:"span"},"\n     (adsbygoogle = window.adsbygoogle || []).push({});\n  ")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"console.log(document.getElementById('div1').getElementsByTagName('p'))  // HTMLCollection(2)\xa0[p.p1, p.p1]\n")),(0,i.kt)("h3",{id:"getelementsbyclassname"},"getElementsByClassName"),(0,i.kt)("p",null,"\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u4e86\u6240\u6709\u6307\u5b9a\u7c7b\u540d\u7684\u5b50\u5143\u7d20\u7684\u7c7b\u6570\u7ec4\u5bf9\u8c61\u3002\u5f53\u5728 document \u5bf9\u8c61\u4e0a\u8c03\u7528\u65f6\uff0c\u4f1a\u641c\u7d22\u6574\u4e2a DOM \u6587\u6863\uff0c\u5305\u542b\u6839\u8282\u70b9\u3002\u4f60\u4e5f\u53ef\u4ee5\u5728\u4efb\u610f\u5143\u7d20\u4e0a\u8c03\u7528getElementsByClassName() \u65b9\u6cd5\uff0c\u5b83\u5c06\u8fd4\u56de\u7684\u662f\u4ee5\u5f53\u524d\u5143\u7d20\u4e3a\u6839\u8282\u70b9\uff0c\u6240\u6709\u6307\u5b9a\u7c7b\u540d\u7684\u5b50\u5143\u7d20\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<div id="div0">\n    <div class="div2">0-2</div>\n</div>\n<div id="div1">\n    <div class="div2">1-2</div>\n</div>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let ele = document.getElementById('div1').getElementsByClassName('div2')  // \u6211\u4eec\u5c06class\u4e3adiv2\u7684\u5143\u7d20\u7684\u67e5\u8be2\u8303\u56f4\u9650\u5236\u5728id\u4e3adiv1\u7684\u5143\u7d20\u4e2d\nconsole.log(ele.length)  // 1\nconsole.log(ele[0].textContent)  // 1-2\n")),(0,i.kt)("h3",{id:"queryselector"},"querySelector"),(0,i.kt)("p",null,"\u8be5\u65b9\u6cd5\u8fd4\u56de\u6587\u6863\u4e2d\u4e0e\u6307\u5b9a\u9009\u62e9\u5668\u6216\u9009\u62e9\u5668\u7ec4\u5339\u914d\u7684\u7b2c\u4e00\u4e2ahtml\u5143\u7d20 Element ,\u82e5\u627e\u4e0d\u5230\u5219\u8fd4\u56de null.\u5373\u5b83\u91cc\u9762\u7684\u53c2\u6570\u4e3a\u4e00\u4e2a css\u9009\u62e9\u5668 \u5f62\u5f0f\u7684DOM\u5b57\u7b26\u4e32."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<div id="div1">\n    <p class="p1">1</p>\n    <p class="p1">2</p>\n</div>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let div1 = document.querySelector('#div1')\nlet p1 = document.querySelector('#div1>.p1')\n")),(0,i.kt)("p",null,"\u4e0a\u9762\u7684\u7b2c\u4e00\u53e5\u4ee3\u7801\u662f\u83b7\u53d6id\u4e3adiv1\u7684\u5143\u7d20,\u6211\u4eec\u4f20\u5165\u5176\u4e2d\u7684\u53c2\u6570\u4e3a #div1 ,\u6bd4 getElementById \u7684\u53c2\u6570\u591a\u4e86\u4e00\u4e2a # \u53f7.\u800c\u7b2c\u4e8c\u53e5\u4ee3\u7801\u5219\u662f\u83b7\u53d6id\u4e3adiv1\u7684\u5143\u7d20\u4e2d\u7684class\u4e3ap1\u7684\u5143\u7d20,\u8fd9\u5c31\u662f\u4e00\u4e2a\u5f88\u5178\u578b\u7684 css\u9009\u62e9\u5668 \u5f62\u5f0f\u7684\u5199\u6cd5.\u90a3\u4e48\u5b83\u4e0e getElementById, getElementsByClassName \u8fd9\u4e9b\u6709\u4ec0\u4e48\u533a\u522b\u5462? \u524d\u9762\u63d0\u5230\u4e86 getElementsByClassName \u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5373\u65f6\u7684 HTMLCollection,\u5373\u5b83\u8fd4\u56de\u4e00\u4e2a\u52a8\u6001\u96c6\u5408,\u800c querySelector \u83b7\u53d6\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u9759\u6001\u96c6\u5408."),(0,i.kt)("h3",{id:"queryselectorall"},"querySelectorAll"),(0,i.kt)("p",null,"\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e0e\u6307\u5b9a\u7684\u9009\u62e9\u5668\u7ec4\u5339\u914d\u7684\u6587\u6863\u4e2d\u7684\u5143\u7d20\u5217\u8868,\u662f\u4e00\u4e2a NodeList .\u5b83\u7684\u53c2\u6570\u5f62\u5f0f\u548c querySelector \u4e00\u6837,\u53ea\u662f\u5b83\u80fd\u8fd4\u56de\u6240\u6709\u7684\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20.\u540c\u6837\u5b83\u8fd4\u56de\u7684\u4e5f\u662f\u4e00\u4e2a\u9759\u6001\u96c6\u5408,\u800c getElementsByClassName \u8fd4\u56de\u7684\u662f\u52a8\u6001\u96c6\u5408. \u6211\u4eec\u901a\u8fc7\u4ee3\u7801\u6765\u5177\u4f53\u4e86\u89e3\u4e00\u4e0b\u4e24\u8005\u533a\u522b."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<ul id="lists">\n    <li class="item">1</li>\n    <li class="item">2</li>\n</ul>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let lists = document.getElementById('lists')\nlet items = lists.getElementsByClassName('item')\nconsole.log(items)  // HTMLCollection(2)\xa0[li.item, li.item]\nconsole.log(items.length)  // 2\nfor(let i = 3; i < 5; i++){\n    let li = document.createElement('li')\n    li.classList.add('item')\n    li.innerText = i\n    lists.appendChild(li)\n}\nconsole.log(items.length)  // 4\n\n\nlet lists2 = document.querySelector('#lists2')\nlet items2 = lists2.querySelectorAll('.item')\nconsole.log(items2)  // NodeList(2)\xa0[li.item, li.item]\nconsole.log(items2.length)  // 2\nfor(let i = 3; i < 5; i++){\n    let li = document.createElement('li')\n    li.classList.add('item')\n    li.innerText = i\n    lists.appendChild(li)\n}\nconsole.log(items2.length)  // 2\n")),(0,i.kt)("p",null,"\u524d\u4e00\u5927\u6bb5\u4ee3\u7801\u5728\u83b7\u53d6class\u4e3aitem\u7684li\u7684\u4e2a\u6570\u540e\u518d\u6b21\u6dfb\u52a0,\u957f\u5ea6\u4f1a\u8ddf\u7740\u52a8\u6001\u53d8\u5316,\u800c\u540e\u4e00\u5927\u6bb5\u4ee3\u7801\u4e2dli\u7684\u4e2a\u6570\u5219\u662f\u4e0d\u53d8\u7684."),(0,i.kt)("h3",{id:"parentnode"},"parentNode"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"parentNode"),"\u8fd4\u56de\u6307\u5b9a\u8282\u70b9\u7684\u7236\u8282\u70b9\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<div id="parent">\n    <div id="children"></div>\n</div>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let parent = document.querySelector('#parent')\nlet children = document.querySelector('#children')\nconsole.log(parent === children.parentNode)  // true\n")),(0,i.kt)("h3",{id:"childnodes"},"childNodes"),(0,i.kt)("p",null,"\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6307\u5b9a\u8282\u70b9\u7684\u5373\u65f6\u66f4\u65b0\u7684\u5b50\u8282\u70b9\u96c6\u5408, ",(0,i.kt)("inlineCode",{parentName:"p"},"ModeList"),"\u7c7b\u578b. \u6211\u4eec\u770b",(0,i.kt)("inlineCode",{parentName:"p"},"parentNode"),"\u4e2d\u7684\u4ee3\u7801\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<div id="parent">\n    <div id="children"></div>\n</div>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let parent = document.querySelector('#parent')\nconsole.log(parent.childNodes)  // NodeList(3)\xa0[text, div#children, text]\n")),(0,i.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u8fd4\u56de\u7684\u7ed3\u679c\u4e2d,\u6709\u597d\u51e0\u4e2a\u5b50\u8282\u70b9,\u8fd9\u662f\u56e0\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"childNodes"),"\u4f1a\u8fd4\u56de\u6587\u672c\u8282\u70b9."),(0,i.kt)("h3",{id:"previoussibling-\u548c-nextsibling"},"previousSibling \u548c nextSibling"),(0,i.kt)("p",null,"\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u5206\u522b\u8fd4\u56de\u6307\u5b9a\u8282\u70b9\u7684\u524d\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9\u548c\u540e\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9,\u82e5\u4e0d\u5b58\u5728\u5219\u8fd4\u56denull\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<ul>\n    <li class="item1">1</li><li class="item2">2</li><li class="item3">3</li>\n</ul>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let items1 = document.querySelector('.item1')\nlet items2 = document.querySelector('.item2')\nlet items3 = document.querySelector('.item3')\nconsole.log(items2.previousSibling === items1)  // true\nconsole.log(items2.nextSibling === items3)  // true\n")),(0,i.kt)("p",null,"\u6ce8\u610f\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d,\u4e09\u4e2a li \u6807\u7b7e\u4e4b\u95f4\u6ca1\u6709\u7a7a\u9699,\u5426\u5219\u5728\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"previousSibling")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"p"},"nextSibling")," \u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u83b7\u53d6\u5230\u7a7a\u767d\u6587\u672c\u8282\u70b9."),(0,i.kt)("h2",{id:"\u521b\u5efa\u548c\u65b0\u589e\u64cd\u4f5c"},"\u521b\u5efa\u548c\u65b0\u589e\u64cd\u4f5c"),(0,i.kt)("h3",{id:"createelement"},"createELement"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"createELement "),"\u901a\u8fc7\u4f20\u5165\u4e00\u4e2a\u6307\u5b9a\u7684\u6807\u7b7e\u540d\u6765\u521b\u5efa\u4e00\u4e2a\u5143\u7d20\u8282\u70b9,\u5373\u4f7f\u4f20\u5165\u7684\u4e0d\u662f\u4e00\u4e2a\u6807\u51c6\u7684\u6807\u7b7e\u540d,\u4e5f\u4f1a\u521b\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6807\u7b7e."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let ele = document.createElement('div')\nlet ele2 = document.createElement('div2')  // \u4f1a\u521b\u5efa\u4e00\u4e2a div2 \u6807\u7b7e\n")),(0,i.kt)("p",null,"\u4f46\u662f\u4e0a\u9762\u4e24\u79cd\u8282\u70b9\u521b\u5efa\u540e\u90fd\u662f\u72ec\u7acb\u7684\u8282\u70b9,\u5373\u90fd\u8fd8\u4e0d\u5c5e\u4e8ehtml\u6587\u6863.\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"appendChild")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"p"},"insertBefore")," \u7b49\u65b9\u6cd5\u5c06\u5176\u6dfb\u52a0\u5230html\u6587\u6863\u4e2d."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let ele = document.createElement('div')\nlet text = document.createTextNode('created')\nele.appendChild(text)\ndocument.body.appendChild(ele)\n")),(0,i.kt)("h3",{id:"clonenode"},"cloneNode"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"cloneNode")," \u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u8c03\u7528\u8be5\u65b9\u6cd5\u7684\u8282\u70b9\u7684\u526f\u672c,\u5373\u8c01\u8c03\u7528\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"cloneNode")," ,\u5c31\u8fd4\u56de'\u8c01'\u7684\u4e00\u4e2a\u590d\u5236\u54c1.\u5b83\u63a5\u53d7\u4e00\u4e2aBoolean\u7c7b\u578b\u7684\u53c2\u6570,\u8868\u793a\u662f\u5426\u590d\u5236\u8fd9\u4e2a'\u8c01'\u7684\u5b50\u5143\u7d20.\u4e3atrue\u5219\u8868\u793a\u8fde\u5b50\u8282\u70b9\u4e00\u8d77\u590d\u5236\u4e86,\u4e3afalse\u5219\u8868\u793a\u53ea\u590d\u5236\u5f53\u524d\u7684\u8fd9\u4e2a'\u8c01',\u800c\u4e0d\u53bb\u7ba1\u5b83\u7684\u5b50\u8282\u70b9.\n\u6ce8\u610f\u4e86,\u8fd9\u91cc\u590d\u5236\u51fa\u6765\u7684\u526f\u672c\u8282\u70b9\u8fd8\u662f\u4e00\u4e2a\u4e0d\u5b58\u5728\u4e8ehtml\u6587\u6863\u6811\u4e2d\u7684\u72ec\u7acb\u8282\u70b9.\u540c\u6837\u7684,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"appendChild")," \u6765\u5c06\u5176\u6dfb\u52a0\u5230\u6587\u6863\u6811\u4e2d."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<div id="app">\n    <p class="p1">1</p>\n</div>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let ele = document.querySelector('#app')\nlet p1 = document.querySelector('.p1')\nlet newNode1 = p1.cloneNode(true) \nlet newNode2 = p1.cloneNode(false)\n\np1.onclick = function(){\n    console.log('click event')\n}\np1.addEventListener('click', function(){\n    console.log('addEventListener click')\n})\n\napp.appendChild(newNode1)\napp.appendChild(newNode2)\n")),(0,i.kt)("p",null,"\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d,\u6211\u4eec\u751f\u6210\u4e86\u4e24\u4e2a\u8282\u70b9,\u5373 newNode1 \u548c newNode2.\u6211\u4eec\u53ef\u4ee5\u5728\u63a7\u5236\u53f0\u67e5\u770b\u9875\u9762\u7ed3\u6784,\u53d1\u73b0 newNode2 \u751f\u6210\u7684\u8282\u70b9\u662f\u6ca1\u6709\u5b50\u8282\u70b9\u7684,\u800c newNode1 \u5219\u662f\u6709\u7684(\u6587\u672c\u8282\u70b9\u5373\u662f\u5b83\u7684\u5b50\u8282\u70b9).\u8fd9\u91cc\u6700\u597d\u5c06\u8fd9\u4e2aBoolean\u7c7b\u578b\u7684\u53c2\u6570\u586b\u5165,\u4ee5\u514d\u4e0d\u540c\u6d4f\u89c8\u5668\u4f1a\u6709\u4e0d\u540c\u7684\u5904\u7406\u8868\u73b0.\n\u5e76\u4e14\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d,\u6211\u4eec\u4e0d\u4f46\u7ed9 p1 \u8282\u70b9\u6dfb\u52a0\u4e86 click \u4e8b\u4ef6,\u5e76\u4e14\u8fd8\u7ed9\u5b83\u6ce8\u518c\u4e86\u76d1\u542c\u5668.\u8fd9\u91cc\u7b80\u5355\u7684\u4ecb\u7ecd\u4e0b\u8fd9\u4e24\u8005\u4e4b\u95f4\u7684\u533a\u522b,onclick \u4e8b\u4ef6\u5728\u540c\u4e00\u65f6\u95f4\u540c\u4e00\u5bf9\u8c61\u53ea\u80fd\u7ed1\u5b9a\u4e00\u4e2a,\u7ed1\u591a\u4e86\u5219\u662f\u540e\u9762\u7684\u4f1a\u8986\u76d6\u524d\u9762\u7684.\u800c addEventListener \u5219\u662f\u53ef\u4ee5\u7ed9\u4e00\u4e2a\u4e8b\u4ef6\u6ce8\u518c\u591a\u4e2a\u76d1\u542c\u5668,\u53ef\u4ee5\u7ed1\u5b9a\u597d\u591a\u4e2a.\u901a\u8fc7\u70b9\u51fb\u751f\u6210\u7684\u8282\u70b9\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0,\u4e0d\u7ba1\u662f\u901a\u8fc7 onclick \u8fd8\u662f addEventListener \u7ed1\u5b9a\u4e8b\u4ef6,\u5728\u526f\u672c\u8282\u70b9\u4e2d\u90fd\u4e0d\u4f1a\u5c06\u8be5\u7ed1\u5b9a\u4e8b\u4ef6\u590d\u5236\u8fc7\u6765.\u90a3\u6709\u6ca1\u6709\u4ec0\u4e48\u529e\u6cd5\u53ef\u4ee5\u5c06\u4e8b\u4ef6\u884c\u4e3a\u4e5f\u4e00\u8d77\u590d\u5236\u8fc7\u6765\u5462?\u6709\u7684,\u5047\u5982\u6211\u4eec\u4f7f\u7528html\u6807\u7b7e\u5185\u8054\u7ed1\u5b9a\u7684\u65b9\u5f0f,\u90a3\u4e48\u526f\u672c\u8282\u70b9\u4e5f\u80fd\u89e6\u53d1\u4e8b\u4ef6\u4e86."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<div id="app">\n    <p class="p1" onclick="log()">1</p>\n</div>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let ele = document.querySelector('#app')\nlet p1 = document.querySelector('.p1')\nlet newNode1 = p1.cloneNode(true)\nfunction log(){\n    console.log('bind html')\n}\napp.appendChild(newNode1)\n")),(0,i.kt)("h3",{id:"createdocumentfragment"},"createDocumentFragment"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"createDocumentFragment")," \u53ef\u4ee5\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u6587\u6863\u7247\u6bb5,\u7528\u6765\u5b58\u50a8\u4e34\u65f6\u7684\u8282\u70b9\u4ee5\u4fbf\u540e\u9762\u7edf\u4e00\u6dfb\u52a0\u5230DOM\u6587\u6863\u6811\u4e2d.\u4e00\u822c\u5728\u6dfb\u52a0\u5927\u91cf\u8282\u70b9\u7684\u65f6\u5019,\u6211\u4eec\u9009\u62e9\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u6765\u4f18\u5316\u6027\u80fd.\u6211\u4eec\u5148\u6765\u770b\u4e0b\u9762\u7684\u4ee3\u7801,\u5faa\u73af\u6e32\u67d310\u4e2a\u5143\u7d20,\u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u6587\u6863\u4e2d."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let app = document.querySelector('#app')\nfor(let i = 0; i < 10; i++){\n    let ele = document.createElement('div')\n    ele.innerText = `new node ${i}`\n    app.appendChild(ele)\n}\n")),(0,i.kt)("p",null,"\u4e0a\u9762\u4ee3\u7801\u4f1a\u521b\u5efa\u662f\u4e2a ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," \u6807\u7b7e\uff0c\u6bcf\u6b21\u51fd\u6570\u6267\u884c\u7684\u65f6\u5019\u90fd\u4f1a\u540a\u7528 querySelector \u83b7\u53d6\u8282\u70b9\uff0c\u7136\u540e\u5728 appendChild \u63d2\u5165\u5230 #app \u8282\u70b9\u4e0b\u3002\u76f8\u5f53\u4e8e\u6bcf\u4e00\u6b21\u5faa\u73af\u90fd\u4f1a\u53bb\u64cd\u4f5c DOM\uff0c\u5f71\u54cd\u6d4f\u89c8\u5668\u7684\u6027\u80fd\uff0c\u8fd8\u4f1a\u9020\u6210\u91cd\u7ed8\uff0c\u56de\u6d41\u7684\u53ef\u80fd\u6027\u3002\u90a3\u600e\u4e48\u4f18\u5316\u5462\uff0c\u5f53\u7136\u90a3\u5c31\u662f\u5229\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"createDocumentFragment"),"\u6587\u6863\u7247\u6bb5\u5b58\u50a8\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let app = document.querySelector('#app')\nlet tmp = document.createDocumentFragment()\nfor(let i = 0; i < 10; i++){\n    let ele = document.createElement('div')\n    ele.innerText = `new node ${i}`\n    tmp.appendChild(ele)\n}\napp.appendChild(tmp)\n")),(0,i.kt)("p",null,"\u6211\u4eec\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"createDocumentFragment")," \u65b9\u6cd5\u751f\u6210\u7684\u5bf9\u8c61\u4e0d\u662f\u6587\u6863\u6811\u4e2d\u7684\u4e00\u90e8\u5206,\u5b83\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d.\u56e0\u6b64\u5728\u8fdb\u884c\u5faa\u73af\u751f\u6210\u7684\u65f6\u5019,\u4e0d\u4f1a\u9020\u6210\u9891\u7e41\u7684\u6d4f\u89c8\u5668\u56de\u6d41.\u5f53\u5faa\u73af\u7ed3\u675f\u7684\u65f6\u5019,\u518d\u4e00\u6b21\u6027\u5c06\u5168\u90e8\u8282\u70b9\u6dfb\u52a0\u5230DOM\u4e2d."),(0,i.kt)("h3",{id:"appendchild"},"appendChild"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"appendChild")," \u8fd9\u4e2a\u65b9\u6cd5\u5728\u524d\u9762\u7684\u5404\u79cd\u4f8b\u5b50\u4e2d\u5176\u5b9e\u5df2\u7ecf\u51fa\u73b0\u4e86\u597d\u591a\u6b21\u4e86.\u524d\u9762\u8bf4\u5230\u4e86\u597d\u51e0\u4e2a\u521b\u5efa\u8282\u70b9\u7684\u65b9\u6cd5,\u4f46\u90fd\u53ea\u662f\u521b\u5efa\u8282\u70b9,\u5e76\u6ca1\u6709\u771f\u7684\u5c06\u8282\u70b9\u585e\u8fdbDOM\u6811\u4e2d,\u800c ",(0,i.kt)("inlineCode",{parentName:"p"},"appendChild")," \u65b9\u6cd5\u5219\u662f\u66ff\u6211\u4eec\u5e72\u4e86\u8fd9\u4e2a\u4e8b\u60c5.\n",(0,i.kt)("inlineCode",{parentName:"p"},"appendChild")," \u65b9\u6cd5\u5c06\u4e00\u4e2a\u8282\u70b9\u9644\u52a0\u5230\u6307\u5b9a\u7684\u7236\u8282\u70b9\u7684\u539f\u6709\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u4e4b\u540e,\u82e5\u88ab\u63d2\u5165\u7684\u8282\u70b9\u539f\u5148\u5df2\u7ecf\u5b58\u5728\u4e8e\u6b64\u6587\u6863\u7684\u6587\u6863\u6811\u4e2d,\u5219\u5b83\u4f1a\u81ea\u52a8\u4ece\u539f\u5148\u7684\u4f4d\u7f6e\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e.\u6240\u4ee5\u53ef\u4ee5\u8bf4\u8fd9\u65e2\u662f\u4e00\u4e2a\u589e\u7684\u65b9\u6cd5,\u4e5f\u662f\u4e00\u4e2a\u6539\u7684\u65b9\u6cd5."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<div id="app">\n    <p class="p1">1</p>\n    <p class="p2">2</p>\n    <p class="p3">3</p>\n</div>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let app = document.querySelector('#app')\nlet p2 = document.querySelector('.p2')\napp.appendChild(p2)\n")),(0,i.kt)("h3",{id:"insertbefore"},"insertBefore"),(0,i.kt)("p",null,"appendChild \u662f\u5c06\u8282\u70b9\u63d2\u5165\u5230\u6700\u540e,\u800c insertBefore \u53ef\u4ee5\u5e2e\u6211\u4eec\u5c06\u8282\u70b9\u51c6\u786e\u7684\u63d2\u5165\u6211\u4eec\u60f3\u8981\u7684\u4f4d\u7f6e.\ninsertBefore \u7684\u8bed\u6cd5\u5982\u4e0b: parentNode.insertBefore(newNode, referenceNode) .\u5176\u4e2d referenceNode \u662f\u4e00\u4e2a\u6307\u5b9a\u8282\u70b9,\u8868\u660e\u6211\u4eec\u60f3\u8981\u5c06\u65b0\u8282\u70b9\u63d2\u5165\u5230\u5b83\u4e4b\u524d.\u82e5\u65b0\u8282\u70b9\u5df2\u7ecf\u5b58\u5728\u4e8e\u6587\u6863\u6811\u4e2d,\u5219\u5b83\u4f1a\u81ea\u52a8\u4ece\u539f\u5148\u7684\u4f4d\u7f6e\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e,\u8fd9\u70b9\u548c appendChild \u662f\u7c7b\u4f3c\u7684."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<div id="app">\n    <p class="p1">1</p>\n    <p class="p2">2</p>\n    <p class="p3">3</p>\n</div>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let app = document.querySelector('#app')\nlet p2 = document.querySelector('.p2')\nlet el = document.createElement('p')\nel.classList.add('p1-2')\nel.innerText = '1-2'\napp.insertBefore(el, p2)\n")),(0,i.kt)("h2",{id:"\u5220\u9664\u64cd\u4f5c"},"\u5220\u9664\u64cd\u4f5c"),(0,i.kt)("h3",{id:"removechild"},"removeChild"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"removeChild")," \u7528\u4e8e\u5220\u9664\u6307\u5b9a\u5143\u7d20\u7684\u67d0\u4e2a\u5b50\u8282\u70b9,\u82e5\u5b50\u8282\u70b9\u4e0d\u5b58\u5728\u5219\u8fd4\u56denull"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<ul>\n    <li class="list">1</li>\n    <li class="list">2</li>\n    <li class="list">3</li>\n</ul>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let lists = document.querySelectorAll('.list')\nlet list2 = document.querySelectorAll('.list')[1]\nlet deleteLi = lists[0].parentNode.removeChild(list2)\nconsole.log(deleteLi)  // <li class=\"list\">2</li>\nlists[0].parentNode.appendChild(deleteLi)\n")),(0,i.kt)("p",null,"\u7ed3\u679c\u9875\u9762\u7684\u987a\u5e8f\u662f 1 3 2,\u7ed3\u5408\u4e0a\u9762\u7684 console.log(deleteLi) \u7ed3\u679c,\u53ef\u4ee5\u5f97\u51fa\u7ed3\u8bba:\u88ab\u5220\u9664\u7684\u8282\u70b9\u867d\u7136\u4e0d\u5728\u6587\u6863\u6811\u4e2d,\u4f46\u662f\u5374\u8fd8\u5728\u5185\u5b58\u4e2d,\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u64cd\u4f5c.\n\u6b64\u5916\u82e5\u5220\u9664\u7684\u8282\u70b9\u4e0d\u662f\u5176\u5b50\u8282\u70b9\u7684\u8bdd,\u5219\u4f1a\u62a5\u9519:Uncaught ",(0,i.kt)("inlineCode",{parentName:"p"},"DOMException: Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node. "),"\u4fee\u6539\u5982\u4e0b\u4ee5\u786e\u4fdd\u4e0d\u4f1a\u62a5\u9519:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"if(node.parentNode){\n    node.parentNode.removeChild(node)\n}\n")),(0,i.kt)("h3",{id:"remove"},"remove"),(0,i.kt)("p",null,"\u4e0a\u9762\u6211\u4eec\u8bf4\u5230\u4e86\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"removeChild")," \u6765\u5220\u9664\u5143\u7d20\u8282\u70b9\u7684\u65f6\u5019,\u9700\u8981\u5148\u627e\u5230\u81ea\u8eab\u5143\u7d20\u7684\u7236\u8282\u70b9,\u7136\u540e\u518d\u627e\u5230\u7236\u8282\u70b9\u4e0b\u9762\u7684\u5b50\u5143\u7d20.\u8fd9\u91cc\u6211\u4eec\u6765\u8bf4\u4e00\u4e2a\u53ef\u4ee5\u76f4\u63a5\u5220\u9664\u81ea\u8eab\u8282\u70b9\u7684\u65b9\u6cd5 remove."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<ul>\n    <li class="li1">1</li>\n    <li class="li2">2</li>\n</ul>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let li1 = document.querySelector('.li1')\nli1.remove()  // <li class=\"li1\">1</li> \u8fd9\u4e2a\u5143\u7d20\u88ab\u5220\u9664\u6389\u4e86\n")),(0,i.kt)("h2",{id:"\u4fee\u6539\u64cd\u4f5c"},"\u4fee\u6539\u64cd\u4f5c"),(0,i.kt)("h3",{id:"replacechild"},"replaceChild"),(0,i.kt)("p",null,"replaceChild \u65b9\u6cd5\u4f7f\u7528\u4e00\u4e2a\u6307\u5b9a\u7684\u8282\u70b9\u66ff\u6362\u5f53\u524d\u8282\u70b9\u7684\u4e00\u4e2a\u5b50\u8282\u70b9,\u5e76\u8fd4\u56de\u88ab\u66ff\u6362\u6389\u7684\u8282\u70b9.\u5176\u8bed\u6cd5\u7ed3\u6784\u4e3a: ",(0,i.kt)("inlineCode",{parentName:"p"},"parentNode.replaceChild(newChild, oldChild)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<div id="app">\n    <p class="p1">1</p>\n    <p class="p2">2</p>\n    <p class="p3">3</p>\n</div>\n')),(0,i.kt)("span",null,"\n    ",(0,i.kt)("ins",{parentName:"span",className:"adsbygoogle",style:{display:"block",textAlign:"center"},"data-ad-layout":"in-article","data-ad-format":"fluid","data-ad-client":"ca-pub-3487507367729662","data-ad-slot":"1964508460"}),"\n  ",(0,i.kt)("script",{parentName:"span"},"\n     (adsbygoogle = window.adsbygoogle || []).push({});\n  ")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"let app = document.querySelector('#app')\nlet p2 = document.querySelector('.p2')\nlet el = document.createElement('p')\nel.classList.add('p4')\nel.innerText = '4'\nlet r = app.replaceChild(el, p2)\nconsole.log(r)  // <p class=\"p2\">2</p>\n")))}s.isMDXComponent=!0}}]);