(self.webpackChunkzxuqian_cn=self.webpackChunkzxuqian_cn||[]).push([[4989],{2122:function(e,n,t){"use strict";function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}t.d(n,{Z:function(){return a}})},9756:function(e,n,t){"use strict";function a(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}t.d(n,{Z:function(){return a}})},3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return m},kt:function(){return c}});var a=t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var p=a.createContext({}),s=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},m=function(e){var n=s(e.components);return a.createElement(p.Provider,{value:n},e.children)},k={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),u=s(t),c=l,d=u["".concat(p,".").concat(c)]||u[c]||k[c]||r;return t?a.createElement(d,i(i({ref:n},m),{},{components:t})):a.createElement(d,i({ref:n},m))}));function c(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,i=new Array(r);i[0]=u;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var s=2;s<r;s++)i[s]=t[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},914:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return i},contentTitle:function(){return o},metadata:function(){return p},toc:function(){return s},default:function(){return k}});var a=t(2122),l=t(9756),r=(t(7294),t(3905)),i={title:"Promise \u521d\u7ea7",date:new Date("2019-01-13T00:00:00.000Z"),sidebar:"auto",categories:["\u524d\u7aef\u57fa\u7840"],tags:["Promise"],publish:!0,showSponsor:!0},o=void 0,p={unversionedId:"skill/es6/promise/promise2",id:"skill/es6/promise/promise2",isDocsHomePage:!1,title:"Promise \u521d\u7ea7",description:"Promise \u662f\u4ec0\u4e48",source:"@site/docs/skill/es6/promise/promise2.md",sourceDirName:"skill/es6/promise",slug:"/skill/es6/promise/promise2",permalink:"/docs/skill/es6/promise/promise2",version:"current",frontMatter:{title:"Promise \u521d\u7ea7",date:"2019-01-13T00:00:00.000Z",sidebar:"auto",categories:["\u524d\u7aef\u57fa\u7840"],tags:["Promise"],publish:!0,showSponsor:!0},sidebar:"skill",previous:{title:"Promise \u524d\u8a00",permalink:"/docs/skill/es6/promise/promise1"},next:{title:"Promise \u9ad8\u7ea7",permalink:"/docs/skill/es6/promise/promise3"}},s=[{value:"Promise \u662f\u4ec0\u4e48",id:"promise-\u662f\u4ec0\u4e48",children:[]},{value:"Promise Api\uff08\u8bed\u6cd5\uff09",id:"promise-api\uff08\u8bed\u6cd5\uff09",children:[]},{value:"promise \u57fa\u7840\u4f7f\u7528",id:"promise-\u57fa\u7840\u4f7f\u7528",children:[]},{value:"promise \u6d41\u7a0b\u56fe",id:"promise-\u6d41\u7a0b\u56fe",children:[]},{value:"\u4e3a\u5565\u7528promise\u5462",id:"\u4e3a\u5565\u7528promise\u5462",children:[]},{value:"Promise \u7684 API",id:"promise-\u7684-api",children:[]},{value:"Promise \u4f7f\u7528",id:"promise-\u4f7f\u7528",children:[]},{value:"Promise \u51fd\u6570\u5bf9\u8c61\u7684\u65b9\u6cd5 <code>.all()</code> <code>.race()</code>",id:"promise-\u51fd\u6570\u5bf9\u8c61\u7684\u65b9\u6cd5-all-race",children:[]},{value:"\u94fe\u5f0f\u8c03\u7528",id:"\u94fe\u5f0f\u8c03\u7528",children:[]},{value:"\u82f1\u6587\u91ca\u4e49",id:"\u82f1\u6587\u91ca\u4e49",children:[]}],m={toc:s};function k(e){var n=e.components,t=(0,l.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"promise-\u662f\u4ec0\u4e48"},"Promise \u662f\u4ec0\u4e48"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6982\u5ff5",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u62bd\u8c61\n",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u662f",(0,r.kt)("inlineCode",{parentName:"li"},"js"),"\u4e2d\u65b0\u7684\uff08ES6\uff09\u5f02\u6b65\u7f16\u7a0b\u7684\u89e3\u51b3\u65b9\u6848\uff08\u65e7\u7684\u662f\u7eaf\u56de\u8c03\uff0c\u662f\u591a\u5c42\u56de\u8c03\uff0c\u4f1a\u6709\u56de\u8c03\u5730\u72f1\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u56de\u8c03\u5730\u72f1\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u5177\u4f53",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u4ece\u8bed\u6cd5\u4e0a\u8bb2\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570"),(0,r.kt)("li",{parentName:"ol"},"\u4ece\u529f\u80fd\u4e0a\u8bb2\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u5bf9\u8c61\u7528\u6765\u5c01\u88c5\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u5e76\u53ef\u4ee5\u83b7\u5f97\u5176\u7ed3\u679c")))))),(0,r.kt)("h2",{id:"promise-api\uff08\u8bed\u6cd5\uff09"},"Promise Api\uff08\u8bed\u6cd5\uff09"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8bed\u6cd5")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// promise \u6784\u9020\u51fd\u6570\nnew Promise( function(resolve, reject) {...} /* executor */  );\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"executor")," \u6784\u9020\u51fd\u6570",(0,r.kt)("inlineCode",{parentName:"p"},"Promise()"),"\u7684\u53c2\u6570\uff0c\u53c8\u53eb\u6267\u884c\u5668\u51fd\u6570\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"executor"),"\u51fd\u6570\uff1a\u540c\u6b65\u6267\u884c ",(0,r.kt)("inlineCode",{parentName:"p"},"\uff08resolve,reject\uff09=>{}")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"executor"),"\u662f\u5e26\u6709 ",(0,r.kt)("inlineCode",{parentName:"p"},"resolve")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"reject")," \u4e24\u4e2a\u53c2\u6570\u7684\u51fd\u6570 \u3002",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"\u6784\u9020\u51fd\u6570\u6267\u884c\u65f6\u7acb\u5373\u8c03\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"executor")," \u51fd\u6570\uff08executor\u4f1a\u5728promise\u5185\u90e8\u7acb\u5373\u540c\u6b65\u56de\u8c03\uff0c\u5f02\u6b65\u64cd\u4f5c\u4f1a\u5728\u6267\u884c\u5668\u4e2d\u6267\u884c\uff09\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"resolve")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"reject")," \u4e24\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9",(0,r.kt)("inlineCode",{parentName:"p"},"executor"),"\uff08",(0,r.kt)("inlineCode",{parentName:"p"},"executor")," \u51fd\u6570\u5728Promise\u6784\u9020\u51fd\u6570\u8fd4\u56de\u6240\u5efa",(0,r.kt)("inlineCode",{parentName:"p"},"promise"),"\u5b9e\u4f8b\u5bf9\u8c61\u524d\u88ab\u8c03\u7528\uff09\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"resolve"),"\u51fd\u6570\uff1a\u5185\u90e8\u5b9a\u4e49\u6210\u529f\u65f6\u6267\u884c\u7684\u51fd\u6570 ",(0,r.kt)("inlineCode",{parentName:"p"},"value => {}"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"reject"),"\u51fd\u6570: \u5185\u90e8\u5b9a\u4e49\u5931\u8d25\u65f6\u6267\u884c\u7684\u51fd\u6570 ",(0,r.kt)("inlineCode",{parentName:"p"},"reason => {}")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"resolve")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"reject")," \u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c\u5206\u522b\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"promise"),"\u7684\u72b6\u6001\u6539\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"fulfilled\uff08\u5b8c\u6210\uff09"),"\u6216",(0,r.kt)("inlineCode",{parentName:"p"},"rejected\uff08\u5931\u8d25\uff09"),"\u3002"))))),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"executor")," \u5185\u90e8\u901a\u5e38\u4f1a\u6267\u884c\u4e00\u4e9b\u5f02\u6b65\u64cd\u4f5c\uff0c\u4e00\u65e6\u5f02\u6b65\u64cd\u4f5c\u6267\u884c\u5b8c\u6bd5(\u53ef\u80fd\u6210\u529f/\u5931\u8d25)\uff0c\u8981\u4e48\u8c03\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"resolve"),"\u51fd\u6570\u6765\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"promise"),"\u72b6\u6001\u6539\u6210",(0,r.kt)("inlineCode",{parentName:"p"},"fulfilled"),"\uff0c\u8981\u4e48\u8c03\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"reject")," \u51fd\u6570\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"promise"),"\u7684\u72b6\u6001\u6539\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"rejected"),"\u3002\u5982\u679c\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"executor"),"\u51fd\u6570\u4e2d\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u90a3\u4e48\u8be5",(0,r.kt)("inlineCode",{parentName:"p"},"promise")," \u72b6\u6001\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"rejected"),"\u3002",(0,r.kt)("inlineCode",{parentName:"p"},"executor"),"\u51fd\u6570\u7684\u8fd4\u56de\u503c\u88ab\u5ffd\u7565\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u72b6\u6001"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"pending"),": \u521d\u59cb\u72b6\u6001\uff0c\u65e2\u4e0d\u662f\u6210\u529f\uff0c\u4e5f\u4e0d\u662f\u5931\u8d25\u72b6\u6001\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"fulfilled(resolved)"),": \u610f\u5473\u7740\u64cd\u4f5c\u6210\u529f\u5b8c\u6210\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"rejected"),": \u610f\u5473\u7740\u64cd\u4f5c\u5931\u8d25\u3002")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u72b6\u6001\u6539\u53d8"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u521d\u59cb\u72b6\u6001\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"pending"),"\uff0c")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4ece",(0,r.kt)("inlineCode",{parentName:"p"},"pending")," \u8f6c\u4e3a=> ",(0,r.kt)("inlineCode",{parentName:"p"},"fulfilled(resolved)"),"\uff1b")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4ece",(0,r.kt)("inlineCode",{parentName:"p"},"pending"),"  \u8f6c\u4e3a=> ",(0,r.kt)("inlineCode",{parentName:"p"},"rejected")))))),(0,r.kt)("p",null,"\u72b6\u6001\n",(0,r.kt)("img",{parentName:"p",src:"https://z3.ax1x.com/2021/07/22/W0SptK.jpg",alt:"promise\u72b6\u6001"})),(0,r.kt)("span",null,"\n    ",(0,r.kt)("ins",{parentName:"span",className:"adsbygoogle",style:{display:"block",textAlign:"center"},"data-ad-layout":"in-article","data-ad-format":"fluid","data-ad-client":"ca-pub-3487507367729662","data-ad-slot":"3539166782"}),"\n  ",(0,r.kt)("script",{parentName:"span"},"\n     (adsbygoogle = window.adsbygoogle || []).push({});\n  ")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"\u8bf4\u660e:")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"  \u53ea\u6709\u8fd9\u4e24\u79cd\uff0c\u4e14\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"promise"),"\u5bf9\u8c61\u53ea\u80fd\u6539\u53d8\u4e00\u6b21\uff0c"),(0,r.kt)("p",{parentName:"div"},"  \u65e0\u8bba\u53d8\u4e3a\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff0c\u90fd\u4f1a\u6709\u4e00\u4e2a\u7ed3\u679c\u6570\u636e"),(0,r.kt)("p",{parentName:"div"},"  \u6210\u529f\u7684\u7ed3\u679c\u6570\u636e\u4e00\u822c\u79f0\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"value"),",\u5931\u8d25\u7684\u7ed3\u679c\u6570\u636e\u4e00\u822c\u79f0\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"reason")),(0,r.kt)("p",{parentName:"div"},"  ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"\u4e00\u65e6\u65b0\u5efa\u5c31\u7acb\u523b\u6267\u884c, \u6b64\u65f6\u7684\u72b6\u6001\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"Pending"),"(\u8fdb\u884c\u4e2d)"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},".then"),"\u65b9\u6cd5\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"(onResoled,onRejected)=>{}"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"p.then(onFulfilled[, onRejected]);\n\np.then(value => {\n  // fulfillment\n}, reason => {\n  // rejection\n});\n")),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a\u6307\u5b9a\u7528\u4e8e\u5f97\u5230",(0,r.kt)("inlineCode",{parentName:"p"},"value"),"\u7684\u6210\u529f\u56de\u8c03\u548c\u7528\u4e8e\u5f97\u5230\u5931\u8d25",(0,r.kt)("inlineCode",{parentName:"p"},"reason"),"\u7684\u5931\u8d25\u56de\u8c03"),(0,r.kt)("h2",{id:"promise-\u57fa\u7840\u4f7f\u7528"},"promise \u57fa\u7840\u4f7f\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},"<script>\n        // promise\u57fa\u7840\u4f7f\u7528\n\n        // 1.\u521b\u5efa\u4e00\u4e2a\u65b0\u7684promise\u5bf9\u8c61\n        const p = new Promise((resolve, reject) => {//\u6267\u884c\u5668\u51fd\u6570,\u7528\u6765\u6267\u884c\u5f02\u6b65\u64cd\u4f5c\n            // 2. \u6267\u884c\u5f02\u6b65\u64cd\u4f5c\u4efb\u52a1\n            setTimeout(() => {\n                const time = Date.now()//\u5982\u679c\u5f53\u524d\u65f6\u95f4\u662f\u5076\u6570\u4ee3\u7801\u6210\u529f\uff0c\u5426\u5219\u5931\u8d25\n                if (time % 2 == 0) {\n                    // 3.1 \u5982\u679c\u6210\u529f\u4e86\uff0c\u8c03\u7528resolve(value)\n                    resolve('\u6210\u529f\u7684\u6570\u636e\uff0ctime=' + time);\n                } else {\n                    reject('\u5931\u8d25\u7684\u6570\u636e\uff0ctime=' + time);\n                    // 3.2 \u5982\u679c\u5931\u8d25\u4e86\uff0c\u8c03\u7528reject(reason)\n                }\n            }, 1000);\n        })\n        p.then(\n            value => {//\u63a5\u6536\u5f97\u5230\u6210\u529f\u7684value\u6570\u636e  OnResolved()\n                console.log('\u6210\u529f\u7684\u56de\u8c03', value);\n            },\n            reason => {//\u63a5\u6536\u5f97\u5230\u5931\u8d25\u7684reason\u6570\u636e OnRejected()\n                console.log('\u5931\u8d25\u7684\u56de\u8c03', reason);\n            }\n        )\n    <\/script>\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"then()"),(0,r.kt)("inlineCode",{parentName:"li"},"then()"),"\u65b9\u6cd5\u5305\u542b\u4e24\u4e2a\u53c2\u6570\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"onfulfilled")," \u548c ",(0,r.kt)("inlineCode",{parentName:"li"},"onrejected"),"\uff0c\u5b83\u4eec\u90fd\u662f ",(0,r.kt)("inlineCode",{parentName:"li"},"Function")," \u7c7b\u578b\u3002\u5f53",(0,r.kt)("inlineCode",{parentName:"li"},"Promise"),"\u72b6\u6001\u4e3a",(0,r.kt)("inlineCode",{parentName:"li"},"fulfilled"),"\u65f6\uff0c\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"then")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"onfulfilled"),"\u65b9\u6cd5\uff0c\u5f53",(0,r.kt)("inlineCode",{parentName:"li"},"Promise"),"\u72b6\u6001\u4e3a",(0,r.kt)("inlineCode",{parentName:"li"},"rejected"),"\u65f6\uff0c\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"then")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"onrejected")," \u65b9\u6cd5\uff0c \u6240\u4ee5\u5728\u5f02\u6b65\u64cd\u4f5c\u7684\u5b8c\u6210\u548c\u7ed1\u5b9a\u5904\u7406\u65b9\u6cd5\u4e4b\u95f4\u4e0d\u5b58\u5728\u7ade\u4e89")),(0,r.kt)("h2",{id:"promise-\u6d41\u7a0b\u56fe"},"promise \u6d41\u7a0b\u56fe"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://s1.ax1x.com/2020/09/01/djcyAs.png",alt:null})),(0,r.kt)("p",null,"\u5b98\u65b9\u56fe\n",(0,r.kt)("img",{parentName:"p",src:"https://s1.ax1x.com/2020/09/02/dzxvB8.png",alt:null})),(0,r.kt)("p",null,"\u56e0\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise.prototype.then")," \u548c  ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise.prototype.catch")," \u65b9\u6cd5\u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"promise")," \u5bf9\u8c61\uff0c \u6240\u4ee5\u5b83\u4eec\u53ef\u4ee5\u88ab\u94fe\u5f0f\u8c03\u7528"),(0,r.kt)("h2",{id:"\u4e3a\u5565\u7528promise\u5462"},"\u4e3a\u5565\u7528promise\u5462"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u7684\u65b9\u5f0f\u66f4\u52a0\u7075\u6d3b(\u548c\u65e7\u65b9\u6cd5\u7eaf\u56de\u8c03\u76f8\u6bd4)\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u65e7\u7684\uff1a\u5fc5\u987b\u5728\u542f\u52a8\u5f02\u6b65\u4efb\u52a1\u524d\u6307\u5b9a\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"promise"),"\uff1a\u542f\u52a8\u5f02\u6b65\u4efb\u52a1 => \u8fd4\u56de",(0,r.kt)("inlineCode",{parentName:"p"},"promise"),"\u5bf9\u8c61 => \u7ed9",(0,r.kt)("inlineCode",{parentName:"p"},"promise"),"\u5bf9\u8c61\u7ed1\u5b9a\u56de\u8c03\u51fd\u6570\uff08\u751a\u81f3\u53ef\u4ee5\u5728\u5f02\u6b65\u4efb\u52a1\u7ed3\u675f\u540e\u6307\u5b9a\uff09")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff0c\u53ef\u4ee5\u89e3\u51b3\u56de\u8c03\u5730\u72f1\u7684\u95ee\u9898"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4ec0\u4e48\u662f\u56de\u8c03\u5730\u72f1\uff1f")),(0,r.kt)("p",{parentName:"li"},"\u56de\u8c03\u51fd\u6570\u5d4c\u5957\u8c03\u7528\uff0c\u5916\u90e8\u56de\u8c03\u51fd\u6570\u5f02\u6b65\u6267\u884c\u7684\u7ed3\u679c\u662f\u5d4c\u5957\u7684\u56de\u8c03\u51fd\u6570\u6267\u884c\u7684\u6761\u4ef6\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u56de\u8c03\u5730\u72f1\u7684\u7f3a\u70b9\uff1f")),(0,r.kt)("p",{parentName:"li"},"\u4e0d\u4fbf\u4e8e\u9605\u8bfb / \u4e0d\u4fbf\u4e8e\u5f02\u5e38\u5904\u7406\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u89e3\u51b3\u65b9\u6848\uff1f")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"promise"),"\u94fe\u5f0f\u8c03\u7528\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u7ec8\u6781\u89e3\u51b3\u65b9\u6848\uff1f")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"async")," / ",(0,r.kt)("inlineCode",{parentName:"p"},"await"),"\u3002"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"        // \u6210\u529f\u7684\u56de\u8c03\u51fd\u6570\n        function successCallback(result) {\n            console.log('\u521b\u5efa\u6210\u529f' + result);\n        }\n        // \u5931\u8d25\u7684\u56de\u8c03\u51fd\u6570\n        function failureCallback(error) {\n            console.log('\u521b\u5efa\u5931\u8d25' + error)\n        }\n        // 1.1 \u4f7f\u7528\u7eaf\u56de\u8c03\u51fd\u6570\uff08\u4f2a\u4ee3\u7801\uff09\n        createAudioAsync(audioSettings, successCallback, failureCallback)\n        // 1.2 \u4f7f\u7528promise\n        const promise = createAudioAsync(audioSettings);\n        setTimeout(() => {\n            promise.then(successCallback, failureCallback)\n        }, 3000);\n")),(0,r.kt)("p",null,"\u56de\u8c03\u5730\u72f1"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," // 2.1\n        doSomething(function (result) {\n            // \u7b2c\u4e8c\u4e2a\u8bf7\u6c42\u9700\u8981\u4e0a\u4e2a\u8bf7\u6c42\u7684\u7ed3\u679c\n            doSomething(result, function (newResult) {\n                // \u7b2c\u4e09\u4e2a\u8bf7\u6c42\u9700\u8981\u4e0a\u4e2a\u8bf7\u6c42\u7684\u7ed3\u679c \u4ee5\u6b64\u7c7b\u63a8\uff0c\u5c42\u5c42\u5d4c\u5957\uff0c\u5730\u72f1\xb7\xb7\xb7\n                doThirdThing(newResult, function (finalResult) {\n                    console.log('got the final result:' + finalResult);\n                }, failureCallback)\n            }, failureCallback)\n        }, failureCallback)\n")),(0,r.kt)("p",null,"\u89e3\u51b3\u56de\u8c03\u5730\u72f1"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"        // 2.2 \u4f7f\u7528promise\u7684\u94fe\u5f0f\u8c03\u7528\u89e3\u51b3\u56de\u8c03\u5730\u72f1\n        doSomething().then(function (result) {\n            return doSomething(result)\n        })\n            .then(function (newResult) {\n                return doThirdThing(newResult)\n            })\n            .then(function (newResult) {\n                return doThirdThing(newResult)\n            })\n            .then(function (finalResult) {\n                console.log('got the final result:' + finalResult);\n            })\n            .catch(failureCallback)\n        // 2.3 async / await \u56de\u8c03\u5730\u72f1\u7684\u7ec8\u6781\u89e3\u51b3\u65b9\u6848\n        async function request() {\n            try {\n                const result = await doSomething();\n                const newResult = await doSomethingElse(result);\n                const finalResult = await doThirdThing(newResult)\n                console.log('got the final result:' + finalResult);\n\n            } catch (err) {\n                failureCallback(err)\n            }\n        }\n")),(0,r.kt)("h2",{id:"promise-\u7684-api"},"Promise \u7684 API"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Promise")," \u7684\u6784\u9020\u51fd\u6570:",(0,r.kt)("inlineCode",{parentName:"p"},"Promise(excutor) => {}")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"excutor"),"\u51fd\u6570\uff1a\u540c\u6b65\u6267\u884c",(0,r.kt)("inlineCode",{parentName:"li"},"(resolve,reject) => {}")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"resolve"),"\u51fd\u6570\uff1a\u5185\u90e8\u5b9a\u4e49\u6210\u529f\u65f6\u6211\u4eec\u8c03\u7528\u7684\u51fd\u6570 ",(0,r.kt)("inlineCode",{parentName:"li"},"value =>{}")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"reject")," \u51fd\u6570\uff1a\u5185\u90e8\u5b9a\u4e49\u5931\u8d25\u65f6\u6211\u4eec\u8c03\u7528\u7684\u51fd\u6570 ",(0,r.kt)("inlineCode",{parentName:"li"},"reason => {}")),(0,r.kt)("li",{parentName:"ul"},"\u8bf4\u660e\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"excutor"),"\u4f1a\u5728",(0,r.kt)("inlineCode",{parentName:"li"},"Promise"),"\u5185\u90e8\u7acb\u5373\u540c\u6b65\u56de\u8c03\uff0c\u5f02\u6b65\u64cd\u4f5c\u5728\u6267\u884c\u5668\u4e2d\u6267\u884c\u3002"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Promise.prototype.then()"),"\u65b9\u6cd5:",(0,r.kt)("inlineCode",{parentName:"p"},"(onResoled,onRejected)=>{}")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"onResolved"),"\u51fd\u6570\uff1a\u6210\u529f\u7684\u56de\u8c03\u51fd\u6570 ",(0,r.kt)("inlineCode",{parentName:"li"},"(value) => {}")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"onRejected"),"\u51fd\u6570\uff1a\u5931\u8d25\u7684\u56de\u8c03\u51fd\u6570 ",(0,r.kt)("inlineCode",{parentName:"li"},"(reason) => {}")),(0,r.kt)("li",{parentName:"ul"},"\u8bf4\u660e\uff1a\u6307\u5b9a\u7528\u4e8e\u5f97\u5230\u6210\u529f",(0,r.kt)("inlineCode",{parentName:"li"},"value"),"\u7684\u6210\u529f\u56de\u8c03\u548c\u7528\u4e8e\u5f97\u5230\u5931\u8d25",(0,r.kt)("inlineCode",{parentName:"li"},"reason"),"\u7684\u5931\u8d25\u56de\u8c03\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u5bf9\u8c61\u3002"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Promise.prototype.catch()"),"\u65b9\u6cd5\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"(onRejected) => {}")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"onRejected\u51fd\u6570\uff1a\u5931\u8d25\u7684\u56de\u8c03\u51fd\u6570(reason) => {}"),(0,r.kt)("li",{parentName:"ul"},"\u8bf4\u660e\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"then()"),"\u7684\u8bed\u6cd5\u7cd6\uff0c\u76f8\u5f53\u4e8e ",(0,r.kt)("inlineCode",{parentName:"li"},"then(undefined,onReaected)")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Promise.prototype.finally()"),"\u65b9\u6cd5\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"p.finally(onFinally)"),";"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Promise"),"\u7ed3\u675f\u540e\u8c03\u7528\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"Function"),"\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u8bf4\u660e\uff1a\u60f3\u5728 ",(0,r.kt)("inlineCode",{parentName:"li"},"promise")," \u6267\u884c\u5b8c\u6bd5\u540e\u65e0\u8bba\u5176\u7ed3\u679c\u600e\u6837\u90fd\u505a\u4e00\u4e9b\u5904\u7406\u6216\u6e05\u7406\u65f6\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"finally()")," \u65b9\u6cd5\u53ef\u80fd\u662f\u6709\u7528\u7684\uff0c\u548c",(0,r.kt)("inlineCode",{parentName:"li"},".then(onFinally, onFinally)")," \u7c7b\u4f3c\uff0c\u4f46\u8fd8\u662f\u6709\u533a\u522b\u7684\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"finally"),"\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u4e0d\u63a5\u6536\u4efb\u4f55\u53c2\u6570\uff0c\u5b83\u4ec5\u7528\u4e8e\u65e0\u8bba\u6700\u7ec8\u7ed3\u679c\u5982\u4f55\u90fd\u8981\u6267\u884c\u7684\u60c5\u51b5\u3002",(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/finally"},"\u8be6\u60c5")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Promise.resolve()"),"\u65b9\u6cd5\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"(value) => {}"),"\uff08\u8bed\u6cd5\u7cd6\uff09"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"value"),":\u6210\u529f\u7684\u6570\u636e\u6216",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u5bf9\u8c61"),(0,r.kt)("li",{parentName:"ul"},"\u8bf4\u660e\uff1a\u8fd4\u56de\u4e00\u4e2a\u6210\u529f\u6216\u8005\u5931\u8d25\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u5bf9\u8c61"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Promise.reject()"),"\u65b9\u6cd5\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"(reason) => {}"),"\uff08\u8bed\u6cd5\u7cd6\uff09"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"reason"),":\u5931\u8d25\u7684\u539f\u56e0"),(0,r.kt)("li",{parentName:"ul"},"\u8bf4\u660e\uff1a\u8fd4\u56de\u4e00\u4e2a\u5931\u8d25\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u5bf9\u8c61"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Promise.all()"),"\u65b9\u6cd5\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"([promise]) => {}"),"\uff08",(0,r.kt)("inlineCode",{parentName:"p"},"promise"),"\u51fd\u6570\u5bf9\u8c61\u7684\u65b9\u6cd5\uff09"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\uff1a\u5305\u542bn\u4e2a",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u5bf9\u8c61\u7684\u6570\u7ec4"),(0,r.kt)("li",{parentName:"ul"},"\u8bf4\u660e\uff1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\uff0c\u5f53\u6240\u6709\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u90fd\u6210\u529f\u4e86\u624d\u6210\u529f\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u5931\u8d25\uff0c\u5c31\u76f4\u63a5\u5931\u8d25\u3002"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Promise.race")," \u65b9\u6cd5:",(0,r.kt)("inlineCode",{parentName:"p"},"([promise]) => {}")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\uff1a\u5305\u542bn\u4e2a",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u5bf9\u8c61\u7684\u6570\u7ec4"),(0,r.kt)("li",{parentName:"ul"},"\u8bf4\u660e\uff1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\uff0c\u5f53\u6700\u5148\u5b8c\u6210\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"promise"),"\u5bf9\u8c61\u7684\u7ed3\u679c\u72b6\u6001\u5c31\u662f\u6700\u7ec8\u7684\u7ed3\u679c\u72b6\u6001\u3002")))),(0,r.kt)("h2",{id:"promise-\u4f7f\u7528"},"Promise \u4f7f\u7528"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5e38\u89c4\u5199\u6cd5")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"}," new Promise((resolve, reject) => {\n            // \u5728\u8fd9\u5199\u5f02\u6b65\u4ee3\u7801\n            setTimeout(() => {\n                // \u6210\u529f\u548c\u5931\u8d25\u53ea\u4f1a\u6267\u884c\u4e00\u4e2a\uff08pending\u53ea\u8f6c\u6362\u4e00\u6b21\uff09\n                // resolve('\u6210\u529f\u7684\u6570\u636e');\n                reject('\u5931\u8d25\u7684\u56de\u8c03');\n            }, 1000);\n        }).then(value => {\n            console.log('onResolved()1', value);\n        }).catch(reason => {\n            console.log('onRejected()1', reason);\n        })\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Promise")," \u8bed\u6cd5\u7cd6")),(0,r.kt)("p",null,"\u8bed\u6cd5\u7cd6\uff1a\u5c31\u662f\u7528\u7b80\u77ed\u7684\u4ee3\u7801\u66ff\u6362\u5197\u4f59\u7684\u4ee3\u7801\uff0c\u4f46\u529f\u80fd\u5b9e\u73b0\u662f\u4e00\u6837\u7684\uff0c\u4f7f\u7528\u66f4\u65b9\u4fbf\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"        // \u4ea7\u751f\u4e00\u4e2a\u503c\u4e3a1\u7684promise\u5bf9\u8c61\n        const p1 = new Promise((resolve, reject) => {\n            resolve(1)\n        })\n        // \u4ea7\u751f\u4e00\u4e2a\u503c\u4e3a2\u7684promise\u5bf9\u8c61(\u8bed\u6cd5\u7cd6)\n        const p2 = Promise.resolve(2)\n        // \u4ea7\u751f\u8981\u4e00\u4e2a\u503c\u4e3a3\u7684promise\u5bf9\u8c61\n        const p3 = Promise.reject(3)\n\n        // \u8f93\u51fa\u7ed3\u679c\n        p1.then(value => { console.log('p1' + value); })\n        p2.then(value => { console.log('p2' + value); })\n        p3.catch(reason => { console.log('p3' + reason); })\n        // \u5176\u5b9e\u4ee5\u4e0b\u4ee3\u7801\u7b49\u4ef7\u4e8e\u4e0a\u9762\u4e00\u884c\n        p3.then(null, reason => { console.log('p3' + reason); })\n")),(0,r.kt)("h2",{id:"promise-\u51fd\u6570\u5bf9\u8c61\u7684\u65b9\u6cd5-all-race"},"Promise \u51fd\u6570\u5bf9\u8c61\u7684\u65b9\u6cd5 ",(0,r.kt)("inlineCode",{parentName:"h2"},".all()")," ",(0,r.kt)("inlineCode",{parentName:"h2"},".race()")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5931\u8d25\u7684\u7ed3\u679c")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"        const p1 = new Promise((resolve, reject) => { resolve(1)  })\n        const p2 = Promise.resolve(2)\n        const p3 = Promise.reject(3)\n        // \u6240\u6709\u7684\u8bf7\u6c42\u90fd\u6210\u529f\uff0c\u8fd4\u56de\u6210\u529f\uff0c\u6709\u4e00\u4e2a\u5931\u8d25\uff0c\u5168\u90e8\u5931\u8d25\n        const pAll = Promise.all([p1, p2, p3]);\n        pAll.then(\n            reason => { console.log('all onRejected', reason); }\n        )\n        // \u7ed3\u679c\u662f 3 ,\u8fd4\u56de\u7684\u662f\u6267\u884c\u5931\u8d25\u7684promise\u5bf9\u8c61\u7684\u5931\u8d25\u539f\u56e0\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6210\u529f\u7684\u7ed3\u679c \u548c \u6210\u529f\u540e\u503c\u7684\u987a\u5e8f\u60c5\u51b5")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"        const pAll = Promise.all([p1, p2]);\n        pAll.then(\n            values => { console.log('all onResolved', values); },\n            // values \u7684\u987a\u5e8f\u548c.all([])\u91cc\u6570\u7ec4\u7684\u987a\u5e8f\u6709\u5173\uff0c\u548c\u6267\u884c\u5b8c\u6210\u7684\u5148\u540e\u987a\u5e8f\u65e0\u5173\n            // reason => { console.log('all onRejected', reason); }\n        )\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5b8c\u6210\u65f6\u95f4\u6700\u5feb\u7684\u4e3a\u6700\u7ec8\u7684\u7ed3\u679c")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"        // race \u770b\u6700\u5148\u6267\u884c\u5b8c\u6210\u7684\u7ed3\u679c\u662f\u6210\u529f\u8fd8\u662f\u5931\u8d25\n        const p1 = new Promise((resolve, reject) => {\n            setTimeout(() => {\n                resolve(1)\n            }, 100);\n        })\n        const p2 = Promise.resolve(2)\n        const p3 = Promise.reject(3)\n        const pRace = Promise.race([p1, p2, p3])\n        pRace.then(\n            value => { console.log('race onResolved', value); },\n            reason => { console.log('race onRejected', reason); }\n        )\n        // \u7ed3\u679c\u4e3a 2\n")),(0,r.kt)("h2",{id:"\u94fe\u5f0f\u8c03\u7528"},"\u94fe\u5f0f\u8c03\u7528"),(0,r.kt)("p",null,"\u5bf9\u8bf7\u6c42\u7684\u7ed3\u679c\u518d\u6b21\u5904\u7406"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve('aaa')\n      }, 1000)\n    }).then(res => {\n      // 1.\u81ea\u5df1\u5904\u740610\u884c\u4ee3\u7801\n      console.log(res, '\u7b2c\u4e00\u5c42\u768410\u884c\u5904\u7406\u4ee3\u7801');\n      // 2.\u5bf9\u7ed3\u679c\u8fdb\u884c\u7b2c\u4e00\u6b21\u5904\u7406\n      return new Promise((resolve) => {\n        resolve(res + '111')\n      })\n    }).then(res => {\n      console.log(res, '\u7b2c\u4e8c\u5c42\u768410\u884c\u5904\u7406\u4ee3\u7801');\n      return new Promise(resolve => {\n        resolve(res + '222')\n      })\n    }).then(res => {\n      console.log(res, '\u7b2c\u4e09\u5c42\u768410\u884c\u5904\u7406\u4ee3\u7801');\n    })\n\n")),(0,r.kt)("p",null,"\u7b80\u5199"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve('aaa')\n      }, 1000)\n    }).then(res => {\n      // 1.\u81ea\u5df1\u5904\u740610\u884c\u4ee3\u7801\n      console.log(res, '\u7b2c\u4e00\u5c42\u768410\u884c\u5904\u7406\u4ee3\u7801');\n      // 2.\u5bf9\u7ed3\u679c\u8fdb\u884c\u7b2c\u4e00\u6b21\u5904\u7406\n      return Promise.resolve(res + '111')\n    }).then(res => {\n      console.log(res, '\u7b2c\u4e8c\u5c42\u768410\u884c\u5904\u7406\u4ee3\u7801');\n      return Promise.resolve(res + '222')\n    }).then(res => {\n      console.log(res, '\u7b2c\u4e09\u5c42\u768410\u884c\u5904\u7406\u4ee3\u7801');\n    })\n")),(0,r.kt)("p",null,"\u518d\u7b80\u5199"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve('aaa')\n      }, 1000)\n    }).then(res => {\n      // 1.\u81ea\u5df1\u5904\u740610\u884c\u4ee3\u7801\n      console.log(res, '\u7b2c\u4e00\u5c42\u768410\u884c\u5904\u7406\u4ee3\u7801');\n      // 2.\u5bf9\u7ed3\u679c\u8fdb\u884c\u7b2c\u4e00\u6b21\u5904\u7406\n      return res + '111'\n    }).then(res => {\n      console.log(res, '\u7b2c\u4e8c\u5c42\u768410\u884c\u5904\u7406\u4ee3\u7801');\n      return res + '222'\n    }).then(res => {\n      console.log(res, '\u7b2c\u4e09\u5c42\u768410\u884c\u5904\u7406\u4ee3\u7801');\n    })\n")),(0,r.kt)("h2",{id:"\u82f1\u6587\u91ca\u4e49"},"\u82f1\u6587\u91ca\u4e49"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"resolved")," adj:\u4e0b\u5b9a\u51b3\u5fc3\u7684,\u89e3\u51b3"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"fulfilled")," adj:\u5c65\u884c\uff1b\u6ee1\u8db3"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"rejected")," adj: \u88ab\u62d2\u7684\uff1b\u4e0d\u5408\u683c\u7684 | v. \u62d2\u7edd\uff0c\u9a73\u56de"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"reason")," adj:\u539f\u56e0,\u7406\u7531"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"race")," adj:\u7ade\u8d5b,\u8fd9\u91cc\u8868\u793a",(0,r.kt)("strong",{parentName:"p"},"\u6700\u5feb\u7684\u9879")),(0,r.kt)("span",null,"\n    ",(0,r.kt)("ins",{parentName:"span",className:"adsbygoogle",style:{display:"block",textAlign:"center"},"data-ad-layout":"in-article","data-ad-format":"fluid","data-ad-client":"ca-pub-3487507367729662","data-ad-slot":"1964508460"}),"\n  ",(0,r.kt)("script",{parentName:"span"},"\n     (adsbygoogle = window.adsbygoogle || []).push({});\n  ")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"throw")," adj:\u629b\u51fa"))}k.isMDXComponent=!0}}]);